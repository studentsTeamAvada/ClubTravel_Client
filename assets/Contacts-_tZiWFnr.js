import{H as i,$ as r}from"./header-hKMkfisA.js";import{F as o}from"./footer-IAc-lwRp.js";import{v as l,A as s}from"./AsYouType-tMofdmCx.js";class u{footer;constructor(){this.footer=new o,this.init()}init(){this.validateForm(),this.inputMask()}validateForm(){const a=r("#form");r.validator.addMethod("laxEmail",function(e){return/^(?!.*\.\.)[\w.-]{3,20}@[\wа-я.][\wа-я.-]{1,20}[\wа-я.]\.[a-z]{2,10}/.test(e)},"Введите корректный email"),r.validator.addMethod("min",function(e){return/\+380/.test(e)?e.replace(/ |\+/g,"").length>=12:e.replace(/ |\+/g,"").length>=10},"Номер должен состоять из 10 цифр"),a.validate({rules:{phone:{required:!0,min:!0},main:{laxEmail:!0,required:!0,minlength:13}},messages:{phone:{required:"Введите номер"},main:{required:"Введите почту",minlength:"Номер должен состоять из 10 цифр"}},highlight:function(e,t,n){return r(e).addClass("border-error").removeClass(n)},unhighlight:function(e,t,n){return r(e).addClass(n).removeClass("border-error")},submitHandler(e){alert("Мы скоро с вами свяжемся"),r(e).trigger("reset")}})}inputMask(){document.querySelectorAll("input[name='phone']").forEach(e=>{const t=e;t.addEventListener("input",()=>{t.value.length===1&&(t.value="+"+t.value,t.value==="+0"&&(t.value="+380")),l(t.value+"0")==="TOO_LONG"&&(t.value=t.value.slice(0,-1)),t.value=new s().input(t.value)})})}}document.addEventListener("DOMContentLoaded",()=>{new u,new i});
