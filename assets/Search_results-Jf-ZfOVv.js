import{$ as c,a as Pe,H as Ee}from"./header-CGHlbq-5.js";import{g as Ae,c as Ue,a as Ve}from"./index.esm2017-Kikq7U2_.js";import{R as Le,d as De}from"./swiper-3ZbHupTH.js";import{A as Gt}from"./air-datepicker-URHyHg9Y.js";import{P as Me}from"./preloader-t9H2ZNYp.js";class Be{filterRow;destinationCurrent;dateCurrent;durationCurrent;constructor(){this.filterRow=c(".category__filter-row"),this.destinationCurrent=c(".info__destination-current"),this.dateCurrent=c(".info__date-current"),this.durationCurrent=c(".info__duration-current"),this.init()}init(){this.accordion(),this.activeFilter(),this.addActiveClassForStar(),this.addActiveClassForMeals(),this.addActiveClassForTour(),this.addActiveClassForDeparture(),this.addTextForCurrents()}accordion(){c(".search__btn").on("click",function(){c(".search__row-bottom").addClass("search__row-bottom_active"),c(".search__btn-close").removeClass("search__btn-close_act"),c(".search__line").removeClass("search__line_act")}),c(".search__btn-close").on("click",function(){c(".search__row-bottom").removeClass("search__row-bottom_active"),c(".search__btn-close").addClass("search__btn-close_act"),c(".search__line").addClass("search__line_act"),console.log(123)})}activeFilter(){new URLSearchParams(window.location.search).forEach((s,n)=>{switch(n){case"isStar":this.rating(s);break;case"isMeals":this.meals(s);break;case"isTour":this.tours(s);break;case"isRegion":this.region(s);break;case"flight":this.flight(s);break;case"departure":this.departure(s);break}})}rating(t){const s={2:"3 звезды",3:"4 звезды",4:"5 звезд",5:"Апартаменты"};s[t]&&this.filterRow.append(`<div class="category__filter-rating">
          <h3 class="category__filter-title">Рейтинг</h3>
          <p class="category__filter-text">${s[t]}</p>
        </div>`)}meals(t){const s={1:"Без питания",2:"Завтрак",3:"Завтрак и ужин",4:"Завтрак, обед, ужин",5:"Всё включено",6:"Ультра все включено"};s[t]&&this.filterRow.append(`<div class="category__filter-meals">
          <h3 class="category__filter-title">Питание</h3>
          <p class="category__filter-text">${s[t]}</p>
        </div>`)}tours(t){t==="true"&&this.filterRow.append(`<div class="category__filter-tour">
          <h3 class="category__filter-title">Состав тура</h3>
          <p class="category__filter-text">Туристический пакет</p>
        </div>`)}flight(t){t==="true"&&this.filterRow.append(`<div class="category__filter-tour">
          <h3 class="category__filter-title">Состав тура</h3>
          <p class="category__filter-text">Только перелет</p>
        </div>`)}region(t){const s=c(".category__filter-row"),n={1:"Шарм-эль-Шейх",2:"Хургада",3:"Дубай",4:"Абу-Даби",5:"Бангкок",6:"Хуа Хин",7:"Солнечный берег",8:"Золотые пески",9:"Будва",10:"Свети Стефан",11:"Бали",13:"Батумі",15:"Родос",17:"Мармарис",19:"Пафос",21:"Сусс",23:"Тенерифе",25:"Буковуль",27:"Улудаг",28:"Бансько",29:"Інше"};n[t]&&s.append(`
          <div class="category__filter-region">
            <h3 class="category__filter-title">Регион</h3>
            <p class="category__filter-text">${n[t]}</p>
          </div>
        `)}departure(t){const s={1:"Киев",2:"Львов"};s[t]&&this.filterRow.append(`<div class="category__filter-flying">
          <h3 class="category__filter-title">Вылет из</h3>
          <p class="category__filter-text">${s[t]}</p>
        </div>`)}addActiveClassForStar(){const s=new URLSearchParams(window.location.search).get("isStar"),n={2:"three",3:"four",4:"five",5:"apart"};s&&n[s]&&c(`.category__btns-stars[data-stars="${n[s]}"]`).addClass("category__btns-stars_act")}addActiveClassForMeals(){const s=new URLSearchParams(window.location.search).get("isMeals"),n={1:"ao",2:"bb",3:"hb",4:"fb",5:"ai",6:"uai"};s&&n[s]&&c(`.category__btns-meals[data-meals="${n[s]}"]`).addClass("category__btns-meals_act")}addActiveClassForTour(){const t=new URLSearchParams(window.location.search),s=t.get("isTour"),n=t.get("flight");s==="true"?c('.category__btns-tour[data-tour="tour"]').addClass("category__btns-tour_act"):n==="true"&&c('.category__btns-tour[data-tour="fly"]').addClass("category__btns-tour_act")}addActiveClassForDeparture(){const s=new URLSearchParams(window.location.search).get("departure"),n={1:"kiev",2:"lviv"};s&&n[s]&&c(`.category__btns-city[data-city="${n[s]}"]`).addClass("category__btns-city_act")}addTextForCurrents(){const t=new URLSearchParams(window.location.search),s=t.get("isCountry"),n=t.get("isDuration"),o=t.get("date"),h=t.get("adults"),u=t.get("kids"),p=t.get("years"),g=p?p.match(/\d+ \D+/g):[],m={0:"Все направления",1:"Египет",2:"ОАЭ",3:"Таиланд",4:"Болгария",5:"Черногория",6:"Индонезия",7:"Грузия",8:"Греция",9:"Турция",10:"Кипр",11:"Тунис",12:"Испания",13:"Украина"},S={1:"3 ночи",2:"7 ночей",3:"10 ночей",4:"14 ночей",5:"21 ночь"};n&&S[n]?this.durationCurrent.text(S[n]):this.durationCurrent.text()===""&&this.durationCurrent.text("Длительность"),s&&m[s]?this.destinationCurrent.text(m[s]):this.destinationCurrent.text()===""&&this.destinationCurrent.text("Направление"),o?(this.dateCurrent.text(o),console.log(o)):this.dateCurrent.text()===""&&this.dateCurrent.text("Дата"),h||u?(c(".info__guests-counter").text(h!==null?h:""),c(".info__guests-subcounter").text(u!==null?u:""),c(".info__guests-counters_adults").text(h!==null?h:""),c(".info__guests-counters_kids").text(u!==null?u:"")):(c(".info__guests-counters_adults").text("0"),c(".info__guests-counters_kids").text("0")),c(document).ready(function(){g&&c.each(g,function(x,w){c(".info__guests-item-current").eq(x).text(w)})})}}var H=(e=>(e[e.All=0]="All",e[e.Egypt=1]="Egypt",e[e.AOE=2]="AOE",e[e.Thailand=3]="Thailand",e[e.Bulgaria=4]="Bulgaria",e[e.Chornogoria=5]="Chornogoria",e[e.Indonesia=6]="Indonesia",e[e.Georgia=7]="Georgia",e[e.Greece=8]="Greece",e[e.Turkey=9]="Turkey",e[e.Cyprus=10]="Cyprus",e[e.Tunisia=11]="Tunisia",e[e.Spain=12]="Spain",e[e.Ukraine=13]="Ukraine",e))(H||{}),k=(e=>(e[e.All=0]="All",e[e.SharmElSheikh=1]="SharmElSheikh",e[e.Hurghada=2]="Hurghada",e[e.Dubai=3]="Dubai",e[e.AbuDhabi=4]="AbuDhabi",e[e.Bangkok=5]="Bangkok",e[e.KuahHin=6]="KuahHin",e[e.SunnyBeach=7]="SunnyBeach",e[e.GoldenSands=8]="GoldenSands",e[e.Budva=9]="Budva",e[e.StefanBridge=10]="StefanBridge",e[e.Bali=11]="Bali",e[e.Batumi=13]="Batumi",e[e.Rodos=15]="Rodos",e[e.Marmaris=17]="Marmaris",e[e.Paphos=19]="Paphos",e[e.Suss=21]="Suss",e[e.Tenerife=23]="Tenerife",e[e.Majorca=24]="Majorca",e[e.Bukovyn=25]="Bukovyn",e[e.Uldag=27]="Uldag",e[e.Bansko=28]="Bansko",e[e.Borovets=29]="Borovets",e))(k||{}),K=(e=>(e[e.all=0]="all",e[e.ao=1]="ao",e[e.bb=2]="bb",e[e.hb=3]="hb",e[e.fb=4]="fb",e[e.ai=5]="ai",e[e.uai=6]="uai",e))(K||{}),Y=(e=>(e[e.all=0]="all",e[e.three=2]="three",e[e.four=3]="four",e[e.five=4]="five",e[e.apart=5]="apart",e))(Y||{}),z=(e=>(e[e.all=0]="all",e[e.three=1]="three",e[e.seven=2]="seven",e[e.ten=3]="ten",e[e.fourteen=4]="fourteen",e[e.twentyOne=5]="twentyOne",e))(z||{}),Q=(e=>(e[e.all=0]="all",e[e.kiev=1]="kiev",e[e.lviv=2]="lviv",e))(Q||{});class W{dropdown;dropdownRow;dropdownList;dropdownItems;dropdownCurrent;dropdownIcon;urlParam;currentUrl;constructor(t){this.dropdown=c(t),this.dropdownRow=this.dropdown.find(".dropdown__row"),this.dropdownList=this.dropdown.find(".dropdown__list"),this.dropdownItems=this.dropdown.find(".dropdown__item"),this.dropdownCurrent=this.dropdown.find(".dropdown__current"),this.dropdownIcon=this.dropdown.find(".dropdown__icon"),this.init()}init(){this.urlParam=new URLSearchParams(window.location.search),this.currentUrl=this.urlParam.get("isCountry"),this.toggleDropdown(),this.dropdownObserver()}toggleDropdown(){this.dropdownRow.on("click",()=>{this.dropdownList.toggleClass("dropdown__list_show"),this.dropdownIcon.toggleClass("dropdown__icon_rotate")}),this.dropdownItems.on("click",t=>{this.dropdownCurrent.text(c(t.target).text()),this.dropdownList.removeClass("dropdown__list_show"),this.dropdownIcon.removeClass("dropdown__icon_rotate")}),c(document).on("click",t=>{const s=this.dropdown.is(t.target),n=this.dropdown.has(t.target).length===0;!s&&n&&(this.dropdownList.removeClass("dropdown__list_show"),this.dropdownIcon.removeClass("dropdown__icon_rotate"))})}dropdownObserver(){const t={rootMargin:"0px 0px -250px 0px",threshold:1};new IntersectionObserver(this.callback.bind(this),t).observe(this.dropdown[0])}callback(t){t.forEach(s=>{s.isIntersecting?this.dropdownList.css("top",`${this.dropdownRow.outerHeight()}px`):this.dropdownList.css("top",`-${this.dropdownList.outerHeight()}px`)})}changeCurrentVal(t){this.dropdownCurrent.text(t)}}class He{constructor(){}initCalendar(){const t=document.querySelectorAll(".result__header-slide"),s=new Date,n=s.getMonth(),o=s.getFullYear();t.forEach(function(h,u){const p=document.createElement("div");p.id="calendar-"+u,h.appendChild(p);const g=new Date(o,n+u+1,1);new Gt("#"+p.id,{inline:!0,startDate:g})})}}new W(".info__destination-select");new W(".info__duration-select");new W(".info__date-select");new W(".info__guests-select");new W(".info__guests-select");class J{countryArr;filterArr;constructor(){this.countryArr=[],this.filterArr=[],this.init()}async init(){await this.getCountry()}bindEvents(t,s,n){window.addEventListener(t,()=>this.restoreFilterFromUrl(s,n))}restoreFilterFromUrl(t,s){const o=new URLSearchParams(window.location.search).get(t);o&&this.filterByKeyValue(t,+o,s)}async getCountry(){const t=Ae(Pe),s=Ue(t,"hotels");try{const n=await Ve(s);this.countryArr=n.docs.map(o=>({...o.data(),id:o.id})),localStorage.setItem("countryArr",JSON.stringify(this.countryArr))}catch(n){console.error("Error getting documents: ",n)}}filterByKeyValue(t,s,n,o,h){s===n?this.filterArr=this.countryArr:t==="price"?this.filterArr=this.countryArr.filter(p=>p.price.some(g=>g>=(o??0)&&g<=(h??0))):this.filterArr=this.countryArr.filter(p=>p[t]===s),this.renderHotels(this.filterArr),this.renderRegions(this.filterArr),this.renderInfo(this.filterArr),new Le;const u=new URL(window.location.href);u.searchParams.set(t,s.toString()),window.history.pushState({},"",u.toString()),console.log(1)}removeParametersFromUrl(t){const s=new URL(window.location.href);for(const n of t)s.searchParams.delete(n);window.history.replaceState({},"",s.toString())}renderHotels(t){t.length>0?(c(".result__content").html(""),t.forEach(s=>{const n=s.star;let o="";for(let p=0;p<n;p++)o+='<svg><use xlink:href="#star"></use></svg>';const h=s.id,u=`
                <div class="result__hotel">
                    <div class="result__slider">
                        <div class="swiper result__swiper">
                            <div class="swiper-wrapper result__wrapper">
                                <div class="swiper-slide result__slide">
                                    <picture>
                                        <source srcset="${s.img[0].urlWebp}" type="image/webp"/>
                                        <img src="${s.img[0].url}" alt="photo"/>
                                    </picture>
                                </div>

                                <div class="swiper-slide result__slide">
                                    <picture>
                                        <source srcset="${s.img[1].urlWebp}" type="image/webp"/>
                                        <img src="${s.img[1].url}" alt="photo"/>
                                    </picture>
                                </div>

                                <div class="swiper-slide result__slide">
                                    <picture>
                                        <source srcset="${s.img[2].urlWebp}" type="image/webp"/>
                                        <img src="${s.img[2].url}" alt="photo"/>
                                    </picture>
                                </div>

                                <div class="swiper-slide result__slide">
                                    <picture>
                                        <source srcset="${s.img[3].urlWebp}" type="image/webp"/>
                                        <img src="${s.img[3].url}" alt="photo"/>
                                    </picture>
                                </div>

                                <div class="swiper-slide result__slide">
                                    <picture>
                                        <source srcset="${s.img[4].urlWebp}" type="image/webp"/>
                                        <img src="${s.img[4].url}" alt="photo"/>
                                    </picture>
                                </div>
                            </div>

                            <div class="swiper-button-next result__btn-next">
                                <svg><use xlink:href="#chevron-left"></use></svg>
                            </div>

                            <div class="swiper-button-prev result__btn-prev">
                                <svg><use xlink:href="#chevron-left"></use></svg>
                            </div>
                        </div>
                    </div>

                    <div class="result__row">
                        <div class="result__info">
                            <div class="result__info-item">
                                <h4 class="result__info-title">${s.name}</h4>

                                <div class="result__info-location">
                                    <svg><use xlink:href="#point"></use></svg>
                                    <p class="result__info-country">${s.country},</p>
                                    <p class="result__info-region">${s.region}</p>
                                </div>

                                <p class="result__info-descript">${s.description[0].main}</p>
                            </div>
                            <div class="result__info-subitem">
                                <a class="result__info-link" href="hotel.html?id=${h}">
                                    Подробнее об отеле
                                    <svg><use xlink:href="#arrow-right"></use></svg>
                                </a>
                            </div>
                        </div>

                        <div class="result__rating">
                            <div class="result__rating-item">
                                <div class="result__rating-star">${o}</div>
                                <div class="result__rating-subitem">
                                    <p class="result__rating-duration">
                                        <svg><use xlink:href="#clock"></use></svg>
                                        ${s.duration}
                                    </p>

                                    <p class="result__rating-meal">
                                        <svg><use xlink:href="#food"></use></svg>
                                        ${s.meals}
                                    </p>

                                    <p class="result__rating-room">
                                        <svg><use xlink:href="#house"></use></svg>
                                        ${s.room[0]}
                                    </p>

                                    <p class="result__rating-beach">
                                        <svg><use xlink:href="#sun"></use></svg>
                                        ${s.beach}
                                    </p>
                                </div>
                            </div>
                            <div class="result__price">
                                <p class="result__price-num">
                                    <span>${s.room.length}</span> предложения от
                                    <span>${s.price[0]}€</span><span>/чел</span>
                                </p>
                                <button class="result__price-btn">Открыть</button>
                            </div>
                        </div>
                    </div>

                </div>
                <table class="result__table table table_act">
                <thead   ad class="table__thead">
                    <tr class="table__tr">
                        <th class="table__th">Дата</th>
                        <th class="table__th">Период</th>
                        <th class="table__th">Питание</th>
                        <th class="table__th">Тип номера</th>
                        <th class="table__th">Стоимость</th>
                    </tr>
                </thead>
                <tbody class="table__tbody">
                    ${Array.isArray(s.room)?s.room.map(p=>`
                        <tr class="table__tr">
                            <td class="table__td">${s.date}</td>
                            <td class="table__td">${s.duration}</td>
                            <td class="table__td">${s.meals}</td>
                            <td class="table__td">${p}</td>
                            <td class="table__td">${s.price[0]}€<span>/чел</span></td>
                            <td class="table__td"><button class="table__link">выбрать</button></td>
                        </tr>
                        <tr class="table__sub-tbody">
                            <td class="table__sub-td" colspan="6"> <hr class="table__line"></td>
                        </tr>
                    `).join(""):""}
                </tbody>
            </table>
                `;c(".result__content").append(u)})):c(".result__content").html(`
            <div class="result__not-found">
              <h2 class="result__not-found-title">По вашему запросу ничего не найдено</h2>
              <p class="result__not-found-text">Попробуйте изменить параметры поиска</p>
            </div>`),c(".result__price button").on("click",function(){c(this).toggleClass("result__price-btn_act"),c(this).closest(".result__price").toggleClass("result__price_act"),c(".table").toggleClass("table_act")})}renderRegions(t){c(".category__regions-item").html(""),t.forEach(s=>{const n=`
    <button data-region="${s.region}" class="category__btns category__btns-regions">
      <svg>
        <use xlink:href="#check-circle"></use>
      </svg>
      ${s.region}
    </button>`;c(".category__regions-item").append(n)}),this.selectRegion(),c(".category__regions-item").children().length>5?c(".category__regions-item").removeClass("category__regions-item_change"):c(".category__regions-item").addClass("category__regions-item_change")}renderInfo(t){c(".result__header").html(""),c(".result__calendar").html("");const s=t.length,o=`
    <h3 class="result__header-title">
      Найдено <span class="result__header-offers">${t.reduce((u,p)=>u+p.room.length,0)}</span> предложения в
      <span class="result__header-hotel">${s}</span>
      отелях
    </h3>
    
    <div class="result__header-item">
    <div class="result__header-calendar">
      <button class="result__header-btn">
        <img src="./src/images/calendarOne.svg" alt="Calendar" />
        Цены на календаре
      </button>

    </div>

    <div class="result__header-sort">
      <p class="result__header-text">Сортировать:</p>
      <div class="result__header-subitem">
        <div class="result__header-select dropdown">
          <div class="result__header-row dropdown__row">
            <p class="result__header-current dropdown__current">Цена</p>
            <svg class="result__header-icon dropdown__icon">
              <use xlink:href="#chevron-left"></use>
            </svg>
          </div>
          <ul class="result__header-list dropdown__list">
            <li class="dropdown__item">От дешевых к дорогим</li>
            <li class="dropdown__item">От дорогих к дешевым</li>
          </ul>
        </div>

        <div class="result__header-subselect dropdown">
          <div class="result__header-subrow  dropdown__row">
            <p class="result__header-subcurrent result__header-current-rating dropdown__current">Рейтинг</p>
            <svg class="result__header-subicon dropdown__icon">
              <use xlink:href="#chevron-left"></use>
            </svg>
          </div>
          <ul class="result__header-sublist dropdown__list">
            <li class="dropdown__item">Возрастающий</li>
            <li class="dropdown__item">Убывающий</li>
          </ul>
        </div>

      </div>
    </div>
  </div>

    `,h=`
    <div class="result__header-slider">
    <div class="result__header-swiper swiper">
      <div class="result__header-wrapper swiper-wrapper">
        <div class="result__header-slide swiper-slide"></div>
        <div class="result__header-slide swiper-slide"></div>
        <div class="result__header-slide swiper-slide"></div>
        <div class="result__header-slide swiper-slide"></div>
        <div class="result__header-slide swiper-slide"></div>
        <div class="result__header-slide swiper-slide"></div>
        <div class="result__header-slide swiper-slide"></div>
        <div class="result__header-slide swiper-slide"></div>
        <div class="result__header-slide swiper-slide"></div>
        <div class="result__header-slide swiper-slide"></div>
        <div class="result__header-slide swiper-slide"></div>
        <div class="result__header-slide swiper-slide"></div>
      </div>

      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  </div>
    `;c(".result__header").append(o),c(".result__calendar").append(h),new W(".result__header-select"),new W(".result__header-subselect"),new He().initCalendar(),new De().swiperCalendar()}selectRegion(){c(".category__btns-regions").on("click",t=>{const s=c(t.currentTarget).data("region"),n=this.regionToNumber(s);this.filterByKeyValue("isRegion",n,k.All)})}regionToNumber(t){switch(t){case"Шарм-эль-Шейх":return k.SharmElSheikh;case"Хургада":return k.Hurghada;case"Дубай":return k.Dubai;case"Абу-Даби":return k.AbuDhabi;case"Бангкок":return k.Bangkok;case"Хуа Хин":return k.KuahHin;case"Солнечный берег":return k.SunnyBeach;case"Золотые пески":return k.GoldenSands;case"Будва":return k.Budva;case"Свети Стефан":return k.StefanBridge;case"Бали":return k.Bali;case"Батумі":return k.Batumi;case"Родос":return k.Rodos;case"Мармарис":return k.Marmaris;case"Пафос":return k.Paphos;case"Сусс":return k.Suss;case"Тенерифе":return k.Tenerife;case"Майорка":return k.Majorca;case"Буковель":return k.Bukovyn;case"Улудаг":return k.Uldag;case"Бансько":return k.Bansko;case"Боровець":return k.Borovets;default:return k.All}}}class qt extends J{durationCurrent;constructor(){super(),this.durationCurrent=c(".info__duration-current"),this.selectDuration()}durationToNumber(t){switch(t){case"3 ночи":return z.three;case"7 ночей":return z.seven;case"10 ночей":return z.ten;case"14 ночей":return z.fourteen;case"21 ночь":return z.twentyOne;default:return z.all}}selectDuration(){c(".info__duration-list li").on("click",t=>{const s=c(t.target).data("duration"),n=this.durationToNumber(s),o=new URL(window.location.href);o.searchParams.set("isDuration",n.toString()),window.history.pushState({},"",o.toString())})}}class Fe extends J{dateCurrent;constructor(){super(),this.dateCurrent=c(".info__date-current"),this.calendar()}calendar(){new Gt("#calendar",{onSelect:function({date:t}){const s=Array.isArray(t)?t[0]:t,n=String(s.getDate()).padStart(2,"0"),o=String(s.getMonth()+1).padStart(2,"0"),h=s.getFullYear(),u=`${n}.${o}.${h}`;c(".info__date-current").text(u);const p=new URL(window.location.href);p.searchParams.set("date",u),window.history.pushState({path:p.href},"",p.href)}})}}class Oe extends J{destinationCurrent;constructor(){super(),this.destinationCurrent=c(".info__destination-current"),this.selectCountry(),this.bindEvents("load","isCountry",this.destinationCurrent.text().trim())}countryToNumber(t){switch(t){case"Египет":return H.Egypt;case"АОЭ":return H.AOE;case"Таиланд":return H.Thailand;case"Болгария":return H.Bulgaria;case"Чорногория":return H.Chornogoria;case"Индонезия":return H.Indonesia;case"Грузия":return H.Georgia;case"Греция":return H.Greece;case"Турция":return H.Turkey;case"Кипр":return H.Cyprus;case"Тунис":return H.Tunisia;case"Испания":return H.Spain;case"Украина":return H.Ukraine;default:return H.All}}selectCountry(){c(".info__destination-list li").on("click",t=>{const s=c(t.currentTarget).data("destination"),n=this.countryToNumber(s),o=new URL(window.location.href);o.searchParams.set("isCountry",n.toString()),window.history.pushState({},"",o.toString())})}}const Te=new qt,$e=new Oe;class Ne extends J{guestsItemAdults;searchPanelBtn;counterKids;durationCurrent;destinationCurrent;dateCurrent;kidsCounter;constructor(){super(),this.guestsItemAdults=c(".info__guests-item_adults"),this.counterKids=c(".info__guests-counters_kids"),this.searchPanelBtn=c(".search__panel-btn"),this.durationCurrent=c(".info__duration-current"),this.destinationCurrent=c(".info__destination-current"),this.dateCurrent=c(".info__date-current"),this.kidsCounter=c(".info__guests-subcounter"),this.updateGuests(),this.updateKids(),this.closeDropDown(),this.haldelsClik()}updateGuests(){let t=c(".guests__current-counter"),s=c(".info__guests-counter");this.guestsItemAdults.each(function(){let n=c(this).find(".info__guests-minus_adults"),o=c(this).find(".info__guests-plus_adults"),h=c(this).find(".info__guests-counters_adults");n.on("click",function(){let u=+h.text();u>0&&(h.text(u-1),t.text(u-1),s.text(u-1));const p=new URL(window.location.href);p.searchParams.set("adults",s.text()),history.pushState({},"",p.toString())}),o.on("click",function(){let u=+h.text();u<9&&(h.text(u+1),t.text(u+1),s.text(u+1));const p=new URL(window.location.href);p.searchParams.set("adults",s.text()),history.pushState({},"",p.toString())})})}updateKids(){let t=c(".info__guests-counters_kids"),s=c(".info__guests-item_kids"),n=s.find(".info__guests-minus_kids"),o=s.find(".info__guests-plus_kids"),h=s.find(".info__guests-counters_kids"),u=c(".info__guests-subcounter");n.on("click",function(){let m=+h.text();m>0&&(h.text(m-1),t.text(m-1),u.text(m-1),c(".info__guests-item").eq(3).remove(),p(m-1)),+t==1&&n.prop("disabled",!0),m===1&&o.prop("disabled",!1);const S=new URL(window.location.href);S.searchParams.set("kids",u.text()),history.pushState({},"",S.toString())}),o.on("click",function(){let m=+h.text();m<9&&(h.text(m+1),t.text(m+1),u.text(m+1),p(m+1)),m+1===9&&o.prop("disabled",!0);const S=new URL(window.location.href);S.searchParams.set("kids",u.text()),history.pushState({},"",S.toString())});function p(m){let S="";for(let x=0;x<m;x++)S+=`
            <li class="info__guests-item info__guests-item_sub">
                <p class="info__guests-item-current">Ребёнок</p>
                <ul class="info__guests-sublist">
                    <li class="info__guests-item-years"><span>&lt;</span>1 года</li>
                    <li class="info__guests-item-years">1 год</li>
                    <li class="info__guests-item-years">2 года</li>
                    <li class="info__guests-item-years">3 года</li>
                    <li class="info__guests-item-years">4 года</li>
                    <li class="info__guests-item-years">5 лет</li>
                    <li class="info__guests-item-years">6 лет</li>
                    <li class="info__guests-item-years">7 лет</li>
                    <li class="info__guests-item-years">8 лет</li>
                    <li class="info__guests-item-years">9 лет</li>
                    <li class="info__guests-item-years">10 лет</li>
                    <li class="info__guests-item-years">11 лет</li>
                    <li class="info__guests-item-years">12 лет</li>
                    <li class="info__guests-item-years">13 лет</li>
                    <li class="info__guests-item-years">14 лет</li>
                    <li class="info__guests-item-years">15 лет</li>
                    <li class="info__guests-item-years">16 лет</li>
                    <li class="info__guests-item-years">17 лет</li>
                </ul>
            </li>`;c(".info__guests-list li").eq(2).after(S)}p(+t.text());function g(){const m=c(".info__guests-item-current").text(),S=new URL(window.location.href);S.searchParams.set("years",m),window.history.replaceState({},"",S)}c(".info__guests-list").on("click",".info__guests-item_sub",function(){c(this).find(".info__guests-sublist").toggleClass("info__guests-sublist_show")}),c(".info__guests-list").on("click",".info__guests-item-years",function(){const m=c(this).text();c(this).parent().prev().text(m),c(this).find(".info__guests-sublist").removeClass("info__guests-sublist_show"),g()})}closeDropDown(){c(".info__guests-add").on("click",()=>{c(".dropdown__list").removeClass("dropdown__list_show")})}filterGuests(){const t=this.kidsCounter.text().trim(),s=t!==""?+t:0,n=this.countryArr.filter(o=>s>0?o.isKids!==!1:o.isKids===!1);this.renderHotels(n),this.renderInfo(n),this.renderRegions(n)}haldelsClik(){this.searchPanelBtn.on("click",()=>{const t=this.destinationCurrent.text().trim(),s=$e.countryToNumber(t),n=this.durationCurrent.text().trim(),o=Te.durationToNumber(n),h=new URLSearchParams(window.location.search),u=Array.from(h.keys());console.log(u);const p=this.dateCurrent.text().trim();u.includes("isCountry")&&(this.filterByKeyValue("isCountry",s,H.All),this.removeParametersFromUrl(["isDuration","date","kids","adults"]),u.shift()),u.includes("isDuration")&&(this.filterByKeyValue("isDuration",o,z.all),this.removeParametersFromUrl(["isCountry","date","kids","adults"]),u.shift()),u.includes("date")&&(this.filterByKeyValue("date",p),this.removeParametersFromUrl(["isCountry","isDuration","kids","adults"]),u.shift()),u.includes("kids")&&(this.filterGuests(),this.removeParametersFromUrl(["isCountry","isDuration","date"]),u.shift())})}}var R;(function(e){e.Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values"})(R||(R={}));var F;(function(e){e[e.None=-1]="None",e[e.NoValue=0]="NoValue",e[e.LargeValue=1]="LargeValue",e[e.SmallValue=2]="SmallValue"})(F||(F={}));function Ie(e){return ot(e)&&typeof e.from=="function"}function ot(e){return typeof e=="object"&&typeof e.to=="function"}function It(e){e.parentElement.removeChild(e)}function xt(e){return e!=null}function Kt(e){e.preventDefault()}function Ke(e){return e.filter(function(t){return this[t]?!1:this[t]=!0},{})}function je(e,t){return Math.round(e/t)*t}function ze(e,t){var s=e.getBoundingClientRect(),n=e.ownerDocument,o=n.documentElement,h=Yt(n);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(h.x=0),t?s.top+h.y-o.clientTop:s.left+h.x-o.clientLeft}function $(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function jt(e,t,s){s>0&&(B(e,t),setTimeout(function(){nt(e,t)},s))}function zt(e){return Math.max(Math.min(e,100),0)}function lt(e){return Array.isArray(e)?e:[e]}function Re(e){e=String(e);var t=e.split(".");return t.length>1?t[1].length:0}function B(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function nt(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function Ge(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function Yt(e){var t=window.pageXOffset!==void 0,s=(e.compatMode||"")==="CSS1Compat",n=t?window.pageXOffset:s?e.documentElement.scrollLeft:e.body.scrollLeft,o=t?window.pageYOffset:s?e.documentElement.scrollTop:e.body.scrollTop;return{x:n,y:o}}function qe(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function Ye(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch{}return e}function We(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function kt(e,t){return 100/(t-e)}function Ct(e,t,s){return t*100/(e[s+1]-e[s])}function Xe(e,t){return Ct(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}function Je(e,t){return t*(e[1]-e[0])/100+e[0]}function tt(e,t){for(var s=1;e>=t[s];)s+=1;return s}function Ze(e,t,s){if(s>=e.slice(-1)[0])return 100;var n=tt(s,e),o=e[n-1],h=e[n],u=t[n-1],p=t[n];return u+Xe([o,h],s)/kt(u,p)}function Qe(e,t,s){if(s>=100)return e.slice(-1)[0];var n=tt(s,t),o=e[n-1],h=e[n],u=t[n-1],p=t[n];return Je([o,h],(s-u)*kt(u,p))}function tr(e,t,s,n){if(n===100)return n;var o=tt(n,e),h=e[o-1],u=e[o];return s?n-h>(u-h)/2?u:h:t[o-1]?e[o-1]+je(n-e[o-1],t[o-1]):n}var Wt=function(){function e(t,s,n){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=s;var o,h=[];for(Object.keys(t).forEach(function(u){h.push([lt(t[u]),u])}),h.sort(function(u,p){return u[0][0]-p[0][0]}),o=0;o<h.length;o++)this.handleEntryPoint(h[o][1],h[o][0]);for(this.xNumSteps=this.xSteps.slice(0),o=0;o<this.xNumSteps.length;o++)this.handleStepPoint(o,this.xNumSteps[o])}return e.prototype.getDistance=function(t){for(var s=[],n=0;n<this.xNumSteps.length-1;n++)s[n]=Ct(this.xVal,t,n);return s},e.prototype.getAbsoluteDistance=function(t,s,n){var o=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[o+1];)o++;else t===this.xPct[this.xPct.length-1]&&(o=this.xPct.length-2);!n&&t===this.xPct[o+1]&&o++,s===null&&(s=[]);var h,u=1,p=s[o],g=0,m=0,S=0,x=0;for(n?h=(t-this.xPct[o])/(this.xPct[o+1]-this.xPct[o]):h=(this.xPct[o+1]-t)/(this.xPct[o+1]-this.xPct[o]);p>0;)g=this.xPct[o+1+x]-this.xPct[o+x],s[o+x]*u+100-h*100>100?(m=g*h,u=(p-100*h)/s[o+x],h=1):(m=s[o+x]*g/100*u,u=0),n?(S=S-m,this.xPct.length+x>=1&&x--):(S=S+m,this.xPct.length-x>=1&&x++),p=s[o+x]*u;return t+S},e.prototype.toStepping=function(t){return t=Ze(this.xVal,this.xPct,t),t},e.prototype.fromStepping=function(t){return Qe(this.xVal,this.xPct,t)},e.prototype.getStep=function(t){return t=tr(this.xPct,this.xSteps,this.snap,t),t},e.prototype.getDefaultStep=function(t,s,n){var o=tt(t,this.xPct);return(t===100||s&&t===this.xPct[o-1])&&(o=Math.max(o-1,1)),(this.xVal[o]-this.xVal[o-1])/n},e.prototype.getNearbySteps=function(t){var s=tt(t,this.xPct);return{stepBefore:{startValue:this.xVal[s-2],step:this.xNumSteps[s-2],highestStep:this.xHighestCompleteStep[s-2]},thisStep:{startValue:this.xVal[s-1],step:this.xNumSteps[s-1],highestStep:this.xHighestCompleteStep[s-1]},stepAfter:{startValue:this.xVal[s],step:this.xNumSteps[s],highestStep:this.xHighestCompleteStep[s]}}},e.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(Re);return Math.max.apply(null,t)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(t){return this.getStep(this.toStepping(t))},e.prototype.handleEntryPoint=function(t,s){var n;if(t==="min"?n=0:t==="max"?n=100:n=parseFloat(t),!$(n)||!$(s[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(n),this.xVal.push(s[0]);var o=Number(s[1]);n?this.xSteps.push(isNaN(o)?!1:o):isNaN(o)||(this.xSteps[0]=o),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(t,s){if(s){if(this.xVal[t]===this.xVal[t+1]){this.xSteps[t]=this.xHighestCompleteStep[t]=this.xVal[t];return}this.xSteps[t]=Ct([this.xVal[t],this.xVal[t+1]],s,0)/kt(this.xPct[t],this.xPct[t+1]);var n=(this.xVal[t+1]-this.xVal[t])/this.xNumSteps[t],o=Math.ceil(Number(n.toFixed(3))-1),h=this.xVal[t]+this.xNumSteps[t]*o;this.xHighestCompleteStep[t]=h}},e}(),Rt={to:function(e){return e===void 0?"":e.toFixed(2)},from:Number},Xt={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},j={tooltips:".__tooltips",aria:".__aria"};function er(e,t){if(!$(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function rr(e,t){if(!$(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function sr(e,t){if(!$(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function ir(e,t){if(!$(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function ar(e,t){if(typeof t!="object"||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(t.min===void 0||t.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new Wt(t,e.snap||!1,e.singleStep)}function nr(e,t){if(t=lt(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function or(e,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function lr(e,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function cr(e,t){if(typeof t!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function ur(e,t){var s=[!1],n;if(t==="lower"?t=[!0,!1]:t==="upper"&&(t=[!1,!0]),t===!0||t===!1){for(n=1;n<e.handles;n++)s.push(t);s.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");s=t}e.connect=s}function dr(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Jt(e,t){if(!$(t))throw new Error("noUiSlider: 'margin' option must be numeric.");t!==0&&(e.margin=e.spectrum.getDistance(t))}function fr(e,t){if(!$(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function hr(e,t){var s;if(!$(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&!(t.length===2||$(t[0])||$(t[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(t!==0){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],s=0;s<e.spectrum.xNumSteps.length-1;s++)if(e.padding[0][s]<0||e.padding[1][s]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var n=t[0]+t[1],o=e.spectrum.xVal[0],h=e.spectrum.xVal[e.spectrum.xVal.length-1];if(n/(h-o)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function pr(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function _r(e,t){if(typeof t!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var s=t.indexOf("tap")>=0,n=t.indexOf("drag")>=0,o=t.indexOf("fixed")>=0,h=t.indexOf("snap")>=0,u=t.indexOf("hover")>=0,p=t.indexOf("unconstrained")>=0,g=t.indexOf("drag-all")>=0,m=t.indexOf("smooth-steps")>=0;if(o){if(e.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Jt(e,e.start[1]-e.start[0])}if(p&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:s||h,drag:n,dragAll:g,smoothSteps:m,fixed:o,snap:h,hover:u,unconstrained:p}}function gr(e,t){if(t!==!1)if(t===!0||ot(t)){e.tooltips=[];for(var s=0;s<e.handles;s++)e.tooltips.push(t)}else{if(t=lt(t),t.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.forEach(function(n){if(typeof n!="boolean"&&!ot(n))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),e.tooltips=t}}function vr(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function mr(e,t){if(!ot(t))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=t}function wr(e,t){if(!Ie(t))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=t}function br(e,t){if(typeof t!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function Sr(e,t){e.documentElement=t}function yr(e,t){if(typeof t!="string"&&t!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function xr(e,t){if(typeof t!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof e.cssPrefix=="string"?(e.cssClasses={},Object.keys(t).forEach(function(s){e.cssClasses[s]=e.cssPrefix+t[s]})):e.cssClasses=t}function Zt(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Rt,format:Rt},s={step:{r:!1,t:er},keyboardPageMultiplier:{r:!1,t:rr},keyboardMultiplier:{r:!1,t:sr},keyboardDefaultStep:{r:!1,t:ir},start:{r:!0,t:nr},connect:{r:!0,t:ur},direction:{r:!0,t:pr},snap:{r:!1,t:or},animate:{r:!1,t:lr},animationDuration:{r:!1,t:cr},range:{r:!0,t:ar},orientation:{r:!1,t:dr},margin:{r:!1,t:Jt},limit:{r:!1,t:fr},padding:{r:!1,t:hr},behaviour:{r:!0,t:_r},ariaFormat:{r:!1,t:mr},format:{r:!1,t:wr},tooltips:{r:!1,t:gr},keyboardSupport:{r:!0,t:br},documentElement:{r:!1,t:Sr},cssPrefix:{r:!0,t:yr},cssClasses:{r:!0,t:xr},handleAttributes:{r:!1,t:vr}},n={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Xt,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(s).forEach(function(g){if(!xt(e[g])&&n[g]===void 0){if(s[g].r)throw new Error("noUiSlider: '"+g+"' is required.");return}s[g].t(t,xt(e[g])?e[g]:n[g])}),t.pips=e.pips;var o=document.createElement("div"),h=o.style.msTransform!==void 0,u=o.style.transform!==void 0;t.transformRule=u?"transform":h?"msTransform":"webkitTransform";var p=[["left","top"],["right","bottom"]];return t.style=p[t.dir][t.ort],t}function Cr(e,t,s){var n=qe(),o=We(),h=o&&Ye(),u=e,p,g,m,S,x,w=t.spectrum,T=[],P=[],O=[],ct=0,N={},X=e.ownerDocument,et=t.documentElement||X.documentElement,rt=X.body,Qt=X.dir==="rtl"||t.ort===1?0:100;function I(r,i){var a=X.createElement("div");return i&&B(a,i),r.appendChild(a),a}function te(r,i){var a=I(r,t.cssClasses.origin),l=I(a,t.cssClasses.handle);if(I(l,t.cssClasses.touchArea),l.setAttribute("data-handle",String(i)),t.keyboardSupport&&(l.setAttribute("tabindex","0"),l.addEventListener("keydown",function(d){return ge(d,i)})),t.handleAttributes!==void 0){var f=t.handleAttributes[i];Object.keys(f).forEach(function(d){l.setAttribute(d,f[d])})}return l.setAttribute("role","slider"),l.setAttribute("aria-orientation",t.ort?"vertical":"horizontal"),i===0?B(l,t.cssClasses.handleLower):i===t.handles-1&&B(l,t.cssClasses.handleUpper),a.handle=l,a}function Pt(r,i){return i?I(r,t.cssClasses.connect):!1}function ee(r,i){var a=I(i,t.cssClasses.connects);g=[],m=[],m.push(Pt(a,r[0]));for(var l=0;l<t.handles;l++)g.push(te(i,l)),O[l]=l,m.push(Pt(a,r[l+1]))}function re(r){B(r,t.cssClasses.target),t.dir===0?B(r,t.cssClasses.ltr):B(r,t.cssClasses.rtl),t.ort===0?B(r,t.cssClasses.horizontal):B(r,t.cssClasses.vertical);var i=getComputedStyle(r).direction;return i==="rtl"?B(r,t.cssClasses.textDirectionRtl):B(r,t.cssClasses.textDirectionLtr),I(r,t.cssClasses.base)}function se(r,i){return!t.tooltips||!t.tooltips[i]?!1:I(r.firstChild,t.cssClasses.tooltip)}function Et(){return u.hasAttribute("disabled")}function ut(r){var i=g[r];return i.hasAttribute("disabled")}function ie(r){r!=null?(g[r].setAttribute("disabled",""),g[r].handle.removeAttribute("tabindex")):(u.setAttribute("disabled",""),g.forEach(function(i){i.handle.removeAttribute("tabindex")}))}function ae(r){r!=null?(g[r].removeAttribute("disabled"),g[r].handle.setAttribute("tabindex","0")):(u.removeAttribute("disabled"),g.forEach(function(i){i.removeAttribute("disabled"),i.handle.setAttribute("tabindex","0")}))}function dt(){x&&(Z("update"+j.tooltips),x.forEach(function(r){r&&It(r)}),x=null)}function At(){dt(),x=g.map(se),gt("update"+j.tooltips,function(r,i,a){if(!(!x||!t.tooltips)&&x[i]!==!1){var l=r[i];t.tooltips[i]!==!0&&(l=t.tooltips[i].to(a[i])),x[i].innerHTML=l}})}function ne(){Z("update"+j.aria),gt("update"+j.aria,function(r,i,a,l,f){O.forEach(function(d){var v=g[d],_=st(P,d,0,!0,!0,!0),C=st(P,d,100,!0,!0,!0),y=f[d],E=String(t.ariaFormat.to(a[d]));_=w.fromStepping(_).toFixed(1),C=w.fromStepping(C).toFixed(1),y=w.fromStepping(y).toFixed(1),v.children[0].setAttribute("aria-valuemin",_),v.children[0].setAttribute("aria-valuemax",C),v.children[0].setAttribute("aria-valuenow",y),v.children[0].setAttribute("aria-valuetext",E)})})}function oe(r){if(r.mode===R.Range||r.mode===R.Steps)return w.xVal;if(r.mode===R.Count){if(r.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var i=r.values-1,a=100/i,l=[];i--;)l[i]=i*a;return l.push(100),Ut(l,r.stepped)}return r.mode===R.Positions?Ut(r.values,r.stepped):r.mode===R.Values?r.stepped?r.values.map(function(f){return w.fromStepping(w.getStep(w.toStepping(f)))}):r.values:[]}function Ut(r,i){return r.map(function(a){return w.fromStepping(i?w.getStep(a):a)})}function le(r){function i(y,E){return Number((y+E).toFixed(7))}var a=oe(r),l={},f=w.xVal[0],d=w.xVal[w.xVal.length-1],v=!1,_=!1,C=0;return a=Ke(a.slice().sort(function(y,E){return y-E})),a[0]!==f&&(a.unshift(f),v=!0),a[a.length-1]!==d&&(a.push(d),_=!0),a.forEach(function(y,E){var A,b,V,M=y,L=a[E+1],D,wt,bt,St,Tt,yt,$t,Nt=r.mode===R.Steps;for(Nt&&(A=w.xNumSteps[E]),A||(A=L-M),L===void 0&&(L=M),A=Math.max(A,1e-7),b=M;b<=L;b=i(b,A)){for(D=w.toStepping(b),wt=D-C,Tt=wt/(r.density||1),yt=Math.round(Tt),$t=wt/yt,V=1;V<=yt;V+=1)bt=C+V*$t,l[bt.toFixed(5)]=[w.fromStepping(bt),0];St=a.indexOf(b)>-1?F.LargeValue:Nt?F.SmallValue:F.NoValue,!E&&v&&b!==L&&(St=0),b===L&&_||(l[D.toFixed(5)]=[b,St]),C=D}}),l}function ce(r,i,a){var l,f,d=X.createElement("div"),v=(l={},l[F.None]="",l[F.NoValue]=t.cssClasses.valueNormal,l[F.LargeValue]=t.cssClasses.valueLarge,l[F.SmallValue]=t.cssClasses.valueSub,l),_=(f={},f[F.None]="",f[F.NoValue]=t.cssClasses.markerNormal,f[F.LargeValue]=t.cssClasses.markerLarge,f[F.SmallValue]=t.cssClasses.markerSub,f),C=[t.cssClasses.valueHorizontal,t.cssClasses.valueVertical],y=[t.cssClasses.markerHorizontal,t.cssClasses.markerVertical];B(d,t.cssClasses.pips),B(d,t.ort===0?t.cssClasses.pipsHorizontal:t.cssClasses.pipsVertical);function E(b,V){var M=V===t.cssClasses.value,L=M?C:y,D=M?v:_;return V+" "+L[t.ort]+" "+D[b]}function A(b,V,M){if(M=i?i(V,M):M,M!==F.None){var L=I(d,!1);L.className=E(M,t.cssClasses.marker),L.style[t.style]=b+"%",M>F.NoValue&&(L=I(d,!1),L.className=E(M,t.cssClasses.value),L.setAttribute("data-value",String(V)),L.style[t.style]=b+"%",L.innerHTML=String(a.to(V)))}}return Object.keys(r).forEach(function(b){A(b,r[b][0],r[b][1])}),d}function ft(){S&&(It(S),S=null)}function ht(r){ft();var i=le(r),a=r.filter,l=r.format||{to:function(f){return String(Math.round(f))}};return S=u.appendChild(ce(i,a,l)),S}function Vt(){var r=p.getBoundingClientRect(),i="offset"+["Width","Height"][t.ort];return t.ort===0?r.width||p[i]:r.height||p[i]}function G(r,i,a,l){var f=function(v){var _=ue(v,l.pageOffset,l.target||i);if(!_||Et()&&!l.doNotReject||Ge(u,t.cssClasses.tap)&&!l.doNotReject||r===n.start&&_.buttons!==void 0&&_.buttons>1||l.hover&&_.buttons)return!1;h||_.preventDefault(),_.calcPoint=_.points[t.ort],a(_,l)},d=[];return r.split(" ").forEach(function(v){i.addEventListener(v,f,h?{passive:!0}:!1),d.push([v,f])}),d}function ue(r,i,a){var l=r.type.indexOf("touch")===0,f=r.type.indexOf("mouse")===0,d=r.type.indexOf("pointer")===0,v=0,_=0;if(r.type.indexOf("MSPointer")===0&&(d=!0),r.type==="mousedown"&&!r.buttons&&!r.touches)return!1;if(l){var C=function(A){var b=A.target;return b===a||a.contains(b)||r.composed&&r.composedPath().shift()===a};if(r.type==="touchstart"){var y=Array.prototype.filter.call(r.touches,C);if(y.length>1)return!1;v=y[0].pageX,_=y[0].pageY}else{var E=Array.prototype.find.call(r.changedTouches,C);if(!E)return!1;v=E.pageX,_=E.pageY}}return i=i||Yt(X),(f||d)&&(v=r.clientX+i.x,_=r.clientY+i.y),r.pageOffset=i,r.points=[v,_],r.cursor=f||d,r}function Lt(r){var i=r-ze(p,t.ort),a=i*100/Vt();return a=zt(a),t.dir?100-a:a}function de(r){var i=100,a=!1;return g.forEach(function(l,f){if(!ut(f)){var d=P[f],v=Math.abs(d-r),_=v===100&&i===100,C=v<i,y=v<=i&&r>d;(C||y||_)&&(a=f,i=v)}}),a}function fe(r,i){r.type==="mouseout"&&r.target.nodeName==="HTML"&&r.relatedTarget===null&&pt(r,i)}function he(r,i){if(navigator.appVersion.indexOf("MSIE 9")===-1&&r.buttons===0&&i.buttonsProperty!==0)return pt(r,i);var a=(t.dir?-1:1)*(r.calcPoint-i.startCalcPoint),l=a*100/i.baseSize;Dt(a>0,l,i.locations,i.handleNumbers,i.connect)}function pt(r,i){i.handle&&(nt(i.handle,t.cssClasses.active),ct-=1),i.listeners.forEach(function(a){et.removeEventListener(a[0],a[1])}),ct===0&&(nt(u,t.cssClasses.drag),mt(),r.cursor&&(rt.style.cursor="",rt.removeEventListener("selectstart",Kt))),t.events.smoothSteps&&(i.handleNumbers.forEach(function(a){q(a,P[a],!0,!0,!1,!1)}),i.handleNumbers.forEach(function(a){U("update",a)})),i.handleNumbers.forEach(function(a){U("change",a),U("set",a),U("end",a)})}function _t(r,i){if(!i.handleNumbers.some(ut)){var a;if(i.handleNumbers.length===1){var l=g[i.handleNumbers[0]];a=l.children[0],ct+=1,B(a,t.cssClasses.active)}r.stopPropagation();var f=[],d=G(n.move,et,he,{target:r.target,handle:a,connect:i.connect,listeners:f,startCalcPoint:r.calcPoint,baseSize:Vt(),pageOffset:r.pageOffset,handleNumbers:i.handleNumbers,buttonsProperty:r.buttons,locations:P.slice()}),v=G(n.end,et,pt,{target:r.target,handle:a,listeners:f,doNotReject:!0,handleNumbers:i.handleNumbers}),_=G("mouseout",et,fe,{target:r.target,handle:a,listeners:f,doNotReject:!0,handleNumbers:i.handleNumbers});f.push.apply(f,d.concat(v,_)),r.cursor&&(rt.style.cursor=getComputedStyle(r.target).cursor,g.length>1&&B(u,t.cssClasses.drag),rt.addEventListener("selectstart",Kt,!1)),i.handleNumbers.forEach(function(C){U("start",C)})}}function pe(r){r.stopPropagation();var i=Lt(r.calcPoint),a=de(i);a!==!1&&(t.events.snap||jt(u,t.cssClasses.tap,t.animationDuration),q(a,i,!0,!0),mt(),U("slide",a,!0),U("update",a,!0),t.events.snap?_t(r,{handleNumbers:[a]}):(U("change",a,!0),U("set",a,!0)))}function _e(r){var i=Lt(r.calcPoint),a=w.getStep(i),l=w.fromStepping(a);Object.keys(N).forEach(function(f){f.split(".")[0]==="hover"&&N[f].forEach(function(d){d.call(at,l)})})}function ge(r,i){if(Et()||ut(i))return!1;var a=["Left","Right"],l=["Down","Up"],f=["PageDown","PageUp"],d=["Home","End"];t.dir&&!t.ort?a.reverse():t.ort&&!t.dir&&(l.reverse(),f.reverse());var v=r.key.replace("Arrow",""),_=v===f[0],C=v===f[1],y=v===l[0]||v===a[0]||_,E=v===l[1]||v===a[1]||C,A=v===d[0],b=v===d[1];if(!y&&!E&&!A&&!b)return!0;r.preventDefault();var V;if(E||y){var M=y?0:1,L=Ot(i),D=L[M];if(D===null)return!1;D===!1&&(D=w.getDefaultStep(P[i],y,t.keyboardDefaultStep)),C||_?D*=t.keyboardPageMultiplier:D*=t.keyboardMultiplier,D=Math.max(D,1e-7),D=(y?-1:1)*D,V=T[i]+D}else b?V=t.spectrum.xVal[t.spectrum.xVal.length-1]:V=t.spectrum.xVal[0];return q(i,w.toStepping(V),!0,!0),U("slide",i),U("update",i),U("change",i),U("set",i),!1}function ve(r){r.fixed||g.forEach(function(i,a){G(n.start,i.children[0],_t,{handleNumbers:[a]})}),r.tap&&G(n.start,p,pe,{}),r.hover&&G(n.move,p,_e,{hover:!0}),r.drag&&m.forEach(function(i,a){if(!(i===!1||a===0||a===m.length-1)){var l=g[a-1],f=g[a],d=[i],v=[l,f],_=[a-1,a];B(i,t.cssClasses.draggable),r.fixed&&(d.push(l.children[0]),d.push(f.children[0])),r.dragAll&&(v=g,_=O),d.forEach(function(C){G(n.start,C,_t,{handles:v,handleNumbers:_,connect:i})})}})}function gt(r,i){N[r]=N[r]||[],N[r].push(i),r.split(".")[0]==="update"&&g.forEach(function(a,l){U("update",l)})}function me(r){return r===j.aria||r===j.tooltips}function Z(r){var i=r&&r.split(".")[0],a=i?r.substring(i.length):r;Object.keys(N).forEach(function(l){var f=l.split(".")[0],d=l.substring(f.length);(!i||i===f)&&(!a||a===d)&&(!me(d)||a===d)&&delete N[l]})}function U(r,i,a){Object.keys(N).forEach(function(l){var f=l.split(".")[0];r===f&&N[l].forEach(function(d){d.call(at,T.map(t.format.to),i,T.slice(),a||!1,P.slice(),at)})})}function st(r,i,a,l,f,d,v){var _;return g.length>1&&!t.events.unconstrained&&(l&&i>0&&(_=w.getAbsoluteDistance(r[i-1],t.margin,!1),a=Math.max(a,_)),f&&i<g.length-1&&(_=w.getAbsoluteDistance(r[i+1],t.margin,!0),a=Math.min(a,_))),g.length>1&&t.limit&&(l&&i>0&&(_=w.getAbsoluteDistance(r[i-1],t.limit,!1),a=Math.min(a,_)),f&&i<g.length-1&&(_=w.getAbsoluteDistance(r[i+1],t.limit,!0),a=Math.max(a,_))),t.padding&&(i===0&&(_=w.getAbsoluteDistance(0,t.padding[0],!1),a=Math.max(a,_)),i===g.length-1&&(_=w.getAbsoluteDistance(100,t.padding[1],!0),a=Math.min(a,_))),v||(a=w.getStep(a)),a=zt(a),a===r[i]&&!d?!1:a}function vt(r,i){var a=t.ort;return(a?i:r)+", "+(a?r:i)}function Dt(r,i,a,l,f){var d=a.slice(),v=l[0],_=t.events.smoothSteps,C=[!r,r],y=[r,!r];l=l.slice(),r&&l.reverse(),l.length>1?l.forEach(function(A,b){var V=st(d,A,d[A]+i,C[b],y[b],!1,_);V===!1?i=0:(i=V-d[A],d[A]=V)}):C=y=[!0];var E=!1;l.forEach(function(A,b){E=q(A,a[A]+i,C[b],y[b],!1,_)||E}),E&&(l.forEach(function(A){U("update",A),U("slide",A)}),f!=null&&U("drag",v))}function Mt(r,i){return t.dir?100-r-i:r}function we(r,i){P[r]=i,T[r]=w.fromStepping(i);var a=Mt(i,0)-Qt,l="translate("+vt(a+"%","0")+")";g[r].style[t.transformRule]=l,Bt(r),Bt(r+1)}function mt(){O.forEach(function(r){var i=P[r]>50?-1:1,a=3+(g.length+i*r);g[r].style.zIndex=String(a)})}function q(r,i,a,l,f,d){return f||(i=st(P,r,i,a,l,!1,d)),i===!1?!1:(we(r,i),!0)}function Bt(r){if(m[r]){var i=0,a=100;r!==0&&(i=P[r-1]),r!==m.length-1&&(a=P[r]);var l=a-i,f="translate("+vt(Mt(i,l)+"%","0")+")",d="scale("+vt(l/100,"1")+")";m[r].style[t.transformRule]=f+" "+d}}function Ht(r,i){return r===null||r===!1||r===void 0||(typeof r=="number"&&(r=String(r)),r=t.format.from(r),r!==!1&&(r=w.toStepping(r)),r===!1||isNaN(r))?P[i]:r}function it(r,i,a){var l=lt(r),f=P[0]===void 0;i=i===void 0?!0:i,t.animate&&!f&&jt(u,t.cssClasses.tap,t.animationDuration),O.forEach(function(_){q(_,Ht(l[_],_),!0,!1,a)});var d=O.length===1?0:1;if(f&&w.hasNoSize()&&(a=!0,P[0]=0,O.length>1)){var v=100/(O.length-1);O.forEach(function(_){P[_]=_*v})}for(;d<O.length;++d)O.forEach(function(_){q(_,P[_],!0,!0,a)});mt(),O.forEach(function(_){U("update",_),l[_]!==null&&i&&U("set",_)})}function be(r){it(t.start,r)}function Se(r,i,a,l){if(r=Number(r),!(r>=0&&r<O.length))throw new Error("noUiSlider: invalid handle number, got: "+r);q(r,Ht(i,r),!0,!0,l),U("update",r),a&&U("set",r)}function Ft(r){if(r===void 0&&(r=!1),r)return T.length===1?T[0]:T.slice(0);var i=T.map(t.format.to);return i.length===1?i[0]:i}function ye(){for(Z(j.aria),Z(j.tooltips),Object.keys(t.cssClasses).forEach(function(r){nt(u,t.cssClasses[r])});u.firstChild;)u.removeChild(u.firstChild);delete u.noUiSlider}function Ot(r){var i=P[r],a=w.getNearbySteps(i),l=T[r],f=a.thisStep.step,d=null;if(t.snap)return[l-a.stepBefore.startValue||null,a.stepAfter.startValue-l||null];f!==!1&&l+f>a.stepAfter.startValue&&(f=a.stepAfter.startValue-l),l>a.thisStep.startValue?d=a.thisStep.step:a.stepBefore.step===!1?d=!1:d=l-a.stepBefore.highestStep,i===100?f=null:i===0&&(d=null);var v=w.countStepDecimals();return f!==null&&f!==!1&&(f=Number(f.toFixed(v))),d!==null&&d!==!1&&(d=Number(d.toFixed(v))),[d,f]}function xe(){return O.map(Ot)}function Ce(r,i){var a=Ft(),l=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];l.forEach(function(d){r[d]!==void 0&&(s[d]=r[d])});var f=Zt(s);l.forEach(function(d){r[d]!==void 0&&(t[d]=f[d])}),w=f.spectrum,t.margin=f.margin,t.limit=f.limit,t.padding=f.padding,t.pips?ht(t.pips):ft(),t.tooltips?At():dt(),P=[],it(xt(r.start)?r.start:a,i)}function ke(){p=re(u),ee(t.connect,p),ve(t.events),it(t.start),t.pips&&ht(t.pips),t.tooltips&&At(),ne()}ke();var at={destroy:ye,steps:xe,on:gt,off:Z,get:Ft,set:it,setHandle:Se,reset:be,disable:ie,enable:ae,__moveHandles:function(r,i,a){Dt(r,i,P,a)},options:s,updateOptions:Ce,target:u,removePips:ft,removeTooltips:dt,getPositions:function(){return P.slice()},getTooltips:function(){return x},getOrigins:function(){return g},pips:ht};return at}function kr(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var s=Zt(t),n=Cr(e,s,t);return e.noUiSlider=n,n}const Pr={__spectrum:Wt,cssClasses:Xt,create:kr};class Er extends J{urlParams;constructor(){super(),this.urlParams=new URLSearchParams(window.location.search),this.initial()}initial(){this.selectingMeals(),this.selectingStars(),this.priceSlider(),this.selectiongTourAndFlight(),this.selectingDeparture()}numberToMeals(t){switch(t){case"ao":return K.ao;case"bb":return K.bb;case"hb":return K.hb;case"fb":return K.fb;case"ai":return K.ai;case"uai":return K.uai;default:return K.all}}selectingMeals(){c(".category__btns-meals").on("click",t=>{const s=c(t.currentTarget).data("meals"),n=this.numberToMeals(s);this.filterByKeyValue("isMeals",n,K.all)})}numberToStars(t){switch(t){case"three":return Y.three;case"four":return Y.four;case"five":return Y.five;case"apart":return Y.apart;default:return Y.all}}selectingStars(){c(".category__btns-stars").on("click",t=>{const s=c(t.currentTarget).data("stars"),n=this.numberToStars(s);this.filterByKeyValue("isStar",n,Y.all)})}priceSlider(){const t=this.urlParams.get("priceMin"),s=this.urlParams.get("priceMax"),n=t?parseInt(t):300,o=s?parseInt(s):4300,h=document.querySelector(".category__slider"),u=this;Pr.create(h,{start:[n,o],connect:!0,range:{min:300,max:6e3},tooltips:!0,format:{to:function(p){return Math.round(+p)+"€"},from:function(p){return Math.round(+p)}},step:200}),h.noUiSlider?.on("change",function(p,g){const m=typeof p[0]=="string"?p[0].slice(0,-1):p[0].toString(),S=typeof p[1]=="string"?p[1].slice(0,-1):p[1].toString();function x(T,P){u.filterByKeyValue("price",!0,void 0,T,P)}const w=new URL(window.location.href);w.searchParams.set("priceMin",m),w.searchParams.set("priceMax",S),window.history.pushState({},"",w.toString()),x(+m,+S)})}selectiongTourAndFlight(){c(".category__btns-tour").on("click",t=>{c(t.currentTarget).data("tour")==="tour"?(this.filterByKeyValue("touristPackage",!0),this.removeParametersFromUrl(["flight"])):(this.filterByKeyValue("flight",!0),this.removeParametersFromUrl(["touristPackage"]))})}numberToDeparture(t){switch(t){case"kiev":return Q.kiev;case"lviv":return Q.lviv;default:return Q.all}}selectingDeparture(){c(".category__btns-city[data-city]").on("click",t=>{const s=c(t.currentTarget).data("city"),n=this.numberToDeparture(s);this.filterByKeyValue("departure",n,Q.all)})}}class Ar{filterinf;duration;selectData;guests;hotels;constructor(){this.filterinf=new J,this.duration=new qt,this.selectData=new Fe,this.guests=new Ne,this.hotels=new Er}}document.addEventListener("DOMContentLoaded",async()=>{new Ee,new Ar,new Be,new Me});
