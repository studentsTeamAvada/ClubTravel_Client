import{c as ft,g as yt,$ as u}from"./jquery-evpGHFvf.js";var lt={exports:{}};(function(at,C){(function($,w){at.exports=w()})(ft,function(){return function(){var $={d:function(o,t){for(var i in t)$.o(t,i)&&!$.o(o,i)&&Object.defineProperty(o,i,{enumerable:!0,get:t[i]})},o:function(o,t){return Object.prototype.hasOwnProperty.call(o,t)}},w={};$.d(w,{default:function(){return I}});var h={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},D={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:h.days,minView:h.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function _(o){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof o=="string"?t.querySelector(o):o}function b(){let{tagName:o="div",className:t="",innerHtml:i="",id:e="",attrs:n={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=document.createElement(o);return t&&a.classList.add(...t.split(" ")),e&&(a.id=e),i&&(a.innerHTML=i),n&&Z(a,n),a}function Z(o,t){for(let[i,e]of Object.entries(t))e!==void 0&&o.setAttribute(i,e);return o}function nt(o){return new Date(o.getFullYear(),o.getMonth()+1,0).getDate()}function f(o){let t=o.getHours(),{hours:i,dayPeriod:e}=rt(t);return{year:o.getFullYear(),month:o.getMonth(),fullMonth:o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1,date:o.getDate(),fullDate:o.getDate()<10?"0"+o.getDate():o.getDate(),day:o.getDay(),hours:t,fullHours:B(t),hours12:i,dayPeriod:e,fullHours12:B(i),minutes:o.getMinutes(),fullMinutes:o.getMinutes()<10?"0"+o.getMinutes():o.getMinutes()}}function rt(o){return{dayPeriod:o>11?"pm":"am",hours:o%12==0?12:o%12}}function B(o){return o<10?"0"+o:o}function O(o){let t=10*Math.floor(o.getFullYear()/10);return[t,t+9]}function x(){let o=[];for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return i.forEach(n=>{if(typeof n=="object")for(let a in n)n[a]&&o.push(a);else n&&o.push(n)}),o.join(" ")}function y(o,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.days;if(!o||!t)return!1;let e=f(o),n=f(t);return{[h.days]:e.date===n.date&&e.month===n.month&&e.year===n.year,[h.months]:e.month===n.month&&e.year===n.year,[h.years]:e.year===n.year}[i]}function V(o,t,i){let e=tt(o,!1).getTime(),n=tt(t,!1).getTime();return i?e>=n:e>n}function K(o,t){return!V(o,t,!0)}function tt(o){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=new Date(o.getTime());return typeof t!="boolean"||t||function(e){e.setHours(0,0,0,0)}(i),i}function M(o,t,i){o.length?o.forEach(e=>{e.addEventListener(t,i)}):o.addEventListener(t,i)}function W(o,t){return!(!o||o===document||o instanceof DocumentFragment)&&(o.matches(t)?o:W(o.parentNode,t))}function U(o,t,i){return o>i?i:o<t?t:o}function q(o){for(var t=arguments.length,i=new Array(t>1?t-1:0),e=1;e<t;e++)i[e-1]=arguments[e];return i.filter(n=>n).forEach(n=>{for(let[a,s]of Object.entries(n))if(s!==void 0&&s.toString()==="[object Object]"){let r=o[a]!==void 0?o[a].toString():void 0,l=s.toString(),d=Array.isArray(s)?[]:{};o[a]=o[a]?r!==l?d:o[a]:d,q(o[a],s)}else o[a]=s}),o}function F(o){let t=o;return o instanceof Date||(t=new Date(o)),isNaN(t.getTime())&&(console.log(`Unable to convert value "${o}" to Date object`),t=!1),t}function et(o){let t="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+t+")("+o+")($|<|"+t+")","g")}function A(o,t,i){return(t=function(e){var n=function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var l=r.call(a,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(e);return typeof n=="symbol"?n:String(n)}(t))in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}class dt{constructor(){let{type:t,date:i,dp:e,opts:n,body:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};A(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),A(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),A(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),A(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),A(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),A(this,"onChangeFocusDate",s=>{if(!s)return void(this.focused&&this.removeFocus());let r=y(s,this.date,this.type);r?this.focus():!r&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),A(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell)),this.type=t,this.singleType=this.type.slice(0,-1),this.date=i,this.dp=e,this.opts=n,this.body=a,this.customData=!1,this.init()}init(){let{range:t,onRenderCell:i}=this.opts;i&&(this.customData=i({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),t&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(h.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(h.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(h.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(h.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var t;let{year:i,month:e,date:n}=f(this.date),a=((t=this.customData)===null||t===void 0?void 0:t.attrs)||{};this.$cell=b({className:this._getClassName(),attrs:{"data-year":i,"data-month":e,"data-date":n,...a}})}_getClassName(){var t,i;let e=new Date,{selectOtherMonths:n,selectOtherYears:a}=this.opts,{minDate:s,maxDate:r}=this.dp,{day:l}=f(this.date),d=this._isOutOfMinMaxRange(),c=(t=this.customData)===null||t===void 0?void 0:t.disabled,p=x("air-datepicker-cell",`-${this.singleType}-`,{"-current-":y(e,this.date,this.type),"-min-date-":s&&y(s,this.date,this.type),"-max-date-":r&&y(r,this.date,this.type)}),m="";switch(this.type){case h.days:m=x({"-weekend-":this.dp.isWeekend(l),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!n||d||c});break;case h.months:m=x({"-disabled-":d||c});break;case h.years:m=x({"-other-decade-":this.isOtherDecade,"-disabled-":d||this.isOtherDecade&&!a||c})}return x(p,m,(i=this.customData)===null||i===void 0?void 0:i.classes)}_getHtml(){var t;let{year:i,month:e,date:n}=f(this.date),{showOtherMonths:a,showOtherYears:s}=this.opts;if((t=this.customData)!==null&&t!==void 0&&t.html)return this.customData.html;switch(this.type){case h.days:return!a&&this.isOtherMonth?"":n;case h.months:return this.dp.locale[this.opts.monthsField][e];case h.years:return!s&&this.isOtherDecade?"":i}}_isOutOfMinMaxRange(){let{minDate:t,maxDate:i}=this.dp,{type:e,date:n}=this,{month:a,year:s,date:r}=f(n),l=e===h.days,d=e===h.years,c=!!t&&new Date(s,d?t.getMonth():a,l?r:t.getDate()),p=!!i&&new Date(s,d?i.getMonth():a,l?r:i.getDate());return t&&i?K(c,t)||V(p,i):t?K(c,t):i?V(p,i):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{rangeDateFrom:t,rangeDateTo:i}=this.dp,e=x({"-in-range-":t&&i&&(n=this.date,a=t,s=i,V(n,a)&&K(n,s)),"-range-from-":t&&y(this.date,t,this.type),"-range-to-":i&&y(this.date,i,this.type)});var n,a,s;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),e&&this.$cell.classList.add(...e.split(" "))}_handleSelectedStatus(){let t=this.dp._checkIfDateIsSelected(this.date,this.type);t?this.select():!t&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){y(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function S(o,t,i){return(t=function(e){var n=function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var l=r.call(a,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(e);return typeof n=="symbol"?n:String(n)}(t))in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}let ct={[h.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${h.days}-"></div>`,[h.months]:`<div class="air-datepicker-body--cells -${h.months}-"></div>`,[h.years]:`<div class="air-datepicker-body--cells -${h.years}-"></div>`};const z=".air-datepicker-cell";class E{constructor(t){let{dp:i,type:e,opts:n}=t;S(this,"handleClick",a=>{let s=a.target.closest(z).adpCell;if(s.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let r=this.dp._checkIfDateIsSelected(s.date,s.type);r?this.dp._handleAlreadySelectedDates(r,s.date):this.dp.selectDate(s.date)}),S(this,"handleDayNameClick",a=>{let s=a.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(s),datepicker:this.dp})}),S(this,"onChangeCurrentView",a=>{a!==this.type?this.hide():(this.show(),this.render())}),S(this,"onMouseOverCell",a=>{let s=W(a.target,z);this.dp.setFocusDate(!!s&&s.adpCell.date)}),S(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),S(this,"onClickBody",a=>{let{onClickDayName:s}=this.opts,r=a.target;r.closest(z)&&this.handleClick(a),s&&r.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(a)}),S(this,"onMouseDown",a=>{this.pressed=!0;let s=W(a.target,z),r=s&&s.adpCell;y(r.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),y(r.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),S(this,"onMouseMove",a=>{if(!this.pressed||!this.dp.isMinViewReached)return;a.preventDefault();let s=W(a.target,z),r=s&&s.adpCell,{selectedDates:l,rangeDateTo:d,rangeDateFrom:c}=this.dp;if(!r||r.isDisabled)return;let{date:p}=r;if(l.length===2){if(this.rangeFromFocused&&!V(p,d)){let{hours:m,minutes:v}=f(c);p.setHours(m),p.setMinutes(v),this.dp.rangeDateFrom=p,this.dp.replaceDate(c,p)}if(this.rangeToFocused&&!K(p,c)){let{hours:m,minutes:v}=f(d);p.setHours(m),p.setMinutes(v),this.dp.rangeDateTo=p,this.dp.replaceDate(d,p)}}}),S(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),S(this,"onChangeViewDate",(a,s)=>{if(!this.isVisible)return;let r=O(a),l=O(s);switch(this.dp.currentView){case h.days:if(y(a,s,h.months))return;break;case h.months:if(y(a,s,h.years))return;break;case h.years:if(r[0]===l[0]&&r[1]===l[1])return}this.render()}),S(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(a=>{this.$cells.appendChild(a.render())})}),this.dp=i,this.type=e,this.opts=n,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===h.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:t,dynamicRange:i}=this.opts;M(this.$el,"mouseover",this.onMouseOverCell),M(this.$el,"mouseout",this.onMouseOutCell),M(this.$el,"click",this.onClickBody),t&&i&&(M(this.$el,"mousedown",this.onMouseDown),M(this.$el,"mousemove",this.onMouseMove),M(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(h.eventChangeViewDate,this.onChangeViewDate),this.dp.on(h.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=b({className:`air-datepicker-body -${this.type}-`,innerHtml:ct[this.type]}),this.$names=_(".air-datepicker-body--day-names",this.$el),this.$cells=_(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,i="",e=this.dp.isWeekend,{onClickDayName:n}=this.opts,a=t,s=0;for(;s<7;){let r=a%7;i+=`<div class="${x("air-datepicker-body--day-name",{[h.cssClassWeekend]:e(r),"-clickable-":!!n})}" data-day-index='${r}'>${this.dp.locale.daysMin[r]}</div>`,s++,a++}return i}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCell(t){let{type:i,dp:e,opts:n}=this;return new dt({type:i,dp:e,opts:n,date:t,body:this})}_generateCells(){E.getDatesFunction(this.type)(this.dp,t=>{this.cells.push(this._generateCell(t))})}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(t=>t.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(h.eventChangeViewDate,this.onChangeViewDate),this.dp.off(h.eventChangeCurrentView,this.onChangeCurrentView)}static getDaysDates(t,i){let{viewDate:e,locale:{firstDay:n}}=t,a=nt(e),{year:s,month:r}=f(e),l=new Date(s,r,1),d=new Date(s,r,a),c=l.getDay()-n,p=6-d.getDay()+n;c=c<0?c+7:c,p=p>6?p-7:p;let m=function(H,X){let{year:st,month:Q,date:Dt}=f(H);return new Date(st,Q,Dt-X)}(l,c),v=a+c+p,T=m.getDate(),{year:k,month:J}=f(m),j=0;const G=[];for(;j<v;){let H=new Date(k,J,T+j);i&&i(H),G.push(H),j++}return G}static getMonthsDates(t,i){let{year:e}=t.parsedViewDate,n=0,a=[];for(;n<12;){const s=new Date(e,n);a.push(s),i&&i(s),n++}return a}static getYearsDates(t,i){let e=O(t.viewDate),n=e[0]-1,a=e[1]+1,s=n,r=[];for(;s<=a;){const l=new Date(s,0);r.push(l),i&&i(l),s++}return r}static getDatesFunction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.days;return{[h.days]:E.getDaysDates,[h.months]:E.getMonthsDates,[h.years]:E.getYearsDates}[t]}}function N(o,t,i){return(t=function(e){var n=function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var l=r.call(a,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(e);return typeof n=="symbol"?n:String(n)}(t))in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}class ut{constructor(t){let{dp:i,opts:e}=t;N(this,"onClickNav",n=>{let a=W(n.target,".air-datepicker-nav--action");if(!a)return;let s=a.dataset.action;this.dp[s]()}),N(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),N(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),N(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),N(this,"update",()=>{let{prevHtml:n,nextHtml:a}=this.opts;this.$prev.innerHTML=n,this.$next.innerHTML=a,this._resetNavStatus(),this.render(),this.handleNavStatus()}),N(this,"renderDelay",()=>{setTimeout(this.render)}),N(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(n,a){for(let s in a)a[s]?n.classList.add(s):n.classList.remove(s)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=i,this.opts=e,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=_(".air-datepicker-nav--title",this.$el),this.$prev=_('[data-action="prev"]',this.$el),this.$next=_('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(h.eventChangeViewDate,this.onChangeViewDate),this.dp.on(h.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(h.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(h.eventChangeTime,this.render))}destroy(){this.dp.off(h.eventChangeViewDate,this.onChangeViewDate),this.dp.off(h.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(h.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(h.eventChangeTime,this.render))}_createElement(){this.$el=b({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:t,opts:i}=this,e=i.navTitles[t.currentView];return typeof e=="function"?e(t):t.formatDate(t.viewDate,e)}handleNavStatus(){let{disableNavWhenOutOfRange:t}=this.opts,{minDate:i,maxDate:e}=this.dp;if(!i&&!e||!t)return;let{year:n,month:a}=this.dp.parsedViewDate,s=!!i&&f(i),r=!!e&&f(e);switch(this.dp.currentView){case h.days:i&&s.month>=a&&s.year>=n&&this._disableNav("prev"),e&&r.month<=a&&r.year<=n&&this._disableNav("next");break;case h.months:i&&s.year>=n&&this._disableNav("prev"),e&&r.year<=n&&this._disableNav("next");break;case h.years:{let l=O(this.dp.viewDate);i&&s.year>=l[0]&&this._disableNav("prev"),e&&r.year<=l[1]&&this._disableNav("next");break}}}_disableNav(t){_('[data-action="'+t+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),n=1;n<i;n++)e[n-1]=arguments[n];t.length?t.forEach(a=>{a.classList.remove(...e)}):t.classList.remove(...e)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:t,nextHtml:i}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${t}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${i}</div>`}get isNavIsFunction(){let{navTitles:t}=this.opts;return Object.keys(t).find(i=>typeof t[i]=="function")}}var ot={today:{content:o=>o.locale.today,onClick:o=>o.setViewDate(new Date)},clear:{content:o=>o.locale.clear,onClick:o=>o.clear()}};class pt{constructor(t){let{dp:i,opts:e}=t;this.dp=i,this.opts=e,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=b({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:t}=this.opts;Array.isArray(t)||(t=[t]),t.forEach(i=>{let e=i;typeof i=="string"&&ot[i]&&(e=ot[i]);let n=this.createButton(e);e.onClick&&this.attachEventToButton(n,e.onClick),this.$el.appendChild(n)})}attachEventToButton(t,i){t.addEventListener("click",()=>{i(this.dp)})}createButton(t){let{content:i,className:e,tagName:n="button",attrs:a={}}=t;return b({tagName:n,innerHtml:`<span tabindex='-1'>${typeof i=="function"?i(this.dp):i}</span>`,className:x("air-datepicker-button",e),attrs:a})}render(){this.generateButtons()}}function P(o,t,i){return(t=function(e){var n=function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var l=r.call(a,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(e);return typeof n=="symbol"?n:String(n)}(t))in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}class mt{constructor(){let{opts:t,dp:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};P(this,"toggleTimepickerIsActive",n=>{this.dp.timepickerIsActive=n}),P(this,"onChangeSelectedDate",n=>{let{date:a,updateTime:s=!1}=n;a&&(this.setMinMaxTime(a),this.setCurrentTime(!!s&&a),this.addTimeToDate(a))}),P(this,"onChangeLastSelectedDate",n=>{n&&(this.setTime(n),this.render())}),P(this,"onChangeInputRange",n=>{let a=n.target;this[a.getAttribute("name")]=a.value,this.updateText(),this.dp.trigger(h.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),P(this,"onMouseEnterLeave",n=>{let a=n.target.getAttribute("name"),s=this.$minutesText;a==="hours"&&(s=this.$hoursText),s.classList.toggle("-focus-")}),P(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),P(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=t,this.dp=i;let{timeFormat:e}=this.dp.locale;e&&(e.match(et("h"))||e.match(et("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(h.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(h.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let t="input";navigator.userAgent.match(/trident/gi)&&(t="change"),M(this.$ranges,t,this.onChangeInputRange),M(this.$ranges,"mouseenter",this.onMouseEnterLeave),M(this.$ranges,"mouseleave",this.onMouseEnterLeave),M(this.$ranges,"focus",this.onFocus),M(this.$ranges,"mousedown",this.onFocus),M(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=b({className:x("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(h.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(h.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:t,hours:i,displayHours:e,minutes:n,minHours:a,minMinutes:s,maxHours:r,maxMinutes:l,dayPeriod:d,opts:{hoursStep:c,minutesStep:p}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${B(e)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${B(n)}</span>   `+(t?`<span class='air-datepicker-time--current-ampm'>${d}</span>`:"")+`</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">      <input type="range" name="hours" value="${i}" min="${a}" max="${r}" step="${c}"/>   </div>   <div class="air-datepicker-time--row">      <input type="range" name="minutes" value="${n}" min="${s}" max="${l}" step="${p}"/>   </div></div>`}defineDOM(){let t=i=>_(i,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=t('[name="hours"]'),this.$minutes=t('[name="minutes"]'),this.$hoursText=t(".air-datepicker-time--current-hours"),this.$minutesText=t(".air-datepicker-time--current-minutes"),this.$ampm=t(".air-datepicker-time--current-ampm")}setTime(t){this.setMinMaxTime(t),this.setCurrentTime(t)}addTimeToDate(t){t&&(t.setHours(this.hours),t.setMinutes(this.minutes))}setMinMaxTime(t){if(this.setMinMaxTimeFromOptions(),t){let{minDate:i,maxDate:e}=this.dp;i&&y(t,i)&&this.setMinTimeFromMinDate(i),e&&y(t,e)&&this.setMaxTimeFromMaxDate(e)}}setCurrentTime(t){let{hours:i,minutes:e}=t?f(t):this;this.hours=U(i,this.minHours,this.maxHours),this.minutes=U(e,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:t,minMinutes:i,maxHours:e,maxMinutes:n}=this.opts;this.minHours=U(t,0,23),this.minMinutes=U(i,0,59),this.maxHours=U(e,0,23),this.maxMinutes=U(n,0,59)}setMinTimeFromMinDate(t){let{lastSelectedDate:i}=this.dp;this.minHours=t.getHours(),i&&i.getHours()>t.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=t.getMinutes()}setMaxTimeFromMaxDate(t){let{lastSelectedDate:i}=this.dp;this.maxHours=t.getHours(),i&&i.getHours()<t.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=t.getMinutes()}updateSliders(){Z(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,Z(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=B(this.displayHours),this.$minutesText.innerHTML=B(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(t){this._hours=t;let{hours:i,dayPeriod:e}=rt(t);this.displayHours=this.ampm?i:t,this.dayPeriod=e}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function R(o,t,i){return(t=function(e){var n=function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var l=r.call(a,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(e);return typeof n=="symbol"?n:String(n)}(t))in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}class gt{constructor(t){let{dp:i,opts:e}=t;R(this,"pressedKeys",new Set),R(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],n=>n.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],n=>n.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],n=>n.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],n=>n.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],n=>n.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],n=>n.year-=10],[["Control","Shift","ArrowUp"],(n,a)=>a.up()]])),R(this,"handleHotKey",n=>{let a=this.hotKeys.get(n),s=f(this.getInitialFocusDate());a(s,this.dp);let{year:r,month:l,date:d}=s,c=nt(new Date(r,l));c<d&&(d=c);let p=this.dp.getClampedDate(new Date(r,l,d));this.dp.setFocusDate(p,{viewDateTransition:!0})}),R(this,"isHotKeyPressed",()=>{let n=!1,a=this.pressedKeys.size,s=r=>this.pressedKeys.has(r);for(let[r]of this.hotKeys){if(n)break;if(Array.isArray(r[0]))r.forEach(l=>{n||a!==l.length||(n=l.every(s)&&r)});else{if(a!==r.length)continue;n=r.every(s)&&r}}return n}),R(this,"isArrow",n=>n>=37&&n<=40),R(this,"onKeyDown",n=>{let{key:a,which:s}=n,{dp:r,dp:{focusDate:l},opts:d}=this;this.registerKey(a);let c=this.isHotKeyPressed();if(c)return n.preventDefault(),void this.handleHotKey(c);if(this.isArrow(s))return n.preventDefault(),void this.focusNextCell(a);if(a==="Enter"){if(r.currentView!==d.minView)return void r.down();if(l){let p=r._checkIfDateIsSelected(l);return void(p?r._handleAlreadySelectedDates(p,l):r.selectDate(l))}}a==="Escape"&&this.dp.hide()}),R(this,"onKeyUp",n=>{this.removeKey(n.key)}),this.dp=i,this.opts=e,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:t}=this.dp;t.addEventListener("keydown",this.onKeyDown),t.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:t}=this.dp;t.removeEventListener("keydown",this.onKeyDown),t.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:t,currentView:i,selectedDates:e,parsedViewDate:{year:n,month:a}}=this.dp,s=t||e[e.length-1];if(!s)switch(i){case h.days:s=new Date(n,a,new Date().getDate());break;case h.months:s=new Date(n,a,1);break;case h.years:s=new Date(n,0,1)}return s}focusNextCell(t){let i=this.getInitialFocusDate(),{currentView:e}=this.dp,{days:n,months:a,years:s}=h,r=f(i),l=r.year,d=r.month,c=r.date;switch(t){case"ArrowLeft":e===n&&(c-=1),e===a&&(d-=1),e===s&&(l-=1);break;case"ArrowUp":e===n&&(c-=7),e===a&&(d-=3),e===s&&(l-=4);break;case"ArrowRight":e===n&&(c+=1),e===a&&(d+=1),e===s&&(l+=1);break;case"ArrowDown":e===n&&(c+=7),e===a&&(d+=3),e===s&&(l+=4)}let p=this.dp.getClampedDate(new Date(l,d,c));this.dp.setFocusDate(p,{viewDateTransition:!0})}registerKey(t){this.pressedKeys.add(t)}removeKey(t){this.pressedKeys.delete(t)}}let vt={on(o,t){this.__events||(this.__events={}),this.__events[o]?this.__events[o].push(t):this.__events[o]=[t]},off(o,t){this.__events&&this.__events[o]&&(this.__events[o]=this.__events[o].filter(i=>i!==t))},removeAllEvents(){this.__events={}},trigger(o){for(var t=arguments.length,i=new Array(t>1?t-1:0),e=1;e<t;e++)i[e-1]=arguments[e];this.__events&&this.__events[o]&&this.__events[o].forEach(n=>{n(...i)})}};function g(o,t,i){return(t=function(e){var n=function(a,s){if(typeof a!="object"||a===null)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var l=r.call(a,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(e);return typeof n=="symbol"?n:String(n)}(t))in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}let Y="",L="",it=!1;class I{static buildGlobalContainer(t){it=!0,Y=b({className:t,id:t}),_("body").appendChild(Y)}constructor(t,i){var e=this;if(g(this,"viewIndexes",[h.days,h.months,h.years]),g(this,"next",()=>{let{year:s,month:r}=this.parsedViewDate;switch(this.currentView){case h.days:this.setViewDate(new Date(s,r+1,1));break;case h.months:this.setViewDate(new Date(s+1,r,1));break;case h.years:this.setViewDate(new Date(s+10,0,1))}}),g(this,"prev",()=>{let{year:s,month:r}=this.parsedViewDate;switch(this.currentView){case h.days:this.setViewDate(new Date(s,r-1,1));break;case h.months:this.setViewDate(new Date(s-1,r,1));break;case h.years:this.setViewDate(new Date(s-10,0,1))}}),g(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),g(this,"setPosition",function(s){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(s=s||e.opts.position)=="function")return void(e.customHide=s({$datepicker:e.$datepicker,$target:e.$el,$pointer:e.$pointer,isViewChange:r,done:e._finishHide}));let l,d,{isMobile:c}=e.opts,p=e.$el.getBoundingClientRect(),m=e.$el.getBoundingClientRect(),v=e.$datepicker.offsetParent,T=e.$el.offsetParent,k=e.$datepicker.getBoundingClientRect(),J=s.split(" "),j=window.scrollY,G=window.scrollX,H=e.opts.offset,X=J[0],st=J[1];if(c)e.$datepicker.style.cssText="left: 50%; top: 50%";else{if(v===T&&v!==document.body&&(m={top:e.$el.offsetTop,left:e.$el.offsetLeft,width:p.width,height:e.$el.offsetHeight},j=0,G=0),v!==T&&v!==document.body){let Q=v.getBoundingClientRect();m={top:p.top-Q.top,left:p.left-Q.left,width:p.width,height:p.height},j=0,G=0}switch(X){case"top":l=m.top-k.height-H;break;case"right":d=m.left+m.width+H;break;case"bottom":l=m.top+m.height+H;break;case"left":d=m.left-k.width-H}switch(st){case"top":l=m.top;break;case"right":d=m.left+m.width-k.width;break;case"bottom":l=m.top+m.height-k.height;break;case"left":d=m.left;break;case"center":/left|right/.test(X)?l=m.top+m.height/2-k.height/2:d=m.left+m.width/2-k.width/2}e.$datepicker.style.cssText=`left: ${d+G}px; top: ${l+j}px`}}),g(this,"_setInputValue",()=>{let{opts:s,$altField:r,locale:{dateFormat:l}}=this,{altFieldDateFormat:d,altField:c}=s;c&&r&&(r.value=this._getInputValue(d)),this.$el.value=this._getInputValue(l)}),g(this,"_getInputValue",s=>{let{selectedDates:r,opts:l}=this,{multipleDates:d,multipleDatesSeparator:c}=l;if(!r.length)return"";let p=typeof s=="function",m=p?s(d?r:r[0]):r.map(v=>this.formatDate(v,s));return m=p?m:m.join(c),m}),g(this,"_checkIfDateIsSelected",function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.days,l=!1;return e.selectedDates.some(d=>{let c=y(s,d,r);return l=c&&d,c}),l}),g(this,"_scheduleCallAfterTransition",s=>{this._cancelScheduledCall(),s&&s(!1),this._onTransitionEnd=()=>{s&&s(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),g(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),g(this,"setViewDate",s=>{if(!((s=F(s))instanceof Date)||y(s,this.viewDate))return;let r=this.viewDate;this.viewDate=s;let{onChangeViewDate:l}=this.opts;if(l){let{month:d,year:c}=this.parsedViewDate;l({month:d,year:c,decade:this.curDecade})}this.trigger(h.eventChangeViewDate,s,r)}),g(this,"setFocusDate",function(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!s||(s=F(s))instanceof Date)&&(e.focusDate=s,e.opts.range&&s&&e._handleRangeOnFocus(),e.trigger(h.eventChangeFocusDate,s,r))}),g(this,"setCurrentView",s=>{if(this.viewIndexes.includes(s)){if(this.currentView=s,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(h.eventChangeCurrentView,s),!this.views[s]){let r=this.views[s]=new E({dp:this,opts:this.opts,type:s});this.shouldUpdateDOM&&this.$content.appendChild(r.$el)}this.opts.onChangeView&&this.opts.onChangeView(s)}}),g(this,"_updateLastSelectedDate",s=>{this.lastSelectedDate=s,this.trigger(h.eventChangeLastSelectedDate,s)}),g(this,"destroy",()=>{let{showEvent:s,isMobile:r}=this.opts,l=this.$datepicker.parentNode;l&&l.removeChild(this.$datepicker),this.$el.removeEventListener(s,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),r&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null}),g(this,"update",function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=q({},e.opts);q(e.opts,s);let{timepicker:l,buttons:d,range:c,selectedDates:p,isMobile:m}=e.opts,v=e.visible||e.treatAsInline;e._createMinMaxDates(),e._limitViewDateByMaxMinDates(),e._handleLocale(),!r.selectedDates&&p&&e.selectDate(p),s.view&&e.setCurrentView(s.view),e._setInputValue(),r.range&&!c?(e.rangeDateTo=!1,e.rangeDateFrom=!1):!r.range&&c&&e.selectedDates.length&&(e.rangeDateFrom=e.selectedDates[0],e.rangeDateTo=e.selectedDates[1]),r.timepicker&&!l?(v&&e.timepicker.destroy(),e.timepicker=!1,e.$timepicker.parentNode.removeChild(e.$timepicker)):!r.timepicker&&l&&e._addTimepicker(),!r.buttons&&d?e._addButtons():r.buttons&&!d?(e.buttons.destroy(),e.$buttons.parentNode.removeChild(e.$buttons)):v&&r.buttons&&d&&e.buttons.clearHtml().render(),!r.isMobile&&m?(e.treatAsInline||L||e._createMobileOverlay(),e._addMobileAttributes(),e.visible&&e._showMobileOverlay()):r.isMobile&&!m&&(e._removeMobileAttributes(),e.visible&&(L.classList.remove("-active-"),typeof e.opts.position!="function"&&e.setPosition())),v&&(e.nav.update(),e.views[e.currentView].render(),e.currentView===h.days&&e.views[e.currentView].renderDayNames())}),g(this,"isOtherMonth",s=>{let{month:r}=f(s);return r!==this.parsedViewDate.month}),g(this,"isOtherYear",s=>{let{year:r}=f(s);return r!==this.parsedViewDate.year}),g(this,"isOtherDecade",s=>{let{year:r}=f(s),[l,d]=O(this.viewDate);return r<l||r>d}),g(this,"_onChangeSelectedDate",s=>{let{silent:r}=s;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!r&&this._triggerOnSelect()})}),g(this,"_onChangeFocusedDate",function(s){let{viewDateTransition:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!s)return;let l=!1;r&&(l=e.isOtherMonth(s)||e.isOtherYear(s)||e.isOtherDecade(s)),l&&e.setViewDate(s),e.opts.onFocus&&e.opts.onFocus({datepicker:e,date:s})}),g(this,"_onChangeTime",s=>{let{hours:r,minutes:l}=s,d=new Date,{lastSelectedDate:c,opts:{onSelect:p}}=this,m=c;c||(m=d);let v=this.getCell(m,this.currentViewSingular),T=v&&v.adpCell;T&&T.isDisabled||(m.setHours(r),m.setMinutes(l),c?(this._setInputValue(),p&&this._triggerOnSelect()):this.selectDate(m))}),g(this,"_onFocus",s=>{this.visible||this.show()}),g(this,"_onBlur",s=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),g(this,"_onMouseDown",s=>{this.inFocus=!0}),g(this,"_onMouseUp",s=>{this.inFocus=!1,this.$el.focus()}),g(this,"_onResize",()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()}),g(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),g(this,"getViewDates",function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.days;return E.getDatesFunction(s)(e)}),g(this,"isWeekend",s=>this.opts.weekends.includes(s)),g(this,"getClampedDate",s=>{let{minDate:r,maxDate:l}=this,d=s;return l&&V(s,l)?d=l:r&&K(s,r)&&(d=r),d}),this.$el=_(t),!this.$el)return;this.$datepicker=b({className:"air-datepicker"}),this.opts=q({},D,i),this.$customContainer=!!this.opts.container&&_(this.opts.container),this.$altField=_(this.opts.altField||!1);let{view:n,startDate:a}=this.opts;a||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=F(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=n,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:t,treatAsInline:i,opts:{inline:e,isMobile:n,selectedDates:a,keyboardNav:s,onlyTimepicker:r}}=this,l=_("body");(!it||it&&Y&&!l.contains(Y))&&!e&&this.elIsInput&&!this.$customContainer&&I.buildGlobalContainer(I.defaultGlobalContainerId),!n||L||i||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(e||this._bindEvents(),s&&!r&&(this.keyboardNav=new gt({dp:this,opts:t}))),a&&this.selectDate(a,{silent:!0}),this.opts.visible&&!i&&this.show(),n&&!i&&this.$el.setAttribute("readonly",!0),i&&this._createComponents()}_createMobileOverlay(){L=b({className:"air-datepicker-overlay"}),Y.appendChild(L)}_createComponents(){let{opts:t,treatAsInline:i,opts:{inline:e,buttons:n,timepicker:a,position:s,classes:r,onlyTimepicker:l,isMobile:d}}=this;this._buildBaseHtml(),this.elIsInput&&(e||this._setPositionClasses(s)),!e&&this.elIsInput||this.$datepicker.classList.add("-inline-"),r&&this.$datepicker.classList.add(...r.split(" ")),l&&this.$datepicker.classList.add("-only-timepicker-"),d&&!i&&this._addMobileAttributes(),this.views[this.currentView]=new E({dp:this,type:this.currentView,opts:t}),this.nav=new ut({dp:this,opts:t}),a&&this._addTimepicker(),n&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let t in this.views)this.views[t].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){L.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){L.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:t,maxDate:i}=this.opts;this.minDate=!!t&&F(t),this.maxDate=!!i&&F(i)}_addTimepicker(){this.$timepicker=b({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new mt({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=b({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new pt({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(h.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(h.eventChangeFocusDate,this._onChangeFocusedDate),this.on(h.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:t}=this.opts;var i,e;this.elIsInput?t?(i=this.$datepicker,(e=this.$el).parentNode.insertBefore(i,e.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=_(".air-datepicker--content",this.$datepicker),this.$pointer=_(".air-datepicker--pointer",this.$datepicker),this.$nav=_(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:t,dateFormat:i,firstDay:e,timepicker:n,onlyTimepicker:a,timeFormat:s,dateTimeSeparator:r}=this.opts;var l;this.locale=(l=t,JSON.parse(JSON.stringify(l))),i&&(this.locale.dateFormat=i),s!==void 0&&s!==""&&(this.locale.timeFormat=s);let{timeFormat:d}=this.locale;if(e!==""&&(this.locale.firstDay=e),n&&typeof i!="function"){let c=d?r:"";this.locale.dateFormat=[this.locale.dateFormat,d||""].join(c)}a&&typeof i!="function"&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(t){if(typeof t=="function")return void this.$datepicker.classList.add("-custom-position-");let i=(t=t.split(" "))[0],e=`air-datepicker -${i}-${t[1]}- -from-${i}-`;this.$datepicker.classList.add(...e.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:t,minDate:i,maxDate:e}=this;e&&V(t,e)&&this.setViewDate(e),i&&K(t,i)&&this.setViewDate(i)}formatDate(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,i=arguments.length>1?arguments[1]:void 0;if(t=F(t),!(t instanceof Date))return;let e=i,n=this.locale,a=f(t),s=a.dayPeriod,r=O(t),l=I.replacer,d={T:t.getTime(),m:a.minutes,mm:a.fullMinutes,h:a.hours12,hh:a.fullHours12,H:a.hours,HH:a.fullHours,aa:s,AA:s.toUpperCase(),E:n.daysShort[a.day],EEEE:n.days[a.day],d:a.date,dd:a.fullDate,M:a.month+1,MM:a.fullMonth,MMM:n.monthsShort[a.month],MMMM:n.months[a.month],yy:a.year.toString().slice(-2),yyyy:a.year,yyyy1:r[0],yyyy2:r[1]};for(let[c,p]of Object.entries(d))e=l(e,et(c),p);return e}down(t){this._handleUpDownActions(t,"down")}up(t){this._handleUpDownActions(t,"up")}selectDate(t){let i,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:n,parsedViewDate:a,selectedDates:s}=this,{updateTime:r}=e,{moveToOtherMonthsOnSelect:l,moveToOtherYearsOnSelect:d,multipleDates:c,range:p,autoClose:m,onBeforeSelect:v}=this.opts,T=s.length;if(Array.isArray(t))return t.forEach(k=>{this.selectDate(k,e)}),new Promise(k=>{setTimeout(k)});if((t=F(t))instanceof Date){if(v&&!v({date:t,datepicker:this}))return Promise.resolve();if(n===h.days&&t.getMonth()!==a.month&&l&&(i=new Date(t.getFullYear(),t.getMonth(),1)),n===h.years&&t.getFullYear()!==a.year&&d&&(i=new Date(t.getFullYear(),0,1)),i&&this.setViewDate(i),c&&!p){if(T===c)return;this._checkIfDateIsSelected(t)||s.push(t)}else if(p)switch(T){case 1:s.push(t),this.rangeDateTo||(this.rangeDateTo=t),V(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=t),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[t],this.rangeDateFrom=t,this.rangeDateTo="";break;default:this.selectedDates=[t],this.rangeDateFrom=t}else this.selectedDates=[t];return this.trigger(h.eventChangeSelectedDate,{action:h.actionSelectDate,silent:e?.silent,date:t,updateTime:r}),this._updateLastSelectedDate(t),m&&!this.timepickerIsActive&&this.visible&&(c||p?p&&T===1&&this.hide():this.hide()),new Promise(k=>{setTimeout(k)})}}unselectDate(t){let i=this.selectedDates,e=this;if((t=F(t))instanceof Date)return i.some((n,a)=>{if(y(n,t))return i.splice(a,1),e.selectedDates.length?e._updateLastSelectedDate(e.selectedDates[e.selectedDates.length-1]):(e.rangeDateFrom="",e.rangeDateTo="",e._updateLastSelectedDate(!1)),this.trigger(h.eventChangeSelectedDate,{action:h.actionUnselectDate,date:t}),!0})}replaceDate(t,i){let e=this.selectedDates.find(a=>y(a,t,this.currentView)),n=this.selectedDates.indexOf(e);n<0||y(this.selectedDates[n],i,this.currentView)||(this.selectedDates[n]=i,this.trigger(h.eventChangeSelectedDate,{action:h.actionSelectDate,date:i,updateTime:!0}),this._updateLastSelectedDate(i))}clear(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.lastSelectedDate=!1,this.trigger(h.eventChangeSelectedDate,{action:h.actionUnselectDate,silent:t.silent}),new Promise(i=>{setTimeout(i)})}show(){let{onShow:t,isMobile:i}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,t&&this._scheduleCallAfterTransition(t),i&&this._showMobileOverlay()}hide(){let{onHide:t,isMobile:i}=this.opts,e=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(n=>{!this.customHide&&(n&&e||!n&&!e)&&this._finishHide(),t&&t(n)}),i&&L.classList.remove("-active-")}_triggerOnSelect(){let t=[],i=[],{selectedDates:e,locale:n,opts:{onSelect:a,multipleDates:s,range:r}}=this,l=s||r,d=typeof n.dateFormat=="function";e.length&&(t=e.map(tt),i=d?s?n.dateFormat(t):t.map(c=>n.dateFormat(c)):t.map(c=>this.formatDate(c,n.dateFormat))),a({date:l?t:t[0],formattedDate:l?i:i[0],datepicker:this})}_handleAlreadySelectedDates(t,i){const{range:e,toggleSelected:n}=this.opts;let a=typeof n=="function"?n({datepicker:this,date:i}):n;e&&(a||this.selectedDates.length!==2&&this.selectDate(i)),a?this.unselectDate(i):this._updateLastSelectedDate(t)}_handleUpDownActions(t,i){if(!((t=F(t||this.focusDate||this.viewDate))instanceof Date))return;let e=i==="up"?this.viewIndex+1:this.viewIndex-1;e>2&&(e=2),e<0&&(e=0),this.setViewDate(new Date(t.getFullYear(),t.getMonth(),1)),this.setCurrentView(this.viewIndexes[e])}_handleRangeOnFocus(){this.selectedDates.length===1&&(V(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.day;if(!((t=F(t))instanceof Date))return;let{year:e,month:n,date:a}=f(t),s=`[data-year="${e}"]`,r=`[data-month="${n}"]`,l={[h.day]:`${s}${r}[data-date="${a}"]`,[h.month]:`${s}${r}`,[h.year]:`${s}`};return this.views[this.currentView].$el.querySelector(l[i])}_showMobileOverlay(){L.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((t,i)=>parseFloat(i)+t,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return f(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return O(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===h.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===h.days}get $container(){return this.$customContainer||Y}static replacer(t,i,e){return t.replace(i,function(n,a,s,r){return a+e+r})}}var ht;return g(I,"defaults",D),g(I,"version","3.4.0"),g(I,"defaultGlobalContainerId","air-datepicker-global-container"),ht=I.prototype,Object.assign(ht,vt),w.default}()})})(lt);var wt=lt.exports;const _t=yt(wt);class bt{directionSelect;directionList;directionIcon;directionItem;directionCurrent;durationSelect;durationList;durationIcon;durationItem;durationCurrent;dataSelect;dataList;dataIcon;dataItem;dataCurrent;dataCurrentDay;dataCurrentMonth;guestsItemAdults;guestsItemKids;guestsSelect;guestsList;guestsIcon;guestsItem;findRowSub;slider;constructor(){this.directionSelect=u(".direction__select"),this.directionList=u(".direction__list"),this.directionIcon=u(".direction__icon"),this.directionItem=u(".direction__item"),this.directionCurrent=u(".direction__current"),this.durationSelect=u(".duration__select"),this.durationList=u(".duration__list"),this.durationIcon=u(".duration__icon"),this.durationItem=u(".duration__item"),this.durationCurrent=u(".duration__current"),this.dataSelect=u(".data__select"),this.dataList=u(".data__list"),this.dataIcon=u(".data__icon"),this.dataItem=u(".data__item"),this.dataCurrent=u(".data__current"),this.dataCurrentDay=u(".data__current-day"),this.dataCurrentMonth=u(".data__current-month"),this.guestsItemAdults=u(".guests__item_adults"),this.guestsItemKids=u(".guests__item_kids"),this.guestsSelect=u(".guests__select"),this.guestsList=u(".guests__list"),this.guestsIcon=u(".guests__icon"),this.guestsItem=u(".guests__item"),this.findRowSub=u(".find__row_sub"),this.slider=u("#slider"),this.init()}init(){this.selectDirection(),this.selectDuration(),this.initCalendar(),this.selectData(),this.updateCounterAdults(),this.updateCounterKids(),this.selectGuests(),this.accordion()}selectDirection(){const C=this;this.directionSelect.on("click",()=>{this.directionList.addClass("direction__list_show").toggle()}),this.directionItem.each(function($,w){u(w).on("click",function(){let h=u(this).text();C.directionCurrent.text(h)})})}selectDuration(){const C=this;this.durationSelect.on("click",()=>{this.durationList.addClass("duration__list_show").toggle()}),this.durationItem.each(function($,w){u(w).on("click",function(){let h=u(this).text();C.durationCurrent.text(h)})})}selectData(){const C=this;this.dataSelect.on("click",()=>{this.dataList.addClass("data__list_show").toggle()}),this.dataItem.find(".air-datepicker-cell.-day-").on("click",function(){const $=u(this).data("date"),w=u(this).data("month"),h=new Date(2022,w,1),D=new Intl.DateTimeFormat("ru-Ru",{month:"long"}).format(h);C.dataCurrentDay.text($),C.dataCurrentMonth.text(D),C.dataList.removeClass("data__list_show")})}initCalendar(){new _t("#calendar")}updateCounterAdults(){let C=u(".guests__current-counter");this.guestsItemAdults.each(function(){let $=u(this).find(".guests__btn-adults-minus"),w=u(this).find(".guests__btn-adults-plus"),h=u(this).find(".guests__item-adults-counter");$.on("click",function(){let D=+h.text();D>0&&(h.text(D-1),C.text(D-1))}),w.on("click",function(){let D=+h.text();D<9&&(h.text(D+1),C.text(D+1))})})}updateCounterKids(){let C=u(".guests__current-subcounter");this.guestsItemKids.each(function(){let $=u(this).find(".guests__btn-kids-minus"),w=u(this).find(".guests__btn-kids-plus"),h=u(this).find(".guests__item-kids-counter");$.on("click",function(){let D=+h.text();D>0&&(h.text(D-1),C.text(D-1),u(".guests__item").last().remove()),D===1&&w.prop("disabled",!1)}),w.on("click",function(){let D=+h.text();if(D<9&&(h.text(D+1),C.text(D+1)),D+1===9&&w.prop("disabled",!0),C.text().length>0){u(".guests__list").append(`
            <li class="guests__item guests__item_years">
            <label for="age">Ребёнок: <span class="guests__num"></span></label>
            <select class="guests__selects"  id="age" name="age">
                <option value="0">Возраст</option>
                <option value="1">1 год</option>
                <option value="2">2 года</option>
                <option value="3">3 года</option>
                <option value="4">4 года</option>
                <option value="5">5 лет</option>
                <option value="6">6 лет</option>
                <option value="7">7 лет</option>
                <option value="8">8 лет</option>
                <option value="9">9 лет</option>
                <option value="10">10 лет</option>
                <option value="11">11 лет</option>
                <option value="12">12 лет</option>
                <option value="13">13 лет</option>
                <option value="14">14 лет</option>
                <option value="15">15 лет</option>
                <option value="16">16 лет</option>
                <option value="17">17 лет</option>
            </select>
            </li>`);for(let b=0;b<u(".guests__item_years").length;b++)u(".guests__num").eq(b).text(b+1)}})})}selectGuests(){this.guestsSelect.on("click",()=>{this.guestsList.addClass("guests__list_show")})}accordion(){u(".find__row-btn").on("click",function(){u(".find__row-sub").addClass("find__row-sub_act"),u(".find__row-btn").addClass("find__row-btn_act"),u(".find__row-line").removeClass("find__row-line_act"),u(".find__row-btn-close").removeClass("find__row-btn-close_act")}),u(".find__row-btn-close").on("click",function(){u(".find__row-sub").removeClass("find__row-sub_act"),u(".find__row-btn").removeClass("find__row-btn_act"),u(".find__row-line").addClass("find__row-line_act"),u(".find__row-btn-close").addClass("find__row-btn-close_act")})}}new bt;
