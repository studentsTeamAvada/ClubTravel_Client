import{$ as D,c as Dt,g as yt,H as _t}from"./header-o5Nvgfqe.js";import{F as wt}from"./footer-FxxaSssw.js";import{J as bt}from"./just-validate.es-k8Kmam5L.js";class Ct{dropDown;dropMain;btn;allAccordions;countryMainDrop;tourMainDrop;constructor(){this.dropDown=D(".drop-country"),this.dropMain=D(".drop-country__accordions"),this.btn=D(".drop-country__btn"),this.allAccordions=D(".accordion"),this.countryMainDrop=D(".drop-country__county"),this.tourMainDrop=D(".drop-country__tour"),this.init()}init(){this.open(),this.observer(),this.accordion(),this.startValue()}startValue(){const p=sessionStorage.getItem("city");p?this.countryMainDrop.html(p):this.countryMainDrop.html("Болгария");const d=sessionStorage.getItem("tour");d?this.tourMainDrop.html(d):this.tourMainDrop.html("Золотые пески")}open(){this.btn.on("click",()=>{this.dropDown.toggleClass("drop-country_active")});const p=this;D(document).on("click",function(d){p.dropDown.has(d.target).length==0&&p.dropDown.removeClass("drop-country_active")})}observer(){const p=Number(this.dropMain.height()),d=this;D(document).ready(function(){const v={root:null,rootMargin:`0px 0px -${p+30}px 0px`,threshold:1};function o(w){w.forEach(S=>{const x=Number(D(window).height()),_=Number(S.boundingClientRect.top);x>700&&_>0&&(S.isIntersecting?(d.dropDown.addClass("drop-country_bottom"),d.dropDown.removeClass("drop-country_top")):(d.dropDown.addClass("drop-country_top"),d.dropDown.removeClass("drop-country_bottom")))})}const g=D(".drop-country__btn"),c=new IntersectionObserver(o,v);g.each(function(w,S){c.observe(S)})})}accordion(){const p=this;this.allAccordions.each((o,g)=>{v(g),d(g)});function d(o){const g=o.querySelectorAll("li"),c=String(o.querySelector(".accordion__country")?.textContent);g.forEach(w=>{w.addEventListener("click",()=>{p.countryMainDrop.html(c),p.tourMainDrop.html(String(w.textContent)),sessionStorage.setItem("city",c),sessionStorage.setItem("tour",String(w.textContent)),p.dropDown.removeClass("drop-country_active")})})}function v(o){document.addEventListener("click",g=>{o.contains(g.target)?o.classList.toggle("accordion_active"):o.classList.remove("accordion_active")})}}}var lt={exports:{}};(function(B,p){(function(d,v){B.exports=v()})(Dt,function(){return function(){var d={d:function(h,t){for(var i in t)d.o(t,i)&&!d.o(h,i)&&Object.defineProperty(h,i,{enumerable:!0,get:t[i]})},o:function(h,t){return Object.prototype.hasOwnProperty.call(h,t)}},v={};d.d(v,{default:function(){return I}});var o={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},g={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:o.days,minView:o.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function c(h){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof h=="string"?t.querySelector(h):h}function w(){let{tagName:h="div",className:t="",innerHtml:i="",id:e="",attrs:r={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=document.createElement(h);return t&&n.classList.add(...t.split(" ")),e&&(n.id=e),i&&(n.innerHTML=i),r&&S(n,r),n}function S(h,t){for(let[i,e]of Object.entries(t))e!==void 0&&h.setAttribute(i,e);return h}function x(h){return new Date(h.getFullYear(),h.getMonth()+1,0).getDate()}function _(h){let t=h.getHours(),{hours:i,dayPeriod:e}=C(t);return{year:h.getFullYear(),month:h.getMonth(),fullMonth:h.getMonth()+1<10?"0"+(h.getMonth()+1):h.getMonth()+1,date:h.getDate(),fullDate:h.getDate()<10?"0"+h.getDate():h.getDate(),day:h.getDay(),hours:t,fullHours:V(t),hours12:i,dayPeriod:e,fullHours12:V(i),minutes:h.getMinutes(),fullMinutes:h.getMinutes()<10?"0"+h.getMinutes():h.getMinutes()}}function C(h){return{dayPeriod:h>11?"pm":"am",hours:h%12==0?12:h%12}}function V(h){return h<10?"0"+h:h}function A(h){let t=10*Math.floor(h.getFullYear()/10);return[t,t+9]}function O(){let h=[];for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return i.forEach(r=>{if(typeof r=="object")for(let n in r)r[n]&&h.push(n);else r&&h.push(r)}),h.join(" ")}function $(h,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.days;if(!h||!t)return!1;let e=_(h),r=_(t);return{[o.days]:e.date===r.date&&e.month===r.month&&e.year===r.year,[o.months]:e.month===r.month&&e.year===r.year,[o.years]:e.year===r.year}[i]}function H(h,t,i){let e=st(h,!1).getTime(),r=st(t,!1).getTime();return i?e>=r:e>r}function W(h,t){return!H(h,t,!0)}function st(h){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=new Date(h.getTime());return typeof t!="boolean"||t||function(e){e.setHours(0,0,0,0)}(i),i}function T(h,t,i){h.length?h.forEach(e=>{e.addEventListener(t,i)}):h.addEventListener(t,i)}function X(h,t){return!(!h||h===document||h instanceof DocumentFragment)&&(h.matches(t)?h:X(h.parentNode,t))}function z(h,t,i){return h>i?i:h<t?t:h}function Z(h){for(var t=arguments.length,i=new Array(t>1?t-1:0),e=1;e<t;e++)i[e-1]=arguments[e];return i.filter(r=>r).forEach(r=>{for(let[n,s]of Object.entries(r))if(s!==void 0&&s.toString()==="[object Object]"){let a=h[n]!==void 0?h[n].toString():void 0,l=s.toString(),u=Array.isArray(s)?[]:{};h[n]=h[n]?a!==l?u:h[n]:u,Z(h[n],s)}else h[n]=s}),h}function E(h){let t=h;return h instanceof Date||(t=new Date(h)),isNaN(t.getTime())&&(console.log(`Unable to convert value "${h}" to Date object`),t=!1),t}function nt(h){let t="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+t+")("+h+")($|<|"+t+")","g")}function j(h,t,i){return(t=function(e){var r=function(n,s){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e);return typeof r=="symbol"?r:String(r)}(t))in h?Object.defineProperty(h,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):h[t]=i,h}class dt{constructor(){let{type:t,date:i,dp:e,opts:r,body:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};j(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),j(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),j(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),j(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),j(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),j(this,"onChangeFocusDate",s=>{if(!s)return void(this.focused&&this.removeFocus());let a=$(s,this.date,this.type);a?this.focus():!a&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),j(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell)),this.type=t,this.singleType=this.type.slice(0,-1),this.date=i,this.dp=e,this.opts=r,this.body=n,this.customData=!1,this.init()}init(){let{range:t,onRenderCell:i}=this.opts;i&&(this.customData=i({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),t&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(o.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(o.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(o.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(o.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var t;let{year:i,month:e,date:r}=_(this.date),n=((t=this.customData)===null||t===void 0?void 0:t.attrs)||{};this.$cell=w({className:this._getClassName(),attrs:{"data-year":i,"data-month":e,"data-date":r,...n}})}_getClassName(){var t,i;let e=new Date,{selectOtherMonths:r,selectOtherYears:n}=this.opts,{minDate:s,maxDate:a}=this.dp,{day:l}=_(this.date),u=this._isOutOfMinMaxRange(),m=(t=this.customData)===null||t===void 0?void 0:t.disabled,f=O("air-datepicker-cell",`-${this.singleType}-`,{"-current-":$(e,this.date,this.type),"-min-date-":s&&$(s,this.date,this.type),"-max-date-":a&&$(a,this.date,this.type)}),y="";switch(this.type){case o.days:y=O({"-weekend-":this.dp.isWeekend(l),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!r||u||m});break;case o.months:y=O({"-disabled-":u||m});break;case o.years:y=O({"-other-decade-":this.isOtherDecade,"-disabled-":u||this.isOtherDecade&&!n||m})}return O(f,y,(i=this.customData)===null||i===void 0?void 0:i.classes)}_getHtml(){var t;let{year:i,month:e,date:r}=_(this.date),{showOtherMonths:n,showOtherYears:s}=this.opts;if((t=this.customData)!==null&&t!==void 0&&t.html)return this.customData.html;switch(this.type){case o.days:return!n&&this.isOtherMonth?"":r;case o.months:return this.dp.locale[this.opts.monthsField][e];case o.years:return!s&&this.isOtherDecade?"":i}}_isOutOfMinMaxRange(){let{minDate:t,maxDate:i}=this.dp,{type:e,date:r}=this,{month:n,year:s,date:a}=_(r),l=e===o.days,u=e===o.years,m=!!t&&new Date(s,u?t.getMonth():n,l?a:t.getDate()),f=!!i&&new Date(s,u?i.getMonth():n,l?a:i.getDate());return t&&i?W(m,t)||H(f,i):t?W(m,t):i?H(f,i):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{rangeDateFrom:t,rangeDateTo:i}=this.dp,e=O({"-in-range-":t&&i&&(r=this.date,n=t,s=i,H(r,n)&&W(r,s)),"-range-from-":t&&$(this.date,t,this.type),"-range-to-":i&&$(this.date,i,this.type)});var r,n,s;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),e&&this.$cell.classList.add(...e.split(" "))}_handleSelectedStatus(){let t=this.dp._checkIfDateIsSelected(this.date,this.type);t?this.select():!t&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){$(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function F(h,t,i){return(t=function(e){var r=function(n,s){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e);return typeof r=="symbol"?r:String(r)}(t))in h?Object.defineProperty(h,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):h[t]=i,h}let ct={[o.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${o.days}-"></div>`,[o.months]:`<div class="air-datepicker-body--cells -${o.months}-"></div>`,[o.years]:`<div class="air-datepicker-body--cells -${o.years}-"></div>`};const Q=".air-datepicker-cell";class K{constructor(t){let{dp:i,type:e,opts:r}=t;F(this,"handleClick",n=>{let s=n.target.closest(Q).adpCell;if(s.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let a=this.dp._checkIfDateIsSelected(s.date,s.type);a?this.dp._handleAlreadySelectedDates(a,s.date):this.dp.selectDate(s.date)}),F(this,"handleDayNameClick",n=>{let s=n.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(s),datepicker:this.dp})}),F(this,"onChangeCurrentView",n=>{n!==this.type?this.hide():(this.show(),this.render())}),F(this,"onMouseOverCell",n=>{let s=X(n.target,Q);this.dp.setFocusDate(!!s&&s.adpCell.date)}),F(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),F(this,"onClickBody",n=>{let{onClickDayName:s}=this.opts,a=n.target;a.closest(Q)&&this.handleClick(n),s&&a.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(n)}),F(this,"onMouseDown",n=>{this.pressed=!0;let s=X(n.target,Q),a=s&&s.adpCell;$(a.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),$(a.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),F(this,"onMouseMove",n=>{if(!this.pressed||!this.dp.isMinViewReached)return;n.preventDefault();let s=X(n.target,Q),a=s&&s.adpCell,{selectedDates:l,rangeDateTo:u,rangeDateFrom:m}=this.dp;if(!a||a.isDisabled)return;let{date:f}=a;if(l.length===2){if(this.rangeFromFocused&&!H(f,u)){let{hours:y,minutes:k}=_(m);f.setHours(y),f.setMinutes(k),this.dp.rangeDateFrom=f,this.dp.replaceDate(m,f)}if(this.rangeToFocused&&!W(f,m)){let{hours:y,minutes:k}=_(u);f.setHours(y),f.setMinutes(k),this.dp.rangeDateTo=f,this.dp.replaceDate(u,f)}}}),F(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),F(this,"onChangeViewDate",(n,s)=>{if(!this.isVisible)return;let a=A(n),l=A(s);switch(this.dp.currentView){case o.days:if($(n,s,o.months))return;break;case o.months:if($(n,s,o.years))return;break;case o.years:if(a[0]===l[0]&&a[1]===l[1])return}this.render()}),F(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(n=>{this.$cells.appendChild(n.render())})}),this.dp=i,this.type=e,this.opts=r,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===o.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:t,dynamicRange:i}=this.opts;T(this.$el,"mouseover",this.onMouseOverCell),T(this.$el,"mouseout",this.onMouseOutCell),T(this.$el,"click",this.onClickBody),t&&i&&(T(this.$el,"mousedown",this.onMouseDown),T(this.$el,"mousemove",this.onMouseMove),T(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(o.eventChangeViewDate,this.onChangeViewDate),this.dp.on(o.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=w({className:`air-datepicker-body -${this.type}-`,innerHtml:ct[this.type]}),this.$names=c(".air-datepicker-body--day-names",this.$el),this.$cells=c(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,i="",e=this.dp.isWeekend,{onClickDayName:r}=this.opts,n=t,s=0;for(;s<7;){let a=n%7;i+=`<div class="${O("air-datepicker-body--day-name",{[o.cssClassWeekend]:e(a),"-clickable-":!!r})}" data-day-index='${a}'>${this.dp.locale.daysMin[a]}</div>`,s++,n++}return i}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCell(t){let{type:i,dp:e,opts:r}=this;return new dt({type:i,dp:e,opts:r,date:t,body:this})}_generateCells(){K.getDatesFunction(this.type)(this.dp,t=>{this.cells.push(this._generateCell(t))})}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(t=>t.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(o.eventChangeViewDate,this.onChangeViewDate),this.dp.off(o.eventChangeCurrentView,this.onChangeCurrentView)}static getDaysDates(t,i){let{viewDate:e,locale:{firstDay:r}}=t,n=x(e),{year:s,month:a}=_(e),l=new Date(s,a,1),u=new Date(s,a,n),m=l.getDay()-r,f=6-u.getDay()+r;m=m<0?m+7:m,f=f>6?f-7:f;let y=function(P,et){let{year:at,month:it,date:vt}=_(P);return new Date(at,it,vt-et)}(l,m),k=n+m+f,L=y.getDate(),{year:M,month:tt}=_(y),U=0;const G=[];for(;U<k;){let P=new Date(M,tt,L+U);i&&i(P),G.push(P),U++}return G}static getMonthsDates(t,i){let{year:e}=t.parsedViewDate,r=0,n=[];for(;r<12;){const s=new Date(e,r);n.push(s),i&&i(s),r++}return n}static getYearsDates(t,i){let e=A(t.viewDate),r=e[0]-1,n=e[1]+1,s=r,a=[];for(;s<=n;){const l=new Date(s,0);a.push(l),i&&i(l),s++}return a}static getDatesFunction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o.days;return{[o.days]:K.getDaysDates,[o.months]:K.getMonthsDates,[o.years]:K.getYearsDates}[t]}}function R(h,t,i){return(t=function(e){var r=function(n,s){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e);return typeof r=="symbol"?r:String(r)}(t))in h?Object.defineProperty(h,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):h[t]=i,h}class ut{constructor(t){let{dp:i,opts:e}=t;R(this,"onClickNav",r=>{let n=X(r.target,".air-datepicker-nav--action");if(!n)return;let s=n.dataset.action;this.dp[s]()}),R(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),R(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),R(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),R(this,"update",()=>{let{prevHtml:r,nextHtml:n}=this.opts;this.$prev.innerHTML=r,this.$next.innerHTML=n,this._resetNavStatus(),this.render(),this.handleNavStatus()}),R(this,"renderDelay",()=>{setTimeout(this.render)}),R(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(r,n){for(let s in n)n[s]?r.classList.add(s):r.classList.remove(s)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=i,this.opts=e,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=c(".air-datepicker-nav--title",this.$el),this.$prev=c('[data-action="prev"]',this.$el),this.$next=c('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(o.eventChangeViewDate,this.onChangeViewDate),this.dp.on(o.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(o.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(o.eventChangeTime,this.render))}destroy(){this.dp.off(o.eventChangeViewDate,this.onChangeViewDate),this.dp.off(o.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(o.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(o.eventChangeTime,this.render))}_createElement(){this.$el=w({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:t,opts:i}=this,e=i.navTitles[t.currentView];return typeof e=="function"?e(t):t.formatDate(t.viewDate,e)}handleNavStatus(){let{disableNavWhenOutOfRange:t}=this.opts,{minDate:i,maxDate:e}=this.dp;if(!i&&!e||!t)return;let{year:r,month:n}=this.dp.parsedViewDate,s=!!i&&_(i),a=!!e&&_(e);switch(this.dp.currentView){case o.days:i&&s.month>=n&&s.year>=r&&this._disableNav("prev"),e&&a.month<=n&&a.year<=r&&this._disableNav("next");break;case o.months:i&&s.year>=r&&this._disableNav("prev"),e&&a.year<=r&&this._disableNav("next");break;case o.years:{let l=A(this.dp.viewDate);i&&s.year>=l[0]&&this._disableNav("prev"),e&&a.year<=l[1]&&this._disableNav("next");break}}}_disableNav(t){c('[data-action="'+t+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];t.length?t.forEach(n=>{n.classList.remove(...e)}):t.classList.remove(...e)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:t,nextHtml:i}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${t}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${i}</div>`}get isNavIsFunction(){let{navTitles:t}=this.opts;return Object.keys(t).find(i=>typeof t[i]=="function")}}var ot={today:{content:h=>h.locale.today,onClick:h=>h.setViewDate(new Date)},clear:{content:h=>h.locale.clear,onClick:h=>h.clear()}};class pt{constructor(t){let{dp:i,opts:e}=t;this.dp=i,this.opts=e,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=w({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:t}=this.opts;Array.isArray(t)||(t=[t]),t.forEach(i=>{let e=i;typeof i=="string"&&ot[i]&&(e=ot[i]);let r=this.createButton(e);e.onClick&&this.attachEventToButton(r,e.onClick),this.$el.appendChild(r)})}attachEventToButton(t,i){t.addEventListener("click",()=>{i(this.dp)})}createButton(t){let{content:i,className:e,tagName:r="button",attrs:n={}}=t;return w({tagName:r,innerHtml:`<span tabindex='-1'>${typeof i=="function"?i(this.dp):i}</span>`,className:O("air-datepicker-button",e),attrs:n})}render(){this.generateButtons()}}function q(h,t,i){return(t=function(e){var r=function(n,s){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e);return typeof r=="symbol"?r:String(r)}(t))in h?Object.defineProperty(h,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):h[t]=i,h}class mt{constructor(){let{opts:t,dp:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};q(this,"toggleTimepickerIsActive",r=>{this.dp.timepickerIsActive=r}),q(this,"onChangeSelectedDate",r=>{let{date:n,updateTime:s=!1}=r;n&&(this.setMinMaxTime(n),this.setCurrentTime(!!s&&n),this.addTimeToDate(n))}),q(this,"onChangeLastSelectedDate",r=>{r&&(this.setTime(r),this.render())}),q(this,"onChangeInputRange",r=>{let n=r.target;this[n.getAttribute("name")]=n.value,this.updateText(),this.dp.trigger(o.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),q(this,"onMouseEnterLeave",r=>{let n=r.target.getAttribute("name"),s=this.$minutesText;n==="hours"&&(s=this.$hoursText),s.classList.toggle("-focus-")}),q(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),q(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=t,this.dp=i;let{timeFormat:e}=this.dp.locale;e&&(e.match(nt("h"))||e.match(nt("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(o.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(o.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let t="input";navigator.userAgent.match(/trident/gi)&&(t="change"),T(this.$ranges,t,this.onChangeInputRange),T(this.$ranges,"mouseenter",this.onMouseEnterLeave),T(this.$ranges,"mouseleave",this.onMouseEnterLeave),T(this.$ranges,"focus",this.onFocus),T(this.$ranges,"mousedown",this.onFocus),T(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=w({className:O("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(o.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(o.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:t,hours:i,displayHours:e,minutes:r,minHours:n,minMinutes:s,maxHours:a,maxMinutes:l,dayPeriod:u,opts:{hoursStep:m,minutesStep:f}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${V(e)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${V(r)}</span>   `+(t?`<span class='air-datepicker-time--current-ampm'>${u}</span>`:"")+`</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">      <input type="range" name="hours" value="${i}" min="${n}" max="${a}" step="${m}"/>   </div>   <div class="air-datepicker-time--row">      <input type="range" name="minutes" value="${r}" min="${s}" max="${l}" step="${f}"/>   </div></div>`}defineDOM(){let t=i=>c(i,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=t('[name="hours"]'),this.$minutes=t('[name="minutes"]'),this.$hoursText=t(".air-datepicker-time--current-hours"),this.$minutesText=t(".air-datepicker-time--current-minutes"),this.$ampm=t(".air-datepicker-time--current-ampm")}setTime(t){this.setMinMaxTime(t),this.setCurrentTime(t)}addTimeToDate(t){t&&(t.setHours(this.hours),t.setMinutes(this.minutes))}setMinMaxTime(t){if(this.setMinMaxTimeFromOptions(),t){let{minDate:i,maxDate:e}=this.dp;i&&$(t,i)&&this.setMinTimeFromMinDate(i),e&&$(t,e)&&this.setMaxTimeFromMaxDate(e)}}setCurrentTime(t){let{hours:i,minutes:e}=t?_(t):this;this.hours=z(i,this.minHours,this.maxHours),this.minutes=z(e,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:t,minMinutes:i,maxHours:e,maxMinutes:r}=this.opts;this.minHours=z(t,0,23),this.minMinutes=z(i,0,59),this.maxHours=z(e,0,23),this.maxMinutes=z(r,0,59)}setMinTimeFromMinDate(t){let{lastSelectedDate:i}=this.dp;this.minHours=t.getHours(),i&&i.getHours()>t.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=t.getMinutes()}setMaxTimeFromMaxDate(t){let{lastSelectedDate:i}=this.dp;this.maxHours=t.getHours(),i&&i.getHours()<t.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=t.getMinutes()}updateSliders(){S(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,S(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=V(this.displayHours),this.$minutesText.innerHTML=V(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(t){this._hours=t;let{hours:i,dayPeriod:e}=C(t);this.displayHours=this.ampm?i:t,this.dayPeriod=e}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function Y(h,t,i){return(t=function(e){var r=function(n,s){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e);return typeof r=="symbol"?r:String(r)}(t))in h?Object.defineProperty(h,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):h[t]=i,h}class gt{constructor(t){let{dp:i,opts:e}=t;Y(this,"pressedKeys",new Set),Y(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],r=>r.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],r=>r.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],r=>r.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],r=>r.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],r=>r.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],r=>r.year-=10],[["Control","Shift","ArrowUp"],(r,n)=>n.up()]])),Y(this,"handleHotKey",r=>{let n=this.hotKeys.get(r),s=_(this.getInitialFocusDate());n(s,this.dp);let{year:a,month:l,date:u}=s,m=x(new Date(a,l));m<u&&(u=m);let f=this.dp.getClampedDate(new Date(a,l,u));this.dp.setFocusDate(f,{viewDateTransition:!0})}),Y(this,"isHotKeyPressed",()=>{let r=!1,n=this.pressedKeys.size,s=a=>this.pressedKeys.has(a);for(let[a]of this.hotKeys){if(r)break;if(Array.isArray(a[0]))a.forEach(l=>{r||n!==l.length||(r=l.every(s)&&a)});else{if(n!==a.length)continue;r=a.every(s)&&a}}return r}),Y(this,"isArrow",r=>r>=37&&r<=40),Y(this,"onKeyDown",r=>{let{key:n,which:s}=r,{dp:a,dp:{focusDate:l},opts:u}=this;this.registerKey(n);let m=this.isHotKeyPressed();if(m)return r.preventDefault(),void this.handleHotKey(m);if(this.isArrow(s))return r.preventDefault(),void this.focusNextCell(n);if(n==="Enter"){if(a.currentView!==u.minView)return void a.down();if(l){let f=a._checkIfDateIsSelected(l);return void(f?a._handleAlreadySelectedDates(f,l):a.selectDate(l))}}n==="Escape"&&this.dp.hide()}),Y(this,"onKeyUp",r=>{this.removeKey(r.key)}),this.dp=i,this.opts=e,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:t}=this.dp;t.addEventListener("keydown",this.onKeyDown),t.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:t}=this.dp;t.removeEventListener("keydown",this.onKeyDown),t.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:t,currentView:i,selectedDates:e,parsedViewDate:{year:r,month:n}}=this.dp,s=t||e[e.length-1];if(!s)switch(i){case o.days:s=new Date(r,n,new Date().getDate());break;case o.months:s=new Date(r,n,1);break;case o.years:s=new Date(r,0,1)}return s}focusNextCell(t){let i=this.getInitialFocusDate(),{currentView:e}=this.dp,{days:r,months:n,years:s}=o,a=_(i),l=a.year,u=a.month,m=a.date;switch(t){case"ArrowLeft":e===r&&(m-=1),e===n&&(u-=1),e===s&&(l-=1);break;case"ArrowUp":e===r&&(m-=7),e===n&&(u-=3),e===s&&(l-=4);break;case"ArrowRight":e===r&&(m+=1),e===n&&(u+=1),e===s&&(l+=1);break;case"ArrowDown":e===r&&(m+=7),e===n&&(u+=3),e===s&&(l+=4)}let f=this.dp.getClampedDate(new Date(l,u,m));this.dp.setFocusDate(f,{viewDateTransition:!0})}registerKey(t){this.pressedKeys.add(t)}removeKey(t){this.pressedKeys.delete(t)}}let ft={on(h,t){this.__events||(this.__events={}),this.__events[h]?this.__events[h].push(t):this.__events[h]=[t]},off(h,t){this.__events&&this.__events[h]&&(this.__events[h]=this.__events[h].filter(i=>i!==t))},removeAllEvents(){this.__events={}},trigger(h){for(var t=arguments.length,i=new Array(t>1?t-1:0),e=1;e<t;e++)i[e-1]=arguments[e];this.__events&&this.__events[h]&&this.__events[h].forEach(r=>{r(...i)})}};function b(h,t,i){return(t=function(e){var r=function(n,s){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e);return typeof r=="symbol"?r:String(r)}(t))in h?Object.defineProperty(h,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):h[t]=i,h}let J="",N="",rt=!1;class I{static buildGlobalContainer(t){rt=!0,J=w({className:t,id:t}),c("body").appendChild(J)}constructor(t,i){var e=this;if(b(this,"viewIndexes",[o.days,o.months,o.years]),b(this,"next",()=>{let{year:s,month:a}=this.parsedViewDate;switch(this.currentView){case o.days:this.setViewDate(new Date(s,a+1,1));break;case o.months:this.setViewDate(new Date(s+1,a,1));break;case o.years:this.setViewDate(new Date(s+10,0,1))}}),b(this,"prev",()=>{let{year:s,month:a}=this.parsedViewDate;switch(this.currentView){case o.days:this.setViewDate(new Date(s,a-1,1));break;case o.months:this.setViewDate(new Date(s-1,a,1));break;case o.years:this.setViewDate(new Date(s-10,0,1))}}),b(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),b(this,"setPosition",function(s){let a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(s=s||e.opts.position)=="function")return void(e.customHide=s({$datepicker:e.$datepicker,$target:e.$el,$pointer:e.$pointer,isViewChange:a,done:e._finishHide}));let l,u,{isMobile:m}=e.opts,f=e.$el.getBoundingClientRect(),y=e.$el.getBoundingClientRect(),k=e.$datepicker.offsetParent,L=e.$el.offsetParent,M=e.$datepicker.getBoundingClientRect(),tt=s.split(" "),U=window.scrollY,G=window.scrollX,P=e.opts.offset,et=tt[0],at=tt[1];if(m)e.$datepicker.style.cssText="left: 50%; top: 50%";else{if(k===L&&k!==document.body&&(y={top:e.$el.offsetTop,left:e.$el.offsetLeft,width:f.width,height:e.$el.offsetHeight},U=0,G=0),k!==L&&k!==document.body){let it=k.getBoundingClientRect();y={top:f.top-it.top,left:f.left-it.left,width:f.width,height:f.height},U=0,G=0}switch(et){case"top":l=y.top-M.height-P;break;case"right":u=y.left+y.width+P;break;case"bottom":l=y.top+y.height+P;break;case"left":u=y.left-M.width-P}switch(at){case"top":l=y.top;break;case"right":u=y.left+y.width-M.width;break;case"bottom":l=y.top+y.height-M.height;break;case"left":u=y.left;break;case"center":/left|right/.test(et)?l=y.top+y.height/2-M.height/2:u=y.left+y.width/2-M.width/2}e.$datepicker.style.cssText=`left: ${u+G}px; top: ${l+U}px`}}),b(this,"_setInputValue",()=>{let{opts:s,$altField:a,locale:{dateFormat:l}}=this,{altFieldDateFormat:u,altField:m}=s;m&&a&&(a.value=this._getInputValue(u)),this.$el.value=this._getInputValue(l)}),b(this,"_getInputValue",s=>{let{selectedDates:a,opts:l}=this,{multipleDates:u,multipleDatesSeparator:m}=l;if(!a.length)return"";let f=typeof s=="function",y=f?s(u?a:a[0]):a.map(k=>this.formatDate(k,s));return y=f?y:y.join(m),y}),b(this,"_checkIfDateIsSelected",function(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.days,l=!1;return e.selectedDates.some(u=>{let m=$(s,u,a);return l=m&&u,m}),l}),b(this,"_scheduleCallAfterTransition",s=>{this._cancelScheduledCall(),s&&s(!1),this._onTransitionEnd=()=>{s&&s(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),b(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),b(this,"setViewDate",s=>{if(!((s=E(s))instanceof Date)||$(s,this.viewDate))return;let a=this.viewDate;this.viewDate=s;let{onChangeViewDate:l}=this.opts;if(l){let{month:u,year:m}=this.parsedViewDate;l({month:u,year:m,decade:this.curDecade})}this.trigger(o.eventChangeViewDate,s,a)}),b(this,"setFocusDate",function(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!s||(s=E(s))instanceof Date)&&(e.focusDate=s,e.opts.range&&s&&e._handleRangeOnFocus(),e.trigger(o.eventChangeFocusDate,s,a))}),b(this,"setCurrentView",s=>{if(this.viewIndexes.includes(s)){if(this.currentView=s,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(o.eventChangeCurrentView,s),!this.views[s]){let a=this.views[s]=new K({dp:this,opts:this.opts,type:s});this.shouldUpdateDOM&&this.$content.appendChild(a.$el)}this.opts.onChangeView&&this.opts.onChangeView(s)}}),b(this,"_updateLastSelectedDate",s=>{this.lastSelectedDate=s,this.trigger(o.eventChangeLastSelectedDate,s)}),b(this,"destroy",()=>{let{showEvent:s,isMobile:a}=this.opts,l=this.$datepicker.parentNode;l&&l.removeChild(this.$datepicker),this.$el.removeEventListener(s,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),a&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null}),b(this,"update",function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=Z({},e.opts);Z(e.opts,s);let{timepicker:l,buttons:u,range:m,selectedDates:f,isMobile:y}=e.opts,k=e.visible||e.treatAsInline;e._createMinMaxDates(),e._limitViewDateByMaxMinDates(),e._handleLocale(),!a.selectedDates&&f&&e.selectDate(f),s.view&&e.setCurrentView(s.view),e._setInputValue(),a.range&&!m?(e.rangeDateTo=!1,e.rangeDateFrom=!1):!a.range&&m&&e.selectedDates.length&&(e.rangeDateFrom=e.selectedDates[0],e.rangeDateTo=e.selectedDates[1]),a.timepicker&&!l?(k&&e.timepicker.destroy(),e.timepicker=!1,e.$timepicker.parentNode.removeChild(e.$timepicker)):!a.timepicker&&l&&e._addTimepicker(),!a.buttons&&u?e._addButtons():a.buttons&&!u?(e.buttons.destroy(),e.$buttons.parentNode.removeChild(e.$buttons)):k&&a.buttons&&u&&e.buttons.clearHtml().render(),!a.isMobile&&y?(e.treatAsInline||N||e._createMobileOverlay(),e._addMobileAttributes(),e.visible&&e._showMobileOverlay()):a.isMobile&&!y&&(e._removeMobileAttributes(),e.visible&&(N.classList.remove("-active-"),typeof e.opts.position!="function"&&e.setPosition())),k&&(e.nav.update(),e.views[e.currentView].render(),e.currentView===o.days&&e.views[e.currentView].renderDayNames())}),b(this,"isOtherMonth",s=>{let{month:a}=_(s);return a!==this.parsedViewDate.month}),b(this,"isOtherYear",s=>{let{year:a}=_(s);return a!==this.parsedViewDate.year}),b(this,"isOtherDecade",s=>{let{year:a}=_(s),[l,u]=A(this.viewDate);return a<l||a>u}),b(this,"_onChangeSelectedDate",s=>{let{silent:a}=s;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!a&&this._triggerOnSelect()})}),b(this,"_onChangeFocusedDate",function(s){let{viewDateTransition:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!s)return;let l=!1;a&&(l=e.isOtherMonth(s)||e.isOtherYear(s)||e.isOtherDecade(s)),l&&e.setViewDate(s),e.opts.onFocus&&e.opts.onFocus({datepicker:e,date:s})}),b(this,"_onChangeTime",s=>{let{hours:a,minutes:l}=s,u=new Date,{lastSelectedDate:m,opts:{onSelect:f}}=this,y=m;m||(y=u);let k=this.getCell(y,this.currentViewSingular),L=k&&k.adpCell;L&&L.isDisabled||(y.setHours(a),y.setMinutes(l),m?(this._setInputValue(),f&&this._triggerOnSelect()):this.selectDate(y))}),b(this,"_onFocus",s=>{this.visible||this.show()}),b(this,"_onBlur",s=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),b(this,"_onMouseDown",s=>{this.inFocus=!0}),b(this,"_onMouseUp",s=>{this.inFocus=!1,this.$el.focus()}),b(this,"_onResize",()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()}),b(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),b(this,"getViewDates",function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o.days;return K.getDatesFunction(s)(e)}),b(this,"isWeekend",s=>this.opts.weekends.includes(s)),b(this,"getClampedDate",s=>{let{minDate:a,maxDate:l}=this,u=s;return l&&H(s,l)?u=l:a&&W(s,a)&&(u=a),u}),this.$el=c(t),!this.$el)return;this.$datepicker=w({className:"air-datepicker"}),this.opts=Z({},g,i),this.$customContainer=!!this.opts.container&&c(this.opts.container),this.$altField=c(this.opts.altField||!1);let{view:r,startDate:n}=this.opts;n||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=E(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=r,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:t,treatAsInline:i,opts:{inline:e,isMobile:r,selectedDates:n,keyboardNav:s,onlyTimepicker:a}}=this,l=c("body");(!rt||rt&&J&&!l.contains(J))&&!e&&this.elIsInput&&!this.$customContainer&&I.buildGlobalContainer(I.defaultGlobalContainerId),!r||N||i||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(e||this._bindEvents(),s&&!a&&(this.keyboardNav=new gt({dp:this,opts:t}))),n&&this.selectDate(n,{silent:!0}),this.opts.visible&&!i&&this.show(),r&&!i&&this.$el.setAttribute("readonly",!0),i&&this._createComponents()}_createMobileOverlay(){N=w({className:"air-datepicker-overlay"}),J.appendChild(N)}_createComponents(){let{opts:t,treatAsInline:i,opts:{inline:e,buttons:r,timepicker:n,position:s,classes:a,onlyTimepicker:l,isMobile:u}}=this;this._buildBaseHtml(),this.elIsInput&&(e||this._setPositionClasses(s)),!e&&this.elIsInput||this.$datepicker.classList.add("-inline-"),a&&this.$datepicker.classList.add(...a.split(" ")),l&&this.$datepicker.classList.add("-only-timepicker-"),u&&!i&&this._addMobileAttributes(),this.views[this.currentView]=new K({dp:this,type:this.currentView,opts:t}),this.nav=new ut({dp:this,opts:t}),n&&this._addTimepicker(),r&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let t in this.views)this.views[t].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){N.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){N.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:t,maxDate:i}=this.opts;this.minDate=!!t&&E(t),this.maxDate=!!i&&E(i)}_addTimepicker(){this.$timepicker=w({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new mt({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=w({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new pt({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(o.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(o.eventChangeFocusDate,this._onChangeFocusedDate),this.on(o.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:t}=this.opts;var i,e;this.elIsInput?t?(i=this.$datepicker,(e=this.$el).parentNode.insertBefore(i,e.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=c(".air-datepicker--content",this.$datepicker),this.$pointer=c(".air-datepicker--pointer",this.$datepicker),this.$nav=c(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:t,dateFormat:i,firstDay:e,timepicker:r,onlyTimepicker:n,timeFormat:s,dateTimeSeparator:a}=this.opts;var l;this.locale=(l=t,JSON.parse(JSON.stringify(l))),i&&(this.locale.dateFormat=i),s!==void 0&&s!==""&&(this.locale.timeFormat=s);let{timeFormat:u}=this.locale;if(e!==""&&(this.locale.firstDay=e),r&&typeof i!="function"){let m=u?a:"";this.locale.dateFormat=[this.locale.dateFormat,u||""].join(m)}n&&typeof i!="function"&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(t){if(typeof t=="function")return void this.$datepicker.classList.add("-custom-position-");let i=(t=t.split(" "))[0],e=`air-datepicker -${i}-${t[1]}- -from-${i}-`;this.$datepicker.classList.add(...e.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:t,minDate:i,maxDate:e}=this;e&&H(t,e)&&this.setViewDate(e),i&&W(t,i)&&this.setViewDate(i)}formatDate(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,i=arguments.length>1?arguments[1]:void 0;if(t=E(t),!(t instanceof Date))return;let e=i,r=this.locale,n=_(t),s=n.dayPeriod,a=A(t),l=I.replacer,u={T:t.getTime(),m:n.minutes,mm:n.fullMinutes,h:n.hours12,hh:n.fullHours12,H:n.hours,HH:n.fullHours,aa:s,AA:s.toUpperCase(),E:r.daysShort[n.day],EEEE:r.days[n.day],d:n.date,dd:n.fullDate,M:n.month+1,MM:n.fullMonth,MMM:r.monthsShort[n.month],MMMM:r.months[n.month],yy:n.year.toString().slice(-2),yyyy:n.year,yyyy1:a[0],yyyy2:a[1]};for(let[m,f]of Object.entries(u))e=l(e,nt(m),f);return e}down(t){this._handleUpDownActions(t,"down")}up(t){this._handleUpDownActions(t,"up")}selectDate(t){let i,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:r,parsedViewDate:n,selectedDates:s}=this,{updateTime:a}=e,{moveToOtherMonthsOnSelect:l,moveToOtherYearsOnSelect:u,multipleDates:m,range:f,autoClose:y,onBeforeSelect:k}=this.opts,L=s.length;if(Array.isArray(t))return t.forEach(M=>{this.selectDate(M,e)}),new Promise(M=>{setTimeout(M)});if((t=E(t))instanceof Date){if(k&&!k({date:t,datepicker:this}))return Promise.resolve();if(r===o.days&&t.getMonth()!==n.month&&l&&(i=new Date(t.getFullYear(),t.getMonth(),1)),r===o.years&&t.getFullYear()!==n.year&&u&&(i=new Date(t.getFullYear(),0,1)),i&&this.setViewDate(i),m&&!f){if(L===m)return;this._checkIfDateIsSelected(t)||s.push(t)}else if(f)switch(L){case 1:s.push(t),this.rangeDateTo||(this.rangeDateTo=t),H(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=t),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[t],this.rangeDateFrom=t,this.rangeDateTo="";break;default:this.selectedDates=[t],this.rangeDateFrom=t}else this.selectedDates=[t];return this.trigger(o.eventChangeSelectedDate,{action:o.actionSelectDate,silent:e?.silent,date:t,updateTime:a}),this._updateLastSelectedDate(t),y&&!this.timepickerIsActive&&this.visible&&(m||f?f&&L===1&&this.hide():this.hide()),new Promise(M=>{setTimeout(M)})}}unselectDate(t){let i=this.selectedDates,e=this;if((t=E(t))instanceof Date)return i.some((r,n)=>{if($(r,t))return i.splice(n,1),e.selectedDates.length?e._updateLastSelectedDate(e.selectedDates[e.selectedDates.length-1]):(e.rangeDateFrom="",e.rangeDateTo="",e._updateLastSelectedDate(!1)),this.trigger(o.eventChangeSelectedDate,{action:o.actionUnselectDate,date:t}),!0})}replaceDate(t,i){let e=this.selectedDates.find(n=>$(n,t,this.currentView)),r=this.selectedDates.indexOf(e);r<0||$(this.selectedDates[r],i,this.currentView)||(this.selectedDates[r]=i,this.trigger(o.eventChangeSelectedDate,{action:o.actionSelectDate,date:i,updateTime:!0}),this._updateLastSelectedDate(i))}clear(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.lastSelectedDate=!1,this.trigger(o.eventChangeSelectedDate,{action:o.actionUnselectDate,silent:t.silent}),new Promise(i=>{setTimeout(i)})}show(){let{onShow:t,isMobile:i}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,t&&this._scheduleCallAfterTransition(t),i&&this._showMobileOverlay()}hide(){let{onHide:t,isMobile:i}=this.opts,e=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(r=>{!this.customHide&&(r&&e||!r&&!e)&&this._finishHide(),t&&t(r)}),i&&N.classList.remove("-active-")}_triggerOnSelect(){let t=[],i=[],{selectedDates:e,locale:r,opts:{onSelect:n,multipleDates:s,range:a}}=this,l=s||a,u=typeof r.dateFormat=="function";e.length&&(t=e.map(st),i=u?s?r.dateFormat(t):t.map(m=>r.dateFormat(m)):t.map(m=>this.formatDate(m,r.dateFormat))),n({date:l?t:t[0],formattedDate:l?i:i[0],datepicker:this})}_handleAlreadySelectedDates(t,i){const{range:e,toggleSelected:r}=this.opts;let n=typeof r=="function"?r({datepicker:this,date:i}):r;e&&(n||this.selectedDates.length!==2&&this.selectDate(i)),n?this.unselectDate(i):this._updateLastSelectedDate(t)}_handleUpDownActions(t,i){if(!((t=E(t||this.focusDate||this.viewDate))instanceof Date))return;let e=i==="up"?this.viewIndex+1:this.viewIndex-1;e>2&&(e=2),e<0&&(e=0),this.setViewDate(new Date(t.getFullYear(),t.getMonth(),1)),this.setCurrentView(this.viewIndexes[e])}_handleRangeOnFocus(){this.selectedDates.length===1&&(H(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.day;if(!((t=E(t))instanceof Date))return;let{year:e,month:r,date:n}=_(t),s=`[data-year="${e}"]`,a=`[data-month="${r}"]`,l={[o.day]:`${s}${a}[data-date="${n}"]`,[o.month]:`${s}${a}`,[o.year]:`${s}`};return this.views[this.currentView].$el.querySelector(l[i])}_showMobileOverlay(){N.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((t,i)=>parseFloat(i)+t,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return _(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return A(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===o.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===o.days}get $container(){return this.$customContainer||J}static replacer(t,i,e){return t.replace(i,function(r,n,s,a){return n+e+a})}}var ht;return b(I,"defaults",g),b(I,"version","3.4.0"),b(I,"defaultGlobalContainerId","air-datepicker-global-container"),ht=I.prototype,Object.assign(ht,ft),v.default}()})})(lt);var kt=lt.exports;const St=yt(kt);class $t{calendar;calendarMain;btn;form;currentSelDate;currentDate;constructor(){this.form=D(".form"),this.calendar=D(".calendar"),this.calendarMain=D(".calendar__main"),this.btn=D(".calendar__btn"),this.currentSelDate=new Date,this.currentDate=new Date,this.init()}init(){this.open(),this.observer(),this.selectDate(),this.startCurrentDate()}startCurrentDate(){}selectDate(){const p=D("#start-date"),d=this;sessionStorage.getItem("startDate")?this.currentSelDate=new Date(Number(sessionStorage.getItem("startDate"))):this.currentSelDate.setDate(this.currentSelDate.getDate()+7),p.html(d.formatDate(this.currentSelDate)),d.checkError(),sessionStorage.setItem("startDate",String(this.currentSelDate.valueOf())),new St("#el",{onSelect:({date:g})=>{o(String(g))},toggleSelected:!1,selectedDates:[this.currentSelDate]}).show();function o(g){g!="undefined"&&(d.currentSelDate=new Date(g)),d.checkError(),p.html(d.formatDate(d.currentSelDate)),sessionStorage.setItem("startDate",String(d.currentSelDate.valueOf())),d.removeFinalDate()}this.removeFinalDate()}checkError(){const p=D(".form__btn-error");this.currentDate.valueOf()>this.currentSelDate.valueOf()?(p.html(""),this.btn.css("border","1px solid rgb(199 41 41)"),p.html("Нельзя выбрать прошедшую/текущую дату вылета"),this.form.addClass("form_erroe-one")):(this.form.removeClass("form_erroe-one"),this.btn.css("border","1px solid #e2e2e2"),p.html(""))}removeFinalDate(){const p=D("#final-date"),d=+D(".form__counter-count").html(),v=new Date(this.currentSelDate);v.setDate(v.getDate()+d),p.html(this.formatDate(v))}formatDate(p){const d=p.getDate(),v=p.getMonth()+1,o=p.getFullYear(),g=d<10?"0"+d:d,c=v<10?"0"+v:v;return`${g}.${c}.${o}`}open(){this.calendar.on("click",()=>{this.calendar.toggleClass("calendar_active")});const p=this;D(document).on("click",function(d){p.calendar.has(d.target).length==0&&p.calendar.removeClass("calendar_active")})}observer(){const p=Number(this.calendarMain.height()),d=this;D(document).ready(function(){const v={root:null,rootMargin:`0px 0px -${p+30}px 0px`,threshold:1};function o(w){w.forEach(S=>{const x=Number(D(window).height()),_=Number(S.boundingClientRect.top);x>700&&_>0&&(S.isIntersecting?(d.calendar.addClass("calendar_bottom"),d.calendar.removeClass("calendar_top")):(d.calendar.addClass("calendar_top"),d.calendar.removeClass("calendar_bottom")))})}const g=D(".calendar__btn"),c=new IntersectionObserver(o,v);g.each(function(w,S){c.observe(S)})})}}class Mt{dropDown;dropMain;quatityAdults;quatityKids;addBtn;btn;children;tegContainer;error;currentAbdul;currentKids;objKidsYears;constructor(p){this.dropDown=D(p).find(".dropdown"),this.dropMain=this.dropDown.find(".dropdown__main"),this.quatityAdults=this.dropDown.find("#adults-quantity"),this.quatityKids=this.dropDown.find("#kids-quantity"),this.addBtn=this.dropDown.find(".dropdown__button-add"),this.error=this.dropDown.find(".dropdown__error"),this.btn=this.dropDown.find(".dropdown__btn"),this.children=this.dropDown.find(".dropdown__children"),this.tegContainer=D(".form__drop-tags"),this.currentAbdul=1,this.currentKids=0,this.objKidsYears={},this.init()}init(){this.open(),this.counter(this.dropDown.find(".dropdown__count-one")),this.counter(this.dropDown.find(".dropdown__count-two"),!0),this.addPeople()}open(){this.btn.on("click",()=>{this.dropDown.toggleClass("dropdown_active")});const p=this;D(document).on("click",function(d){p.dropDown.has(d.target).length==0&&p.dropDown.removeClass("dropdown_active")})}counter(p,d=!1){const v=p.find(".dropdown__count-add"),o=p.find(".dropdown__count-remove"),g=p.find(".dropdown__count-current"),c=this;function w(_){if(_){const C=JSON.parse(String(sessionStorage.getItem("kids")));C&&(c.currentKids=Object.keys(C).reduce((V,A)=>(V+=+C[A],V),0),c.objKidsYears=C,c.getTegs(c.objKidsYears),g.html(String(c.currentKids)),c.quatityKids.html(String(c.currentKids)),c.timeout(c.currentKids,!0,!0))}else{const C=sessionStorage.getItem("abduls");C?(g.html(C),c.quatityAdults.html(C),c.currentAbdul=+C):c.getTegs()}}w(d);function S(){let _=+g.text();if(_<9){const C=_+1;g.html(String(C)),d?c.timeout(C,!0):(c.currentAbdul=C,c.error.removeClass("dropdown__error_active-abduls"))}}function x(){let _=+g.text();if(_>0){const C=_-1;g.html(String(C)),d?c.timeout(C,!1):c.currentAbdul=C}}v.on("click",S),o.on("click",x)}addAgeSelect(p,d=!1){const o=this.dropDown.find(".children__drop").length;console.log(o);const g=[];for(const c in this.objKidsYears)for(let w=0;w<this.objKidsYears[c];w++)g.push(c);console.log(g);for(let c=0;c<p;c++)if(c>o-1){this.children.append(`
                    <div id="drop-${c}" class="children__drop">
                        <button class="children__btn">
                            <span class="children__current">${d?g[c]:"Укажите возраст"}</span>
                            <svg><use xlink:href="#chevron-left"></use></svg> 
                        </button>
                        <ul class="children__list">
                            <li>Укажите возраст</li>
                            <li>&lt; 1 год</li>
                            <li>1 год</li>
                            <li>2 года</li>
                            <li>3 года</li>
                            <li>4 года</li>
                            <li>5 лет</li>
                            <li>6 лет</li>
                            <li>7 лет</li>
                            <li>8 лет</li>
                            <li>9 лет</li>
                            <li>10 лет</li>
                            <li>11 лет</li>
                            <li>12 лет</li>
                            <li>13 лет</li>
                            <li>14 лет</li>
                            <li>15 лет</li>
                            <li>16 лет</li>
                            <li>17 лет</li>
                        </ul>
                    </div>
                `);const w=D("<script>").attr("type","text/javascript").text(`
                    function dropDown(id){
                        const drop = document.querySelector(id)
                        const li = drop.querySelectorAll('li');
                        const current = drop.querySelector('.children__current');
                        const btn  = drop.querySelector('.children__btn');
                        const listHeight = drop.querySelector('.children__list').offsetHeight;
        
                        li.forEach(item => {
                            item.addEventListener('click', () => {
                                    current.textContent = item.textContent
                                    if(item.textContent !== 'Укажите возраст'){
                                        drop.classList.remove('children__drop_error')
                                        document.querySelector('.dropdown__error').classList.remove('dropdown__error_active-kids')
                                    }
                            })
                        });
        
                        
                        drop.addEventListener('click', () => {
                            drop.classList.toggle('children__drop_active')
                        })
        
                        document.addEventListener('click', (e) => {
                            if (!drop.contains(e.target)) {
                                drop.classList.remove('children__drop_active');
                            }
                        });
        
                        function observer(){
                            const options = {
                                rootMargin: '0px 0px -' + (listHeight? listHeight + 30 : 300 ) + 'px 0px',
                                threshold: 1 
                            };  
                            const observer = new IntersectionObserver(callback, options);  
                            if(btn){
                                observer.observe(btn);
                            }
                
                            function callback(entries) {
                                entries.forEach(entry => {
                                    if (entry.isIntersecting) {
                                            drop.classList.add('children_top');
                                            drop.classList.remove('children_bottom');
                                    } else {
                                        if(window.innerHeight > 700 ){
                                            drop.classList.add('children_bottom');
                                            drop.classList.remove('children_top');
                                        }
                                    }
                                });
                            }
                        }
                        observer()
                        drop.classList.add('children__drop_opacity')
                    }
                    dropDown('#drop-${c}')
                `);D("body").append(w)}}removeAgeSelect(p){this.dropDown.find(".children__drop").each((v,o)=>{v>p-1&&(o.classList.remove("children__drop_opacity"),setTimeout(()=>{o.remove()},150))})}timeout(p,d,v=!1){function o(){const g=Math.ceil(p/2);let c=0;return g===1?c=40:g>1&&(c=g*45-5),c}v?(this.children.css("height",`${o()}px`),this.addAgeSelect(p,!0)):d?(p%2!==0&&this.children.css("height",`${o()}px`),this.addAgeSelect(p)):(p%2===0&&this.children.css("height",`${o()}px`),this.removeAgeSelect(p))}addPeople(){this.addBtn.on("click",()=>{const p=this.dropDown.find(".children__drop"),d=this,v={};if(p.each(function(g,c){const w=String(c.querySelector(".children__current")?.textContent);w==="Укажите возраст"?(c.classList.add("children__drop_error"),d.error.addClass("dropdown__error_active-kids")):v.hasOwnProperty(w)?v[w]++:v[w]=1}),this.dropDown.find(".children__drop_error").length===0)if(this.currentAbdul<1)this.error.addClass("dropdown__error_active-abduls");else{this.quatityAdults.html(String(this.currentAbdul)),sessionStorage.setItem("abduls",String(this.currentAbdul)),this.currentKids=Object.keys(v).reduce((c,w)=>(c+=+v[w],c),0),console.log(this.currentKids),this.quatityKids.html(String(this.currentKids)),sessionStorage.setItem("kids",JSON.stringify(v)),this.dropDown.removeClass("dropdown_active"),this.getTegs(v);const g=new CustomEvent("myCustomEvent");document.dispatchEvent(g)}})}getTegs(p={}){this.tegContainer.html(`
    <li>Взрослых x${this.currentAbdul}</li>
  `);for(const d in p)this.tegContainer.append(`
        <li>${d} x${p[d]}</li>
    `)}getAbduls(){return this.currentAbdul}getKids(){return this.currentKids}}class xt{food;foodMain;btn;allLi;currentSelect;constructor(){this.food=D(".food"),this.foodMain=D(".food__list"),this.btn=D(".food__btn"),this.allLi=this.food.find("li"),this.currentSelect=D(".food__btn-info"),this.init()}init(){this.open(),this.observer(),this.select()}select(){this.allLi.each((p,d)=>{d.addEventListener("click",()=>{this.currentSelect.html(String(d.textContent))})})}open(){this.food.on("click",()=>{this.food.toggleClass("food_active")});const p=this;D(document).on("click",function(d){p.food.has(d.target).length==0&&p.food.removeClass("food_active")})}observer(){const p=Number(this.foodMain.height()),d=this;D(document).ready(function(){const v={root:null,rootMargin:`0px 0px -${p+30}px 0px`,threshold:1};function o(w){w.forEach(S=>{const x=Number(D(window).height()),_=Number(S.boundingClientRect.top);x>700&&_>0&&(S.isIntersecting?(d.food.addClass("food_bottom"),d.food.removeClass("food_top")):(d.food.addClass("food_top"),d.food.removeClass("food_bottom")))})}const g=D(".food__btn"),c=new IntersectionObserver(o,v);g.each(function(w,S){c.observe(S)})})}}document.addEventListener("DOMContentLoaded",()=>{class B{header;footer;food;inputWrapper;input;inputBtn;tabsBtn;form;tabsSlider;dropDown;calendar;DropPeople;formBtn;stars;inputForm;constructor(){this.header=new _t,this.footer=new wt,this.food=new xt,this.dropDown=new Ct,this.counter(),this.calendar=new $t,this.DropPeople=new Mt(".form__drop-guests"),this.stars=D(".form__stars-one-star"),this.inputWrapper=D(".adviser__input"),this.input=D("#adviser-inp"),this.inputBtn=D(".adviser__btn"),this.inputForm=D("#adviser__form"),this.tabsBtn=D(".form__tabs"),this.form=D(".form"),this.formBtn=this.form.find(".form__btn"),this.tabsSlider=D(".form__tabs-slider"),this.inputMask(),this.tabs(),this.points(),this.stopReload(),this.clickFormBtn(),this.SelectStars(),this.inputValidate()}SelectStars(){const d=this;this.stars.each((o,g)=>{g.addEventListener("click",()=>{v(Number(g.getAttribute("data-num")))})});function v(o){d.stars.each((g,c)=>{g<o?c.classList.add("form__stars-one-star_active"):c.classList.remove("form__stars-one-star_active")})}}stopReload(){this.form.on("submit",d=>{d.preventDefault()})}tabs(){const d=document.querySelector(".form__tab-one"),v=document.querySelector(".form__tab-two"),o=document.querySelector(".form__tab-three");this.tabsBtn.each((g,c)=>{c.addEventListener("click",w=>{d?.contains(w.target)?this.points(1):v?.contains(w.target)?this.points(2):o?.contains(w.target)&&this.points(3)})})}points(d=1){console.log(d);const v=document.querySelector(".form__tab-one"),o=document.querySelector(".form__tab-two"),g=document.querySelector(".form__tab-three"),c=!D(".form").is(".form_erroe-one");d===1?(g?.classList.remove("form__tab_active"),o?.classList.remove("form__tab_active"),v?.classList.add("form__tab_active"),this.form.removeClass("form_two-state form_three-state"),this.form.addClass("form_one-state"),this.tabsSlider.css({left:"0"})):d===2&&c?(g?.classList.remove("form__tab_active"),v?.classList.remove("form__tab_active"),o?.classList.add("form__tab_active"),this.form.removeClass("form_one-state form_three-state"),this.form.addClass("form_two-state"),this.tabsSlider.css({left:"33.3%"})):d===3&&c&&(v?.classList.remove("form__tab_active"),o?.classList.remove("form__tab_active"),g?.classList.add("form__tab_active"),this.form.removeClass("form_one-state form_two-state"),this.form.addClass("form_three-state"),this.tabsSlider.css({left:"68%"}))}clickFormBtn(){this.formBtn.on("click",()=>{const d=D(".form").is(".form_one-state"),v=D(".form").is(".form_two-state"),o=D(".form").is(".form_three-state");d?this.points(2):v?this.points(3):o&&this.points(1)})}addError(d){}clickBtn(){alert("В скором времени вам позвонят."),this.input.val(""),this.inputWrapper.removeClass("adviser__input_active")}inputMask(){this.input.on("input",()=>{const d=this.input.val()?.length;d&&d>0?this.inputWrapper.addClass("adviser__input_active"):this.inputWrapper.removeClass("adviser__input_active")})}inputValidate(){const d=new bt("#adviser__form"),v=[{rule:"required",errorMessage:"Введите имя"},{rule:"minLength",value:13,errorMessage:"Минимум 3 буквы"},{rule:"customRegexp",value:/[0-9]/,errorMessage:"Три одинаковых буквы подряд"}],o={errorsContainer:".adviser__input-error",errorLabelCssClass:["invalid"],errorFieldCssClass:["error-focus"]};d.addField("#adviser-inp",v,o),d.onSuccess(()=>{this.clickBtn()})}counter(){const d=D(".form__counter-add"),v=D(".form__counter-remove"),o=D(".form__counter-count"),g=this,c=sessionStorage.getItem("count");c?o.html(c):o.html("1");function w(){let _=+o.text();if(_<18){const C=_+1;x(String(C))}}function S(){let _=+o.text();if(_>1){const C=_-1;x(String(C))}}function x(_){o.html(_),g.calendar.removeFinalDate(),sessionStorage.setItem("count",_)}d.on("click",w),v.on("click",S)}}new B});
