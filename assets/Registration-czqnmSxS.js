import{a as l,g as u,h as g,G as h,b as d,F as m,H as b}from"./header-l2PKyRFo.js";import{c as p}from"./justValidate-ywqcVI2V.js";import{g as w,d as R,c as f,s as v}from"./index.esm2017-nCL31Hf9.js";class F{app;auth;constructor(){this.app=l,this.auth=u()}registrationWithEmail(){const s=document.querySelector("#registrationMail"),o=s.value,e=document.querySelector("#registrationPassword"),t=e.value,i=document.querySelector("#registrationRepeatPassword");t===i.value&&g(this.auth,o,t).then(n=>{const r=n.user,c={email:r.email||"",name:"",photo:"",orders:[]};this.addUserToFirebase(r.uid,c),s.value="",e.value="",i.value="",window.location.href="index.html",console.log("Registration with email successful:",r)}).catch(n=>{const r=n.code,c=n.message;console.error("Registration with email failed:",r,c)})}registrationWithGoogle(){const s=new h;d(this.auth,s).then(o=>{const e=o.user,t={email:e.email||"",name:e.displayName||"",photo:e.photoURL||"",orders:[]};this.addUserToFirebase(e.uid,t),console.log("Registration with Google successful:",e)}).catch(o=>{const e=o.code,t=o.message;console.error("Registration with Google failed:",e,t)})}registrationWithFacebook(){const s=new m;d(this.auth,s).then(o=>{const e=o.user,t={email:e.email||"",name:e.displayName||"",photo:e.photoURL||"",orders:[]};this.addUserToFirebase(e.uid,t),window.location.href="index.html",console.log("Registration with Facebook successful:",e)}).catch(o=>{const e=o.code,t=o.message;console.error("Registration with Facebook failed:",e,t)})}async addUserToFirebase(s,o){const e=w(l),t=R(f(e,"users"),s);await v(t,o).then(()=>{console.log("Document written with UID: ",s)}).catch(i=>{console.error("Error adding document: ",i)})}}document.addEventListener("DOMContentLoaded",()=>{p();const a=new F;document.querySelector(".registration__btn-registration").addEventListener("click",()=>{a.registrationWithEmail()}),document.querySelector(".registration__form-btn-google").addEventListener("click",()=>{a.registrationWithGoogle()}),document.querySelector(".registration__form-btn-facebook").addEventListener("click",()=>{a.registrationWithFacebook()}),new b});
