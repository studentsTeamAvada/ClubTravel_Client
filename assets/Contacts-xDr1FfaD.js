import{$ as t}from"./jquery-DgZYk2H_.js";import{H as i}from"./header-ARewE4Ia.js";import{F as o}from"./footer-QL4Ufj9G.js";import{v as s,A as l}from"./AsYouType-EoxT6__x.js";import{P as u}from"./preloader-995_IHTn.js";class d{header;footer;constructor(){this.header=new i,this.footer=new o,this.init()}init(){this.validateForm(),this.inputMask()}validateForm(){const n=t("#form");t.validator.addMethod("laxEmail",function(e){return/^(?!.*\.\.)[\w.-]{3,20}@[\wа-я.][\wа-я.-]{3,20}[\wа-я.]\.[a-z]{2,10}/.test(e)},"Введите корректный email"),t.validator.addMethod("min",function(e){return/\+380/.test(e)?e.replace(/ |\+/g,"").length>=12:e.replace(/ |\+/g,"").length>=10},"Номер должен состоять из 10 цифр"),n.validate({rules:{phone:{required:!0,min:!0},main:{laxEmail:!0,required:!0,minlength:13}},messages:{phone:{required:"Введите номер"},main:{required:"Введите почту",minlength:"Номер должен состоять из 10 цифр"}},highlight:function(e,r,a){return t(e).addClass("border-error").removeClass(a)},unhighlight:function(e,r,a){return t(e).addClass(a).removeClass("border-error")},submitHandler(e){alert("Мы скоро с вами свяжемся"),t(e).trigger("reset")}})}inputMask(){document.querySelectorAll("input[name='phone']").forEach(e=>{const r=e;r.addEventListener("input",()=>{r.value.length===1&&(r.value="+"+r.value,r.value==="+0"&&(r.value="+380")),s(r.value+"0")==="TOO_LONG"&&(r.value=r.value.slice(0,-1)),r.value=new l().input(r.value)})})}}document.addEventListener("DOMContentLoaded",()=>{new d,new u});
