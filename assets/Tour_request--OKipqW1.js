import{$ as v,c as Dt,g as yt,H as _t}from"./header-o5Nvgfqe.js";import{F as wt}from"./footer-FxxaSssw.js";class bt{dropDown;dropMain;btn;allAccordions;countryMainDrop;tourMainDrop;constructor(){this.dropDown=v(".drop-country"),this.dropMain=v(".drop-country__accordions"),this.btn=v(".drop-country__btn"),this.allAccordions=v(".accordion"),this.countryMainDrop=v(".drop-country__county"),this.tourMainDrop=v(".drop-country__tour"),this.init()}init(){this.open(),this.observer(),this.accordion()}checkTour(){return this.countryMainDrop.html()==="Страна"?(console.log(1),!1):(console.log(2),!0)}open(){this.btn.on("click",()=>{this.dropDown.toggleClass("drop-country_active")});const u=this;v(document).on("click",function(d){u.dropDown.has(d.target).length==0&&u.dropDown.removeClass("drop-country_active")})}observer(){const u=Number(this.dropMain.height()),d=this;v(document).ready(function(){const D={root:null,rootMargin:`0px 0px -${u+30}px 0px`,threshold:1};function o(f){f.forEach(C=>{const k=Number(v(window).height()),w=Number(C.boundingClientRect.top);k>700&&w>0&&(C.isIntersecting?(d.dropDown.addClass("drop-country_bottom"),d.dropDown.removeClass("drop-country_top")):(d.dropDown.addClass("drop-country_top"),d.dropDown.removeClass("drop-country_bottom")))})}const g=v(".drop-country__btn"),p=new IntersectionObserver(o,D);g.each(function(f,C){p.observe(C)})})}accordion(){const u=this;this.allAccordions.each((o,g)=>{D(g),d(g)});function d(o){const g=o.querySelectorAll("li"),p=String(o.querySelector(".accordion__country")?.textContent);g.forEach(f=>{f.addEventListener("click",()=>{u.countryMainDrop.html(p),u.tourMainDrop.html(String(f.textContent)),u.dropDown.removeClass("drop-country_active")})})}function D(o){document.addEventListener("click",g=>{o.contains(g.target)?o.classList.toggle("accordion_active"):o.classList.remove("accordion_active")})}}}var lt={exports:{}};(function(I,u){(function(d,D){I.exports=D()})(Dt,function(){return function(){var d={d:function(h,t){for(var i in t)d.o(t,i)&&!d.o(h,i)&&Object.defineProperty(h,i,{enumerable:!0,get:t[i]})},o:function(h,t){return Object.prototype.hasOwnProperty.call(h,t)}},D={};d.d(D,{default:function(){return O}});var o={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},g={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:o.days,minView:o.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function p(h){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof h=="string"?t.querySelector(h):h}function f(){let{tagName:h="div",className:t="",innerHtml:i="",id:e="",attrs:r={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=document.createElement(h);return t&&n.classList.add(...t.split(" ")),e&&(n.id=e),i&&(n.innerHTML=i),r&&C(n,r),n}function C(h,t){for(let[i,e]of Object.entries(t))e!==void 0&&h.setAttribute(i,e);return h}function k(h){return new Date(h.getFullYear(),h.getMonth()+1,0).getDate()}function w(h){let t=h.getHours(),{hours:i,dayPeriod:e}=it(t);return{year:h.getFullYear(),month:h.getMonth(),fullMonth:h.getMonth()+1<10?"0"+(h.getMonth()+1):h.getMonth()+1,date:h.getDate(),fullDate:h.getDate()<10?"0"+h.getDate():h.getDate(),day:h.getDay(),hours:t,fullHours:U(t),hours12:i,dayPeriod:e,fullHours12:U(i),minutes:h.getMinutes(),fullMinutes:h.getMinutes()<10?"0"+h.getMinutes():h.getMinutes()}}function it(h){return{dayPeriod:h>11?"pm":"am",hours:h%12==0?12:h%12}}function U(h){return h<10?"0"+h:h}function P(h){let t=10*Math.floor(h.getFullYear()/10);return[t,t+9]}function E(){let h=[];for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return i.forEach(r=>{if(typeof r=="object")for(let n in r)r[n]&&h.push(n);else r&&h.push(r)}),h.join(" ")}function $(h,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.days;if(!h||!t)return!1;let e=w(h),r=w(t);return{[o.days]:e.date===r.date&&e.month===r.month&&e.year===r.year,[o.months]:e.month===r.month&&e.year===r.year,[o.years]:e.year===r.year}[i]}function V(h,t,i){let e=st(h,!1).getTime(),r=st(t,!1).getTime();return i?e>=r:e>r}function Y(h,t){return!V(h,t,!0)}function st(h){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=new Date(h.getTime());return typeof t!="boolean"||t||function(e){e.setHours(0,0,0,0)}(i),i}function x(h,t,i){h.length?h.forEach(e=>{e.addEventListener(t,i)}):h.addEventListener(t,i)}function J(h,t){return!(!h||h===document||h instanceof DocumentFragment)&&(h.matches(t)?h:J(h.parentNode,t))}function W(h,t,i){return h>i?i:h<t?t:h}function Q(h){for(var t=arguments.length,i=new Array(t>1?t-1:0),e=1;e<t;e++)i[e-1]=arguments[e];return i.filter(r=>r).forEach(r=>{for(let[n,s]of Object.entries(r))if(s!==void 0&&s.toString()==="[object Object]"){let a=h[n]!==void 0?h[n].toString():void 0,l=s.toString(),c=Array.isArray(s)?[]:{};h[n]=h[n]?a!==l?c:h[n]:c,Q(h[n],s)}else h[n]=s}),h}function L(h){let t=h;return h instanceof Date||(t=new Date(h)),isNaN(t.getTime())&&(console.log(`Unable to convert value "${h}" to Date object`),t=!1),t}function nt(h){let t="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+t+")("+h+")($|<|"+t+")","g")}function B(h,t,i){return(t=function(e){var r=function(n,s){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e);return typeof r=="symbol"?r:String(r)}(t))in h?Object.defineProperty(h,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):h[t]=i,h}class dt{constructor(){let{type:t,date:i,dp:e,opts:r,body:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};B(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),B(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),B(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),B(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),B(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),B(this,"onChangeFocusDate",s=>{if(!s)return void(this.focused&&this.removeFocus());let a=$(s,this.date,this.type);a?this.focus():!a&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),B(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell)),this.type=t,this.singleType=this.type.slice(0,-1),this.date=i,this.dp=e,this.opts=r,this.body=n,this.customData=!1,this.init()}init(){let{range:t,onRenderCell:i}=this.opts;i&&(this.customData=i({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),t&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(o.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(o.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(o.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(o.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var t;let{year:i,month:e,date:r}=w(this.date),n=((t=this.customData)===null||t===void 0?void 0:t.attrs)||{};this.$cell=f({className:this._getClassName(),attrs:{"data-year":i,"data-month":e,"data-date":r,...n}})}_getClassName(){var t,i;let e=new Date,{selectOtherMonths:r,selectOtherYears:n}=this.opts,{minDate:s,maxDate:a}=this.dp,{day:l}=w(this.date),c=this._isOutOfMinMaxRange(),m=(t=this.customData)===null||t===void 0?void 0:t.disabled,y=E("air-datepicker-cell",`-${this.singleType}-`,{"-current-":$(e,this.date,this.type),"-min-date-":s&&$(s,this.date,this.type),"-max-date-":a&&$(a,this.date,this.type)}),_="";switch(this.type){case o.days:_=E({"-weekend-":this.dp.isWeekend(l),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!r||c||m});break;case o.months:_=E({"-disabled-":c||m});break;case o.years:_=E({"-other-decade-":this.isOtherDecade,"-disabled-":c||this.isOtherDecade&&!n||m})}return E(y,_,(i=this.customData)===null||i===void 0?void 0:i.classes)}_getHtml(){var t;let{year:i,month:e,date:r}=w(this.date),{showOtherMonths:n,showOtherYears:s}=this.opts;if((t=this.customData)!==null&&t!==void 0&&t.html)return this.customData.html;switch(this.type){case o.days:return!n&&this.isOtherMonth?"":r;case o.months:return this.dp.locale[this.opts.monthsField][e];case o.years:return!s&&this.isOtherDecade?"":i}}_isOutOfMinMaxRange(){let{minDate:t,maxDate:i}=this.dp,{type:e,date:r}=this,{month:n,year:s,date:a}=w(r),l=e===o.days,c=e===o.years,m=!!t&&new Date(s,c?t.getMonth():n,l?a:t.getDate()),y=!!i&&new Date(s,c?i.getMonth():n,l?a:i.getDate());return t&&i?Y(m,t)||V(y,i):t?Y(m,t):i?V(y,i):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{rangeDateFrom:t,rangeDateTo:i}=this.dp,e=E({"-in-range-":t&&i&&(r=this.date,n=t,s=i,V(r,n)&&Y(r,s)),"-range-from-":t&&$(this.date,t,this.type),"-range-to-":i&&$(this.date,i,this.type)});var r,n,s;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),e&&this.$cell.classList.add(...e.split(" "))}_handleSelectedStatus(){let t=this.dp._checkIfDateIsSelected(this.date,this.type);t?this.select():!t&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){$(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function T(h,t,i){return(t=function(e){var r=function(n,s){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e);return typeof r=="symbol"?r:String(r)}(t))in h?Object.defineProperty(h,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):h[t]=i,h}let ct={[o.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${o.days}-"></div>`,[o.months]:`<div class="air-datepicker-body--cells -${o.months}-"></div>`,[o.years]:`<div class="air-datepicker-body--cells -${o.years}-"></div>`};const X=".air-datepicker-cell";class N{constructor(t){let{dp:i,type:e,opts:r}=t;T(this,"handleClick",n=>{let s=n.target.closest(X).adpCell;if(s.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let a=this.dp._checkIfDateIsSelected(s.date,s.type);a?this.dp._handleAlreadySelectedDates(a,s.date):this.dp.selectDate(s.date)}),T(this,"handleDayNameClick",n=>{let s=n.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(s),datepicker:this.dp})}),T(this,"onChangeCurrentView",n=>{n!==this.type?this.hide():(this.show(),this.render())}),T(this,"onMouseOverCell",n=>{let s=J(n.target,X);this.dp.setFocusDate(!!s&&s.adpCell.date)}),T(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),T(this,"onClickBody",n=>{let{onClickDayName:s}=this.opts,a=n.target;a.closest(X)&&this.handleClick(n),s&&a.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(n)}),T(this,"onMouseDown",n=>{this.pressed=!0;let s=J(n.target,X),a=s&&s.adpCell;$(a.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),$(a.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),T(this,"onMouseMove",n=>{if(!this.pressed||!this.dp.isMinViewReached)return;n.preventDefault();let s=J(n.target,X),a=s&&s.adpCell,{selectedDates:l,rangeDateTo:c,rangeDateFrom:m}=this.dp;if(!a||a.isDisabled)return;let{date:y}=a;if(l.length===2){if(this.rangeFromFocused&&!V(y,c)){let{hours:_,minutes:S}=w(m);y.setHours(_),y.setMinutes(S),this.dp.rangeDateFrom=y,this.dp.replaceDate(m,y)}if(this.rangeToFocused&&!Y(y,m)){let{hours:_,minutes:S}=w(c);y.setHours(_),y.setMinutes(S),this.dp.rangeDateTo=y,this.dp.replaceDate(c,y)}}}),T(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),T(this,"onChangeViewDate",(n,s)=>{if(!this.isVisible)return;let a=P(n),l=P(s);switch(this.dp.currentView){case o.days:if($(n,s,o.months))return;break;case o.months:if($(n,s,o.years))return;break;case o.years:if(a[0]===l[0]&&a[1]===l[1])return}this.render()}),T(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(n=>{this.$cells.appendChild(n.render())})}),this.dp=i,this.type=e,this.opts=r,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===o.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:t,dynamicRange:i}=this.opts;x(this.$el,"mouseover",this.onMouseOverCell),x(this.$el,"mouseout",this.onMouseOutCell),x(this.$el,"click",this.onClickBody),t&&i&&(x(this.$el,"mousedown",this.onMouseDown),x(this.$el,"mousemove",this.onMouseMove),x(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(o.eventChangeViewDate,this.onChangeViewDate),this.dp.on(o.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=f({className:`air-datepicker-body -${this.type}-`,innerHtml:ct[this.type]}),this.$names=p(".air-datepicker-body--day-names",this.$el),this.$cells=p(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,i="",e=this.dp.isWeekend,{onClickDayName:r}=this.opts,n=t,s=0;for(;s<7;){let a=n%7;i+=`<div class="${E("air-datepicker-body--day-name",{[o.cssClassWeekend]:e(a),"-clickable-":!!r})}" data-day-index='${a}'>${this.dp.locale.daysMin[a]}</div>`,s++,n++}return i}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCell(t){let{type:i,dp:e,opts:r}=this;return new dt({type:i,dp:e,opts:r,date:t,body:this})}_generateCells(){N.getDatesFunction(this.type)(this.dp,t=>{this.cells.push(this._generateCell(t))})}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(t=>t.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(o.eventChangeViewDate,this.onChangeViewDate),this.dp.off(o.eventChangeCurrentView,this.onChangeCurrentView)}static getDaysDates(t,i){let{viewDate:e,locale:{firstDay:r}}=t,n=k(e),{year:s,month:a}=w(e),l=new Date(s,a,1),c=new Date(s,a,n),m=l.getDay()-r,y=6-c.getDay()+r;m=m<0?m+7:m,y=y>6?y-7:y;let _=function(H,tt){let{year:at,month:et,date:vt}=w(H);return new Date(at,et,vt-tt)}(l,m),S=n+m+y,F=_.getDate(),{year:M,month:Z}=w(_),q=0;const G=[];for(;q<S;){let H=new Date(M,Z,F+q);i&&i(H),G.push(H),q++}return G}static getMonthsDates(t,i){let{year:e}=t.parsedViewDate,r=0,n=[];for(;r<12;){const s=new Date(e,r);n.push(s),i&&i(s),r++}return n}static getYearsDates(t,i){let e=P(t.viewDate),r=e[0]-1,n=e[1]+1,s=r,a=[];for(;s<=n;){const l=new Date(s,0);a.push(l),i&&i(l),s++}return a}static getDatesFunction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o.days;return{[o.days]:N.getDaysDates,[o.months]:N.getMonthsDates,[o.years]:N.getYearsDates}[t]}}function R(h,t,i){return(t=function(e){var r=function(n,s){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e);return typeof r=="symbol"?r:String(r)}(t))in h?Object.defineProperty(h,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):h[t]=i,h}class ut{constructor(t){let{dp:i,opts:e}=t;R(this,"onClickNav",r=>{let n=J(r.target,".air-datepicker-nav--action");if(!n)return;let s=n.dataset.action;this.dp[s]()}),R(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),R(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),R(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),R(this,"update",()=>{let{prevHtml:r,nextHtml:n}=this.opts;this.$prev.innerHTML=r,this.$next.innerHTML=n,this._resetNavStatus(),this.render(),this.handleNavStatus()}),R(this,"renderDelay",()=>{setTimeout(this.render)}),R(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(r,n){for(let s in n)n[s]?r.classList.add(s):r.classList.remove(s)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=i,this.opts=e,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=p(".air-datepicker-nav--title",this.$el),this.$prev=p('[data-action="prev"]',this.$el),this.$next=p('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(o.eventChangeViewDate,this.onChangeViewDate),this.dp.on(o.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(o.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(o.eventChangeTime,this.render))}destroy(){this.dp.off(o.eventChangeViewDate,this.onChangeViewDate),this.dp.off(o.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(o.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(o.eventChangeTime,this.render))}_createElement(){this.$el=f({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:t,opts:i}=this,e=i.navTitles[t.currentView];return typeof e=="function"?e(t):t.formatDate(t.viewDate,e)}handleNavStatus(){let{disableNavWhenOutOfRange:t}=this.opts,{minDate:i,maxDate:e}=this.dp;if(!i&&!e||!t)return;let{year:r,month:n}=this.dp.parsedViewDate,s=!!i&&w(i),a=!!e&&w(e);switch(this.dp.currentView){case o.days:i&&s.month>=n&&s.year>=r&&this._disableNav("prev"),e&&a.month<=n&&a.year<=r&&this._disableNav("next");break;case o.months:i&&s.year>=r&&this._disableNav("prev"),e&&a.year<=r&&this._disableNav("next");break;case o.years:{let l=P(this.dp.viewDate);i&&s.year>=l[0]&&this._disableNav("prev"),e&&a.year<=l[1]&&this._disableNav("next");break}}}_disableNav(t){p('[data-action="'+t+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];t.length?t.forEach(n=>{n.classList.remove(...e)}):t.classList.remove(...e)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:t,nextHtml:i}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${t}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${i}</div>`}get isNavIsFunction(){let{navTitles:t}=this.opts;return Object.keys(t).find(i=>typeof t[i]=="function")}}var ot={today:{content:h=>h.locale.today,onClick:h=>h.setViewDate(new Date)},clear:{content:h=>h.locale.clear,onClick:h=>h.clear()}};class pt{constructor(t){let{dp:i,opts:e}=t;this.dp=i,this.opts=e,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=f({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:t}=this.opts;Array.isArray(t)||(t=[t]),t.forEach(i=>{let e=i;typeof i=="string"&&ot[i]&&(e=ot[i]);let r=this.createButton(e);e.onClick&&this.attachEventToButton(r,e.onClick),this.$el.appendChild(r)})}attachEventToButton(t,i){t.addEventListener("click",()=>{i(this.dp)})}createButton(t){let{content:i,className:e,tagName:r="button",attrs:n={}}=t;return f({tagName:r,innerHtml:`<span tabindex='-1'>${typeof i=="function"?i(this.dp):i}</span>`,className:E("air-datepicker-button",e),attrs:n})}render(){this.generateButtons()}}function j(h,t,i){return(t=function(e){var r=function(n,s){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e);return typeof r=="symbol"?r:String(r)}(t))in h?Object.defineProperty(h,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):h[t]=i,h}class mt{constructor(){let{opts:t,dp:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};j(this,"toggleTimepickerIsActive",r=>{this.dp.timepickerIsActive=r}),j(this,"onChangeSelectedDate",r=>{let{date:n,updateTime:s=!1}=r;n&&(this.setMinMaxTime(n),this.setCurrentTime(!!s&&n),this.addTimeToDate(n))}),j(this,"onChangeLastSelectedDate",r=>{r&&(this.setTime(r),this.render())}),j(this,"onChangeInputRange",r=>{let n=r.target;this[n.getAttribute("name")]=n.value,this.updateText(),this.dp.trigger(o.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),j(this,"onMouseEnterLeave",r=>{let n=r.target.getAttribute("name"),s=this.$minutesText;n==="hours"&&(s=this.$hoursText),s.classList.toggle("-focus-")}),j(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),j(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=t,this.dp=i;let{timeFormat:e}=this.dp.locale;e&&(e.match(nt("h"))||e.match(nt("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(o.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(o.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let t="input";navigator.userAgent.match(/trident/gi)&&(t="change"),x(this.$ranges,t,this.onChangeInputRange),x(this.$ranges,"mouseenter",this.onMouseEnterLeave),x(this.$ranges,"mouseleave",this.onMouseEnterLeave),x(this.$ranges,"focus",this.onFocus),x(this.$ranges,"mousedown",this.onFocus),x(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=f({className:E("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(o.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(o.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:t,hours:i,displayHours:e,minutes:r,minHours:n,minMinutes:s,maxHours:a,maxMinutes:l,dayPeriod:c,opts:{hoursStep:m,minutesStep:y}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${U(e)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${U(r)}</span>   `+(t?`<span class='air-datepicker-time--current-ampm'>${c}</span>`:"")+`</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">      <input type="range" name="hours" value="${i}" min="${n}" max="${a}" step="${m}"/>   </div>   <div class="air-datepicker-time--row">      <input type="range" name="minutes" value="${r}" min="${s}" max="${l}" step="${y}"/>   </div></div>`}defineDOM(){let t=i=>p(i,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=t('[name="hours"]'),this.$minutes=t('[name="minutes"]'),this.$hoursText=t(".air-datepicker-time--current-hours"),this.$minutesText=t(".air-datepicker-time--current-minutes"),this.$ampm=t(".air-datepicker-time--current-ampm")}setTime(t){this.setMinMaxTime(t),this.setCurrentTime(t)}addTimeToDate(t){t&&(t.setHours(this.hours),t.setMinutes(this.minutes))}setMinMaxTime(t){if(this.setMinMaxTimeFromOptions(),t){let{minDate:i,maxDate:e}=this.dp;i&&$(t,i)&&this.setMinTimeFromMinDate(i),e&&$(t,e)&&this.setMaxTimeFromMaxDate(e)}}setCurrentTime(t){let{hours:i,minutes:e}=t?w(t):this;this.hours=W(i,this.minHours,this.maxHours),this.minutes=W(e,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:t,minMinutes:i,maxHours:e,maxMinutes:r}=this.opts;this.minHours=W(t,0,23),this.minMinutes=W(i,0,59),this.maxHours=W(e,0,23),this.maxMinutes=W(r,0,59)}setMinTimeFromMinDate(t){let{lastSelectedDate:i}=this.dp;this.minHours=t.getHours(),i&&i.getHours()>t.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=t.getMinutes()}setMaxTimeFromMaxDate(t){let{lastSelectedDate:i}=this.dp;this.maxHours=t.getHours(),i&&i.getHours()<t.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=t.getMinutes()}updateSliders(){C(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,C(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=U(this.displayHours),this.$minutesText.innerHTML=U(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(t){this._hours=t;let{hours:i,dayPeriod:e}=it(t);this.displayHours=this.ampm?i:t,this.dayPeriod=e}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function K(h,t,i){return(t=function(e){var r=function(n,s){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e);return typeof r=="symbol"?r:String(r)}(t))in h?Object.defineProperty(h,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):h[t]=i,h}class ft{constructor(t){let{dp:i,opts:e}=t;K(this,"pressedKeys",new Set),K(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],r=>r.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],r=>r.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],r=>r.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],r=>r.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],r=>r.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],r=>r.year-=10],[["Control","Shift","ArrowUp"],(r,n)=>n.up()]])),K(this,"handleHotKey",r=>{let n=this.hotKeys.get(r),s=w(this.getInitialFocusDate());n(s,this.dp);let{year:a,month:l,date:c}=s,m=k(new Date(a,l));m<c&&(c=m);let y=this.dp.getClampedDate(new Date(a,l,c));this.dp.setFocusDate(y,{viewDateTransition:!0})}),K(this,"isHotKeyPressed",()=>{let r=!1,n=this.pressedKeys.size,s=a=>this.pressedKeys.has(a);for(let[a]of this.hotKeys){if(r)break;if(Array.isArray(a[0]))a.forEach(l=>{r||n!==l.length||(r=l.every(s)&&a)});else{if(n!==a.length)continue;r=a.every(s)&&a}}return r}),K(this,"isArrow",r=>r>=37&&r<=40),K(this,"onKeyDown",r=>{let{key:n,which:s}=r,{dp:a,dp:{focusDate:l},opts:c}=this;this.registerKey(n);let m=this.isHotKeyPressed();if(m)return r.preventDefault(),void this.handleHotKey(m);if(this.isArrow(s))return r.preventDefault(),void this.focusNextCell(n);if(n==="Enter"){if(a.currentView!==c.minView)return void a.down();if(l){let y=a._checkIfDateIsSelected(l);return void(y?a._handleAlreadySelectedDates(y,l):a.selectDate(l))}}n==="Escape"&&this.dp.hide()}),K(this,"onKeyUp",r=>{this.removeKey(r.key)}),this.dp=i,this.opts=e,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:t}=this.dp;t.addEventListener("keydown",this.onKeyDown),t.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:t}=this.dp;t.removeEventListener("keydown",this.onKeyDown),t.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:t,currentView:i,selectedDates:e,parsedViewDate:{year:r,month:n}}=this.dp,s=t||e[e.length-1];if(!s)switch(i){case o.days:s=new Date(r,n,new Date().getDate());break;case o.months:s=new Date(r,n,1);break;case o.years:s=new Date(r,0,1)}return s}focusNextCell(t){let i=this.getInitialFocusDate(),{currentView:e}=this.dp,{days:r,months:n,years:s}=o,a=w(i),l=a.year,c=a.month,m=a.date;switch(t){case"ArrowLeft":e===r&&(m-=1),e===n&&(c-=1),e===s&&(l-=1);break;case"ArrowUp":e===r&&(m-=7),e===n&&(c-=3),e===s&&(l-=4);break;case"ArrowRight":e===r&&(m+=1),e===n&&(c+=1),e===s&&(l+=1);break;case"ArrowDown":e===r&&(m+=7),e===n&&(c+=3),e===s&&(l+=4)}let y=this.dp.getClampedDate(new Date(l,c,m));this.dp.setFocusDate(y,{viewDateTransition:!0})}registerKey(t){this.pressedKeys.add(t)}removeKey(t){this.pressedKeys.delete(t)}}let gt={on(h,t){this.__events||(this.__events={}),this.__events[h]?this.__events[h].push(t):this.__events[h]=[t]},off(h,t){this.__events&&this.__events[h]&&(this.__events[h]=this.__events[h].filter(i=>i!==t))},removeAllEvents(){this.__events={}},trigger(h){for(var t=arguments.length,i=new Array(t>1?t-1:0),e=1;e<t;e++)i[e-1]=arguments[e];this.__events&&this.__events[h]&&this.__events[h].forEach(r=>{r(...i)})}};function b(h,t,i){return(t=function(e){var r=function(n,s){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,"string");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e);return typeof r=="symbol"?r:String(r)}(t))in h?Object.defineProperty(h,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):h[t]=i,h}let z="",A="",rt=!1;class O{static buildGlobalContainer(t){rt=!0,z=f({className:t,id:t}),p("body").appendChild(z)}constructor(t,i){var e=this;if(b(this,"viewIndexes",[o.days,o.months,o.years]),b(this,"next",()=>{let{year:s,month:a}=this.parsedViewDate;switch(this.currentView){case o.days:this.setViewDate(new Date(s,a+1,1));break;case o.months:this.setViewDate(new Date(s+1,a,1));break;case o.years:this.setViewDate(new Date(s+10,0,1))}}),b(this,"prev",()=>{let{year:s,month:a}=this.parsedViewDate;switch(this.currentView){case o.days:this.setViewDate(new Date(s,a-1,1));break;case o.months:this.setViewDate(new Date(s-1,a,1));break;case o.years:this.setViewDate(new Date(s-10,0,1))}}),b(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),b(this,"setPosition",function(s){let a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(s=s||e.opts.position)=="function")return void(e.customHide=s({$datepicker:e.$datepicker,$target:e.$el,$pointer:e.$pointer,isViewChange:a,done:e._finishHide}));let l,c,{isMobile:m}=e.opts,y=e.$el.getBoundingClientRect(),_=e.$el.getBoundingClientRect(),S=e.$datepicker.offsetParent,F=e.$el.offsetParent,M=e.$datepicker.getBoundingClientRect(),Z=s.split(" "),q=window.scrollY,G=window.scrollX,H=e.opts.offset,tt=Z[0],at=Z[1];if(m)e.$datepicker.style.cssText="left: 50%; top: 50%";else{if(S===F&&S!==document.body&&(_={top:e.$el.offsetTop,left:e.$el.offsetLeft,width:y.width,height:e.$el.offsetHeight},q=0,G=0),S!==F&&S!==document.body){let et=S.getBoundingClientRect();_={top:y.top-et.top,left:y.left-et.left,width:y.width,height:y.height},q=0,G=0}switch(tt){case"top":l=_.top-M.height-H;break;case"right":c=_.left+_.width+H;break;case"bottom":l=_.top+_.height+H;break;case"left":c=_.left-M.width-H}switch(at){case"top":l=_.top;break;case"right":c=_.left+_.width-M.width;break;case"bottom":l=_.top+_.height-M.height;break;case"left":c=_.left;break;case"center":/left|right/.test(tt)?l=_.top+_.height/2-M.height/2:c=_.left+_.width/2-M.width/2}e.$datepicker.style.cssText=`left: ${c+G}px; top: ${l+q}px`}}),b(this,"_setInputValue",()=>{let{opts:s,$altField:a,locale:{dateFormat:l}}=this,{altFieldDateFormat:c,altField:m}=s;m&&a&&(a.value=this._getInputValue(c)),this.$el.value=this._getInputValue(l)}),b(this,"_getInputValue",s=>{let{selectedDates:a,opts:l}=this,{multipleDates:c,multipleDatesSeparator:m}=l;if(!a.length)return"";let y=typeof s=="function",_=y?s(c?a:a[0]):a.map(S=>this.formatDate(S,s));return _=y?_:_.join(m),_}),b(this,"_checkIfDateIsSelected",function(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.days,l=!1;return e.selectedDates.some(c=>{let m=$(s,c,a);return l=m&&c,m}),l}),b(this,"_scheduleCallAfterTransition",s=>{this._cancelScheduledCall(),s&&s(!1),this._onTransitionEnd=()=>{s&&s(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),b(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),b(this,"setViewDate",s=>{if(!((s=L(s))instanceof Date)||$(s,this.viewDate))return;let a=this.viewDate;this.viewDate=s;let{onChangeViewDate:l}=this.opts;if(l){let{month:c,year:m}=this.parsedViewDate;l({month:c,year:m,decade:this.curDecade})}this.trigger(o.eventChangeViewDate,s,a)}),b(this,"setFocusDate",function(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!s||(s=L(s))instanceof Date)&&(e.focusDate=s,e.opts.range&&s&&e._handleRangeOnFocus(),e.trigger(o.eventChangeFocusDate,s,a))}),b(this,"setCurrentView",s=>{if(this.viewIndexes.includes(s)){if(this.currentView=s,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(o.eventChangeCurrentView,s),!this.views[s]){let a=this.views[s]=new N({dp:this,opts:this.opts,type:s});this.shouldUpdateDOM&&this.$content.appendChild(a.$el)}this.opts.onChangeView&&this.opts.onChangeView(s)}}),b(this,"_updateLastSelectedDate",s=>{this.lastSelectedDate=s,this.trigger(o.eventChangeLastSelectedDate,s)}),b(this,"destroy",()=>{let{showEvent:s,isMobile:a}=this.opts,l=this.$datepicker.parentNode;l&&l.removeChild(this.$datepicker),this.$el.removeEventListener(s,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),a&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null}),b(this,"update",function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=Q({},e.opts);Q(e.opts,s);let{timepicker:l,buttons:c,range:m,selectedDates:y,isMobile:_}=e.opts,S=e.visible||e.treatAsInline;e._createMinMaxDates(),e._limitViewDateByMaxMinDates(),e._handleLocale(),!a.selectedDates&&y&&e.selectDate(y),s.view&&e.setCurrentView(s.view),e._setInputValue(),a.range&&!m?(e.rangeDateTo=!1,e.rangeDateFrom=!1):!a.range&&m&&e.selectedDates.length&&(e.rangeDateFrom=e.selectedDates[0],e.rangeDateTo=e.selectedDates[1]),a.timepicker&&!l?(S&&e.timepicker.destroy(),e.timepicker=!1,e.$timepicker.parentNode.removeChild(e.$timepicker)):!a.timepicker&&l&&e._addTimepicker(),!a.buttons&&c?e._addButtons():a.buttons&&!c?(e.buttons.destroy(),e.$buttons.parentNode.removeChild(e.$buttons)):S&&a.buttons&&c&&e.buttons.clearHtml().render(),!a.isMobile&&_?(e.treatAsInline||A||e._createMobileOverlay(),e._addMobileAttributes(),e.visible&&e._showMobileOverlay()):a.isMobile&&!_&&(e._removeMobileAttributes(),e.visible&&(A.classList.remove("-active-"),typeof e.opts.position!="function"&&e.setPosition())),S&&(e.nav.update(),e.views[e.currentView].render(),e.currentView===o.days&&e.views[e.currentView].renderDayNames())}),b(this,"isOtherMonth",s=>{let{month:a}=w(s);return a!==this.parsedViewDate.month}),b(this,"isOtherYear",s=>{let{year:a}=w(s);return a!==this.parsedViewDate.year}),b(this,"isOtherDecade",s=>{let{year:a}=w(s),[l,c]=P(this.viewDate);return a<l||a>c}),b(this,"_onChangeSelectedDate",s=>{let{silent:a}=s;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!a&&this._triggerOnSelect()})}),b(this,"_onChangeFocusedDate",function(s){let{viewDateTransition:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!s)return;let l=!1;a&&(l=e.isOtherMonth(s)||e.isOtherYear(s)||e.isOtherDecade(s)),l&&e.setViewDate(s),e.opts.onFocus&&e.opts.onFocus({datepicker:e,date:s})}),b(this,"_onChangeTime",s=>{let{hours:a,minutes:l}=s,c=new Date,{lastSelectedDate:m,opts:{onSelect:y}}=this,_=m;m||(_=c);let S=this.getCell(_,this.currentViewSingular),F=S&&S.adpCell;F&&F.isDisabled||(_.setHours(a),_.setMinutes(l),m?(this._setInputValue(),y&&this._triggerOnSelect()):this.selectDate(_))}),b(this,"_onFocus",s=>{this.visible||this.show()}),b(this,"_onBlur",s=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),b(this,"_onMouseDown",s=>{this.inFocus=!0}),b(this,"_onMouseUp",s=>{this.inFocus=!1,this.$el.focus()}),b(this,"_onResize",()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()}),b(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),b(this,"getViewDates",function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o.days;return N.getDatesFunction(s)(e)}),b(this,"isWeekend",s=>this.opts.weekends.includes(s)),b(this,"getClampedDate",s=>{let{minDate:a,maxDate:l}=this,c=s;return l&&V(s,l)?c=l:a&&Y(s,a)&&(c=a),c}),this.$el=p(t),!this.$el)return;this.$datepicker=f({className:"air-datepicker"}),this.opts=Q({},g,i),this.$customContainer=!!this.opts.container&&p(this.opts.container),this.$altField=p(this.opts.altField||!1);let{view:r,startDate:n}=this.opts;n||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=L(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=r,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:t,treatAsInline:i,opts:{inline:e,isMobile:r,selectedDates:n,keyboardNav:s,onlyTimepicker:a}}=this,l=p("body");(!rt||rt&&z&&!l.contains(z))&&!e&&this.elIsInput&&!this.$customContainer&&O.buildGlobalContainer(O.defaultGlobalContainerId),!r||A||i||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(e||this._bindEvents(),s&&!a&&(this.keyboardNav=new ft({dp:this,opts:t}))),n&&this.selectDate(n,{silent:!0}),this.opts.visible&&!i&&this.show(),r&&!i&&this.$el.setAttribute("readonly",!0),i&&this._createComponents()}_createMobileOverlay(){A=f({className:"air-datepicker-overlay"}),z.appendChild(A)}_createComponents(){let{opts:t,treatAsInline:i,opts:{inline:e,buttons:r,timepicker:n,position:s,classes:a,onlyTimepicker:l,isMobile:c}}=this;this._buildBaseHtml(),this.elIsInput&&(e||this._setPositionClasses(s)),!e&&this.elIsInput||this.$datepicker.classList.add("-inline-"),a&&this.$datepicker.classList.add(...a.split(" ")),l&&this.$datepicker.classList.add("-only-timepicker-"),c&&!i&&this._addMobileAttributes(),this.views[this.currentView]=new N({dp:this,type:this.currentView,opts:t}),this.nav=new ut({dp:this,opts:t}),n&&this._addTimepicker(),r&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let t in this.views)this.views[t].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){A.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){A.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:t,maxDate:i}=this.opts;this.minDate=!!t&&L(t),this.maxDate=!!i&&L(i)}_addTimepicker(){this.$timepicker=f({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new mt({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=f({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new pt({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(o.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(o.eventChangeFocusDate,this._onChangeFocusedDate),this.on(o.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:t}=this.opts;var i,e;this.elIsInput?t?(i=this.$datepicker,(e=this.$el).parentNode.insertBefore(i,e.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=p(".air-datepicker--content",this.$datepicker),this.$pointer=p(".air-datepicker--pointer",this.$datepicker),this.$nav=p(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:t,dateFormat:i,firstDay:e,timepicker:r,onlyTimepicker:n,timeFormat:s,dateTimeSeparator:a}=this.opts;var l;this.locale=(l=t,JSON.parse(JSON.stringify(l))),i&&(this.locale.dateFormat=i),s!==void 0&&s!==""&&(this.locale.timeFormat=s);let{timeFormat:c}=this.locale;if(e!==""&&(this.locale.firstDay=e),r&&typeof i!="function"){let m=c?a:"";this.locale.dateFormat=[this.locale.dateFormat,c||""].join(m)}n&&typeof i!="function"&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(t){if(typeof t=="function")return void this.$datepicker.classList.add("-custom-position-");let i=(t=t.split(" "))[0],e=`air-datepicker -${i}-${t[1]}- -from-${i}-`;this.$datepicker.classList.add(...e.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:t,minDate:i,maxDate:e}=this;e&&V(t,e)&&this.setViewDate(e),i&&Y(t,i)&&this.setViewDate(i)}formatDate(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,i=arguments.length>1?arguments[1]:void 0;if(t=L(t),!(t instanceof Date))return;let e=i,r=this.locale,n=w(t),s=n.dayPeriod,a=P(t),l=O.replacer,c={T:t.getTime(),m:n.minutes,mm:n.fullMinutes,h:n.hours12,hh:n.fullHours12,H:n.hours,HH:n.fullHours,aa:s,AA:s.toUpperCase(),E:r.daysShort[n.day],EEEE:r.days[n.day],d:n.date,dd:n.fullDate,M:n.month+1,MM:n.fullMonth,MMM:r.monthsShort[n.month],MMMM:r.months[n.month],yy:n.year.toString().slice(-2),yyyy:n.year,yyyy1:a[0],yyyy2:a[1]};for(let[m,y]of Object.entries(c))e=l(e,nt(m),y);return e}down(t){this._handleUpDownActions(t,"down")}up(t){this._handleUpDownActions(t,"up")}selectDate(t){let i,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:r,parsedViewDate:n,selectedDates:s}=this,{updateTime:a}=e,{moveToOtherMonthsOnSelect:l,moveToOtherYearsOnSelect:c,multipleDates:m,range:y,autoClose:_,onBeforeSelect:S}=this.opts,F=s.length;if(Array.isArray(t))return t.forEach(M=>{this.selectDate(M,e)}),new Promise(M=>{setTimeout(M)});if((t=L(t))instanceof Date){if(S&&!S({date:t,datepicker:this}))return Promise.resolve();if(r===o.days&&t.getMonth()!==n.month&&l&&(i=new Date(t.getFullYear(),t.getMonth(),1)),r===o.years&&t.getFullYear()!==n.year&&c&&(i=new Date(t.getFullYear(),0,1)),i&&this.setViewDate(i),m&&!y){if(F===m)return;this._checkIfDateIsSelected(t)||s.push(t)}else if(y)switch(F){case 1:s.push(t),this.rangeDateTo||(this.rangeDateTo=t),V(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=t),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[t],this.rangeDateFrom=t,this.rangeDateTo="";break;default:this.selectedDates=[t],this.rangeDateFrom=t}else this.selectedDates=[t];return this.trigger(o.eventChangeSelectedDate,{action:o.actionSelectDate,silent:e?.silent,date:t,updateTime:a}),this._updateLastSelectedDate(t),_&&!this.timepickerIsActive&&this.visible&&(m||y?y&&F===1&&this.hide():this.hide()),new Promise(M=>{setTimeout(M)})}}unselectDate(t){let i=this.selectedDates,e=this;if((t=L(t))instanceof Date)return i.some((r,n)=>{if($(r,t))return i.splice(n,1),e.selectedDates.length?e._updateLastSelectedDate(e.selectedDates[e.selectedDates.length-1]):(e.rangeDateFrom="",e.rangeDateTo="",e._updateLastSelectedDate(!1)),this.trigger(o.eventChangeSelectedDate,{action:o.actionUnselectDate,date:t}),!0})}replaceDate(t,i){let e=this.selectedDates.find(n=>$(n,t,this.currentView)),r=this.selectedDates.indexOf(e);r<0||$(this.selectedDates[r],i,this.currentView)||(this.selectedDates[r]=i,this.trigger(o.eventChangeSelectedDate,{action:o.actionSelectDate,date:i,updateTime:!0}),this._updateLastSelectedDate(i))}clear(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.lastSelectedDate=!1,this.trigger(o.eventChangeSelectedDate,{action:o.actionUnselectDate,silent:t.silent}),new Promise(i=>{setTimeout(i)})}show(){let{onShow:t,isMobile:i}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,t&&this._scheduleCallAfterTransition(t),i&&this._showMobileOverlay()}hide(){let{onHide:t,isMobile:i}=this.opts,e=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(r=>{!this.customHide&&(r&&e||!r&&!e)&&this._finishHide(),t&&t(r)}),i&&A.classList.remove("-active-")}_triggerOnSelect(){let t=[],i=[],{selectedDates:e,locale:r,opts:{onSelect:n,multipleDates:s,range:a}}=this,l=s||a,c=typeof r.dateFormat=="function";e.length&&(t=e.map(st),i=c?s?r.dateFormat(t):t.map(m=>r.dateFormat(m)):t.map(m=>this.formatDate(m,r.dateFormat))),n({date:l?t:t[0],formattedDate:l?i:i[0],datepicker:this})}_handleAlreadySelectedDates(t,i){const{range:e,toggleSelected:r}=this.opts;let n=typeof r=="function"?r({datepicker:this,date:i}):r;e&&(n||this.selectedDates.length!==2&&this.selectDate(i)),n?this.unselectDate(i):this._updateLastSelectedDate(t)}_handleUpDownActions(t,i){if(!((t=L(t||this.focusDate||this.viewDate))instanceof Date))return;let e=i==="up"?this.viewIndex+1:this.viewIndex-1;e>2&&(e=2),e<0&&(e=0),this.setViewDate(new Date(t.getFullYear(),t.getMonth(),1)),this.setCurrentView(this.viewIndexes[e])}_handleRangeOnFocus(){this.selectedDates.length===1&&(V(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.day;if(!((t=L(t))instanceof Date))return;let{year:e,month:r,date:n}=w(t),s=`[data-year="${e}"]`,a=`[data-month="${r}"]`,l={[o.day]:`${s}${a}[data-date="${n}"]`,[o.month]:`${s}${a}`,[o.year]:`${s}`};return this.views[this.currentView].$el.querySelector(l[i])}_showMobileOverlay(){A.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((t,i)=>parseFloat(i)+t,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return w(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return P(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===o.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===o.days}get $container(){return this.$customContainer||z}static replacer(t,i,e){return t.replace(i,function(r,n,s,a){return n+e+a})}}var ht;return b(O,"defaults",g),b(O,"version","3.4.0"),b(O,"defaultGlobalContainerId","air-datepicker-global-container"),ht=O.prototype,Object.assign(ht,gt),D.default}()})})(lt);var Ct=lt.exports;const kt=yt(Ct);class St{calendar;calendarMain;btn;form;currentSelDate;currentDate;constructor(){this.form=v(".form"),this.calendar=v(".calendar"),this.calendarMain=v(".calendar__main"),this.btn=v(".calendar__btn"),this.currentSelDate=new Date,this.currentDate=new Date,this.init()}init(){this.open(),this.observer(),this.selectDate(),this.startCurrentDate()}startCurrentDate(){}selectDate(){const u=v("#start-date"),d=this;this.currentSelDate.setDate(this.currentSelDate.getDate()+7),u.html(d.formatDate(this.currentSelDate)),new kt("#el",{onSelect:({date:g})=>{o(String(g))},toggleSelected:!1,selectedDates:[this.currentSelDate]}).show();function o(g){g!="undefined"&&(d.currentSelDate=new Date(g)),d.removeError(),u.html(d.formatDate(d.currentSelDate)),d.removeFinalDate()}this.removeFinalDate()}removeError(){const u=v(".form__btn-error");this.currentDate.valueOf()>this.currentSelDate.valueOf()||(this.form.removeClass("form_erroe-one"),this.btn.css("border","1px solid #e2e2e2"),u.html(""))}checkError(){const u=v(".form__btn-error");return this.currentDate.valueOf()>this.currentSelDate.valueOf()?(u.html(""),this.btn.css("border","1px solid rgb(199 41 41)"),u.html("Нельзя выбрать прошедшую/текущую дату вылета"),this.form.addClass("form_erroe-one"),!1):(this.form.removeClass("form_erroe-one"),this.btn.css("border","1px solid #e2e2e2"),u.html(""),!0)}removeFinalDate(){const u=v("#final-date"),d=+v(".form__counter-count").html(),D=new Date(this.currentSelDate);D.setDate(D.getDate()+d),u.html(this.formatDate(D))}formatDate(u){const d=u.getDate(),D=u.getMonth()+1,o=u.getFullYear(),g=d<10?"0"+d:d,p=D<10?"0"+D:D;return`${g}.${p}.${o}`}open(){this.calendar.on("click",()=>{this.calendar.toggleClass("calendar_active")});const u=this;v(document).on("click",function(d){u.calendar.has(d.target).length==0&&u.calendar.removeClass("calendar_active")})}observer(){const u=Number(this.calendarMain.height()),d=this;v(document).ready(function(){const D={root:null,rootMargin:`0px 0px -${u+30}px 0px`,threshold:1};function o(f){f.forEach(C=>{const k=Number(v(window).height()),w=Number(C.boundingClientRect.top);k>700&&w>0&&(C.isIntersecting?(d.calendar.addClass("calendar_bottom"),d.calendar.removeClass("calendar_top")):(d.calendar.addClass("calendar_top"),d.calendar.removeClass("calendar_bottom")))})}const g=v(".calendar__btn"),p=new IntersectionObserver(o,D);g.each(function(f,C){p.observe(C)})})}}class $t{dropDown;dropMain;quatityAdults;quatityKids;addBtn;btn;children;tegContainer;error;currentAbdul;currentKids;objKidsYears;constructor(u){this.dropDown=v(u).find(".dropdown"),this.dropMain=this.dropDown.find(".dropdown__main"),this.quatityAdults=this.dropDown.find("#adults-quantity"),this.quatityKids=this.dropDown.find("#kids-quantity"),this.addBtn=this.dropDown.find(".dropdown__button-add"),this.error=this.dropDown.find(".dropdown__error"),this.btn=this.dropDown.find(".dropdown__btn"),this.children=this.dropDown.find(".dropdown__children"),this.tegContainer=v(".form__drop-tags"),this.currentAbdul=1,this.currentKids=0,this.objKidsYears={},this.init()}init(){this.open(),this.counter(this.dropDown.find(".dropdown__count-one")),this.counter(this.dropDown.find(".dropdown__count-two"),!0),this.addPeople()}open(){this.btn.on("click",()=>{this.dropDown.toggleClass("dropdown_active")});const u=this;v(document).on("click",function(d){u.dropDown.has(d.target).length==0&&u.dropDown.removeClass("dropdown_active")})}counter(u,d=!1){const D=u.find(".dropdown__count-add"),o=u.find(".dropdown__count-remove"),g=u.find(".dropdown__count-current"),p=this;function f(){let k=+g.text();if(k<9){const w=k+1;g.html(String(w)),d?p.timeout(w,!0):(p.currentAbdul=w,p.error.removeClass("dropdown__error_active-abduls"))}}function C(){let k=+g.text();if(k>0){const w=k-1;g.html(String(w)),d?p.timeout(w,!1):p.currentAbdul=w}}D.on("click",f),o.on("click",C)}addAgeSelect(u,d=!1){const o=this.dropDown.find(".children__drop").length;console.log(o);const g=[];for(const p in this.objKidsYears)for(let f=0;f<this.objKidsYears[p];f++)g.push(p);console.log(g);for(let p=0;p<u;p++)if(p>o-1){this.children.append(`
                    <div id="drop-${p}" class="children__drop">
                        <button class="children__btn">
                            <span class="children__current">${d?g[p]:"Укажите возраст"}</span>
                            <svg><use xlink:href="#chevron-left"></use></svg> 
                        </button>
                        <ul class="children__list">
                            <li>Укажите возраст</li>
                            <li>&lt; 1 год</li>
                            <li>1 год</li>
                            <li>2 года</li>
                            <li>3 года</li>
                            <li>4 года</li>
                            <li>5 лет</li>
                            <li>6 лет</li>
                            <li>7 лет</li>
                            <li>8 лет</li>
                            <li>9 лет</li>
                            <li>10 лет</li>
                            <li>11 лет</li>
                            <li>12 лет</li>
                            <li>13 лет</li>
                            <li>14 лет</li>
                            <li>15 лет</li>
                            <li>16 лет</li>
                            <li>17 лет</li>
                        </ul>
                    </div>
                `);const f=v("<script>").attr("type","text/javascript").text(`
                    function dropDown(id){
                        const drop = document.querySelector(id)
                        const li = drop.querySelectorAll('li');
                        const current = drop.querySelector('.children__current');
                        const btn  = drop.querySelector('.children__btn');
                        const listHeight = drop.querySelector('.children__list').offsetHeight;
        
                        li.forEach(item => {
                            item.addEventListener('click', () => {
                                    current.textContent = item.textContent
                                    if(item.textContent !== 'Укажите возраст'){
                                        drop.classList.remove('children__drop_error')
                                        document.querySelector('.dropdown__error').classList.remove('dropdown__error_active-kids')
                                    }
                            })
                        });
        
                        
                        drop.addEventListener('click', () => {
                            drop.classList.toggle('children__drop_active')
                        })
        
                        document.addEventListener('click', (e) => {
                            if (!drop.contains(e.target)) {
                                drop.classList.remove('children__drop_active');
                            }
                        });
        
                        function observer(){
                            const options = {
                                rootMargin: '0px 0px -' + (listHeight? listHeight + 30 : 300 ) + 'px 0px',
                                threshold: 1 
                            };  
                            const observer = new IntersectionObserver(callback, options);  
                            if(btn){
                                observer.observe(btn);
                            }
                
                            function callback(entries) {
                                entries.forEach(entry => {
                                    if (entry.isIntersecting) {
                                            drop.classList.add('children_top');
                                            drop.classList.remove('children_bottom');
                                    } else {
                                        if(window.innerHeight > 700 ){
                                            drop.classList.add('children_bottom');
                                            drop.classList.remove('children_top');
                                        }
                                    }
                                });
                            }
                        }
                        observer()
                        drop.classList.add('children__drop_opacity')
                    }
                    dropDown('#drop-${p}')
                `);v("body").append(f)}}removeAgeSelect(u){this.dropDown.find(".children__drop").each((D,o)=>{D>u-1&&(o.classList.remove("children__drop_opacity"),setTimeout(()=>{o.remove()},150))})}timeout(u,d,D=!1){function o(){const g=Math.ceil(u/2);let p=0;return g===1?p=40:g>1&&(p=g*45-5),p}D?(this.children.css("height",`${o()}px`),this.addAgeSelect(u,!0)):d?(u%2!==0&&this.children.css("height",`${o()}px`),this.addAgeSelect(u)):(u%2===0&&this.children.css("height",`${o()}px`),this.removeAgeSelect(u))}addPeople(){this.addBtn.on("click",()=>{const u=this.dropDown.find(".children__drop"),d=this,D={};if(u.each(function(g,p){const f=String(p.querySelector(".children__current")?.textContent);f==="Укажите возраст"?(p.classList.add("children__drop_error"),d.error.addClass("dropdown__error_active-kids")):D.hasOwnProperty(f)?D[f]++:D[f]=1}),this.dropDown.find(".children__drop_error").length===0)if(this.currentAbdul<1)this.error.addClass("dropdown__error_active-abduls");else{this.quatityAdults.html(String(this.currentAbdul)),sessionStorage.setItem("abduls",String(this.currentAbdul)),this.currentKids=Object.keys(D).reduce((p,f)=>(p+=+D[f],p),0),console.log(this.currentKids),this.quatityKids.html(String(this.currentKids)),sessionStorage.setItem("kids",JSON.stringify(D)),this.dropDown.removeClass("dropdown_active"),this.getTegs(D);const g=new CustomEvent("myCustomEvent");document.dispatchEvent(g)}})}getTegs(u={}){this.tegContainer.html(`
    <li>Взрослых x${this.currentAbdul}</li>
  `);for(const d in u)this.tegContainer.append(`
        <li>${d} x${u[d]}</li>
    `)}getAbduls(){return this.currentAbdul}getKids(){return this.currentKids}}class Mt{food;foodMain;btn;allLi;currentSelect;errorFood;constructor(){this.food=v(".food"),this.foodMain=v(".food__list"),this.btn=v(".food__btn"),this.allLi=this.food.find("li"),this.currentSelect=v(".food__btn-info"),this.errorFood=v(".form__error-food"),this.init()}init(){this.open(),this.observer(),this.select()}select(){this.allLi.each((u,d)=>{d.addEventListener("click",()=>{this.currentSelect.html(String(d.textContent)),this.errorFood.removeClass("form__error-food_active")})})}checkInput(){return this.currentSelect.html()=="Выбрать"?(this.errorFood.addClass("form__error-food_active"),!1):(this.errorFood.removeClass("form__error-food_active"),!0)}open(){this.food.on("click",()=>{this.food.toggleClass("food_active")});const u=this;v(document).on("click",function(d){u.food.has(d.target).length==0&&u.food.removeClass("food_active")})}observer(){const u=Number(this.foodMain.height()),d=this;v(document).ready(function(){const D={root:null,rootMargin:`0px 0px -${u+30}px 0px`,threshold:1};function o(f){f.forEach(C=>{const k=Number(v(window).height()),w=Number(C.boundingClientRect.top);k>700&&w>0&&(C.isIntersecting?(d.food.addClass("food_bottom"),d.food.removeClass("food_top")):(d.food.addClass("food_top"),d.food.removeClass("food_bottom")))})}const g=v(".food__btn"),p=new IntersectionObserver(o,D);g.each(function(f,C){p.observe(C)})})}}document.addEventListener("DOMContentLoaded",()=>{class I{header;footer;food;input;inputBtn;tabsBtn;form;tabsSlider;dropDown;calendar;DropPeople;formBtn;stars;inputForm;constructor(){this.header=new _t,this.footer=new wt,this.food=new Mt,this.dropDown=new bt,this.calendar=new St,this.DropPeople=new $t(".form__drop-guests"),this.stars=v(".form__stars-one-star"),this.input=v("#adviser-inp"),this.inputBtn=v(".adviser__btn"),this.inputForm=v("#adviser__form"),this.tabsBtn=v(".form__tabs"),this.form=v(".form"),this.formBtn=this.form.find(".form__btn"),this.tabsSlider=v(".form__tabs-slider"),this.inputMask(".adviser__input"),this.inputMask(".form__phone"),this.tabs(),this.points(),this.stopReload(),this.clickFormBtn(),this.SelectStars(),this.counter()}SelectStars(){const d=this;this.stars.each((o,g)=>{g.addEventListener("click",()=>{D(Number(g.getAttribute("data-num")))})});function D(o){d.stars.each((g,p)=>{g<o?p.classList.add("form__stars-one-star_active"):p.classList.remove("form__stars-one-star_active")})}}stopReload(){this.form.on("submit",d=>{d.preventDefault()})}tabs(){const d=document.querySelector(".form__tab-one"),D=document.querySelector(".form__tab-two"),o=document.querySelector(".form__tab-three");this.tabsBtn.each((g,p)=>{p.addEventListener("click",f=>{d?.contains(f.target)?this.points(1):D?.contains(f.target)?this.points(2):o?.contains(f.target)&&this.points(3)})})}points(d=1){console.log(d);const D=document.querySelector(".form__tab-one"),o=document.querySelector(".form__tab-two"),g=document.querySelector(".form__tab-three"),p=!v(".form").is(".form_erroe-one"),f=!v(".form").is(".form_erroe-two");d===1?(g?.classList.remove("form__tab_active"),o?.classList.remove("form__tab_active"),D?.classList.add("form__tab_active"),this.form.removeClass("form_two-state form_three-state"),this.form.addClass("form_one-state"),this.tabsSlider.css({left:"0"})):d===2&&p?(g?.classList.remove("form__tab_active"),D?.classList.remove("form__tab_active"),o?.classList.add("form__tab_active"),this.form.removeClass("form_one-state form_three-state"),this.form.addClass("form_two-state"),this.tabsSlider.css({left:"33.3%"})):d===3&&p&&f&&(D?.classList.remove("form__tab_active"),o?.classList.remove("form__tab_active"),g?.classList.add("form__tab_active"),this.form.removeClass("form_one-state form_two-state"),this.form.addClass("form_three-state"),this.tabsSlider.css({left:"68%"}))}clickFormBtn(){this.formBtn.on("click",()=>{const d=v(".form").is(".form_one-state");this.calendar.checkError()&&d&&this.points(2)})}addError(d){}clickBtn(){alert("В скором времени вам позвонят."),this.input.val(""),v(".adviser__input").removeClass("adviser__input_active")}inputMask(d){const D=v(d),o=D.find("input");function g(){const f=o.val()?.length;f&&f>0?D.addClass("input_active"):D.removeClass("input_active")}function p(){const f=String(o.val()).replace(/\s/g,""),C=f.length,k=C-1,w=f[k];!/[0-9]/.test(w)||C>10?o.val(String(o.val()).slice(0,-1)):C<3?o.val(f):C>=3&&C<10&&o.val(`${f.slice(0,3)} ${f.slice(3,6)} ${f.slice(6,8)} ${f.slice(8,10)}`.trim())}o.on("input",()=>{p(),g()})}counter(){const d=v(".form__counter-add"),D=v(".form__counter-remove"),o=v(".form__counter-count"),g=this;function p(){let k=+o.text();if(k<18){const w=k+1;C(String(w))}}function f(){let k=+o.text();if(k>1){const w=k-1;C(String(w))}}function C(k){o.html(k),g.calendar.removeFinalDate(),sessionStorage.setItem("count",k)}d.on("click",p),D.on("click",f)}}new I});
