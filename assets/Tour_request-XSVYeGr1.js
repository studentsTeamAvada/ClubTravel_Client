import{$ as l,r as y,H as w}from"./header-hiQeVM5C.js";import{F as C}from"./footer-MmTiPZRL.js";import{A as x}from"./air-datepicker-nZugeT86.js";class D{dropDown;dropMain;btn;allAccordions;countryMainDrop;tourMainDrop;constructor(){this.dropDown=l(".drop-country"),this.dropMain=l(".drop-country__accordions"),this.btn=l(".drop-country__btn"),this.allAccordions=l(".accordion"),this.countryMainDrop=l(".drop-country__county"),this.tourMainDrop=l(".drop-country__tour"),this.init()}init(){this.open(),this.observer(),this.accordion()}checkTour(){return this.countryMainDrop.html()==="Страна"?(console.log(1),!1):(console.log(2),!0)}open(){this.btn.on("click",()=>{this.dropDown.toggleClass("drop-country_active")});const i=this;l(document).on("click",function(a){i.dropDown.has(a.target).length==0&&i.dropDown.removeClass("drop-country_active")})}observer(){const i=Number(this.dropMain.height()),a=this;l(document).ready(function(){const c={root:null,rootMargin:`0px 0px -${i+30}px 0px`,threshold:1};function d(r){r.forEach(s=>{const n=Number(l(window).height()),o=Number(s.boundingClientRect.top);n>700&&o>0&&(s.isIntersecting?(a.dropDown.addClass("drop-country_bottom"),a.dropDown.removeClass("drop-country_top")):(a.dropDown.addClass("drop-country_top"),a.dropDown.removeClass("drop-country_bottom")))})}const t=l(".drop-country__btn"),e=new IntersectionObserver(d,c);t.each(function(r,s){e.observe(s)})})}accordion(){const i=this;this.allAccordions.each((d,t)=>{c(t),a(t)});function a(d){const t=d.querySelectorAll("li"),e=String(d.querySelector(".accordion__country")?.textContent);t.forEach(r=>{r.addEventListener("click",()=>{i.countryMainDrop.html(e),i.tourMainDrop.html(String(r.textContent)),i.dropDown.removeClass("drop-country_active"),l(".drop-country").removeClass("drop-country_error")})})}function c(d){document.addEventListener("click",t=>{d.contains(t.target)?d.classList.toggle("accordion_active"):d.classList.remove("accordion_active")})}}}class S{calendar;calendarMain;btn;form;currentSelDate;currentNextDate;datepicker;between;constructor(){this.form=l(".form"),this.calendar=l(".calendar"),this.calendarMain=l(".calendar__main"),this.btn=l(".calendar__btn"),this.currentSelDate=new Date,this.currentNextDate=new Date,this.between=0,this.init()}init(){this.open(),this.observer(),this.airDatepicker(),this.counter()}newDate(i=!0,a=!1){i?l("#start-date").html(this.formatDate(this.currentSelDate)):l("#start-date").html(""),a?l("#final-date").html(this.formatDate(this.currentNextDate)):l("#final-date").html("")}airDatepicker(){const i=this,a=new Date().setDate(new Date().getDate()+1),c=new Date().setDate(new Date().getFullYear()+5);this.datepicker=new x("#el",{range:!0,toggleSelected:!0,multipleDatesSeparator:" -",minDate:a,onSelect({date:d}){const t=d;t[1]?(i.currentNextDate=new Date(t[1]),i.newDate(!0,!0),i.datepicker?.update({minDate:a,maxDate:c}),i.selectCount()):t[0]?(i.currentSelDate=new Date(t[0]),i.newDate(),i.datepicker?.update({minDate:new Date(t[0]),maxDate:new Date(t[0]).setDate(t[0].getDate()+18)})):(i.datepicker?.update({minDate:a,maxDate:c}),i.newDate(!1,!1))}})}selectCount(){const i=this.currentNextDate.getTime()-this.currentSelDate.getTime(),a=Math.floor(i/(1e3*60*60*24));console.log(a),l(".form__counter-count").html(String(a))}counter(){const i=l(".form__counter-add"),a=l(".form__counter-remove"),c=l(".form__counter-count"),d=this;function t(){let s=+c.text();if(s<100){const n=s+1;r(String(n))}}function e(){let s=+c.text();if(s>1){const n=s-1;r(String(n))}}function r(s){c.html(s),d.selectFinishDate(+s)}i.on("click",t),a.on("click",e)}selectFinishDate(i=1){const a=new Date(new Date().setDate(this.currentSelDate.getDate()+i));this.datepicker?.clear(),this.datepicker?.selectDate(this.currentSelDate),this.datepicker?.selectDate(a),console.log(this.currentSelDate),console.log(this.currentNextDate)}formatDate(i){const a=i.getDate(),c=i.getMonth()+1,d=i.getFullYear(),t=a<10?"0"+a:a,e=c<10?"0"+c:c;return`${t}.${e}.${d}`}open(){this.btn.on("click",()=>{this.calendar.toggleClass("calendar_active")});const i=this;l(document).on("click",function(a){i.calendar.has(a.target).length==0&&i.calendar.removeClass("calendar_active")})}observer(){const i=Number(this.calendarMain.height()),a=this;l(document).ready(function(){const c={root:null,rootMargin:`0px 0px -${i+30}px 0px`,threshold:1};function d(r){r.forEach(s=>{const n=Number(l(window).height()),o=Number(s.boundingClientRect.top);n>700&&o>0&&(s.isIntersecting?(a.calendar.addClass("calendar_bottom"),a.calendar.removeClass("calendar_top")):(a.calendar.addClass("calendar_top"),a.calendar.removeClass("calendar_bottom")))})}const t=l(".calendar__btn"),e=new IntersectionObserver(d,c);t.each(function(r,s){e.observe(s)})})}}class k{dropDown;dropMain;quatityAdults;quatityKids;addBtn;btn;children;tegContainer;error;currentAbdul;currentKids;objKidsYears;constructor(i){this.dropDown=l(i).find(".dropdown"),this.dropMain=this.dropDown.find(".dropdown__main"),this.quatityAdults=this.dropDown.find("#adults-quantity"),this.quatityKids=this.dropDown.find("#kids-quantity"),this.addBtn=this.dropDown.find(".dropdown__button-add"),this.error=this.dropDown.find(".dropdown__error"),this.btn=this.dropDown.find(".dropdown__btn"),this.children=this.dropDown.find(".dropdown__children"),this.tegContainer=l(".form__drop-tags"),this.currentAbdul=1,this.currentKids=0,this.objKidsYears={},this.init()}init(){this.open(),this.counter(this.dropDown.find(".dropdown__count-one")),this.counter(this.dropDown.find(".dropdown__count-two"),!0),this.addPeople()}open(){this.btn.on("click",()=>{this.dropDown.toggleClass("dropdown_active")});const i=this;l(document).on("click",function(a){i.dropDown.has(a.target).length==0&&i.dropDown.removeClass("dropdown_active")})}counter(i,a=!1){const c=i.find(".dropdown__count-add"),d=i.find(".dropdown__count-remove"),t=i.find(".dropdown__count-current"),e=this;function r(){let n=+t.text();if(n<9){const o=n+1;t.html(String(o)),a?e.timeout(o,!0):(e.currentAbdul=o,e.error.removeClass("dropdown__error_active-abduls"))}}function s(){let n=+t.text();if(n>0){const o=n-1;t.html(String(o)),a?e.timeout(o,!1):e.currentAbdul=o}}c.on("click",r),d.on("click",s)}addAgeSelect(i,a=!1){const d=this.dropDown.find(".children__drop").length;console.log(d);const t=[];for(const e in this.objKidsYears)for(let r=0;r<this.objKidsYears[e];r++)t.push(e);console.log(t);for(let e=0;e<i;e++)if(e>d-1){this.children.append(`
                    <div id="drop-${e}" class="children__drop">
                        <button class="children__btn">
                            <span class="children__current">${a?t[e]:"Укажите возраст"}</span>
                            <svg><use xlink:href="#chevron-left"></use></svg> 
                        </button>
                        <ul class="children__list">
                            <li>Укажите возраст</li>
                            <li>&lt; 1 год</li>
                            <li>1 год</li>
                            <li>2 года</li>
                            <li>3 года</li>
                            <li>4 года</li>
                            <li>5 лет</li>
                            <li>6 лет</li>
                            <li>7 лет</li>
                            <li>8 лет</li>
                            <li>9 лет</li>
                            <li>10 лет</li>
                            <li>11 лет</li>
                            <li>12 лет</li>
                            <li>13 лет</li>
                            <li>14 лет</li>
                            <li>15 лет</li>
                            <li>16 лет</li>
                            <li>17 лет</li>
                        </ul>
                    </div>
                `);const r=l("<script>").attr("type","text/javascript").text(`
                    function dropDown(id){
                        const drop = document.querySelector(id)
                        const li = drop.querySelectorAll('li');
                        const current = drop.querySelector('.children__current');
                        const btn  = drop.querySelector('.children__btn');
                        const listHeight = drop.querySelector('.children__list').offsetHeight;
        
                        li.forEach(item => {
                            item.addEventListener('click', () => {
                                    current.textContent = item.textContent
                                    if(item.textContent !== 'Укажите возраст'){
                                        drop.classList.remove('children__drop_error')
                                        document.querySelector('.dropdown__error').classList.remove('dropdown__error_active-kids')
                                    }
                            })
                        });
        
                        
                        drop.addEventListener('click', () => {
                            drop.classList.toggle('children__drop_active')
                        })
        
                        document.addEventListener('click', (e) => {
                            if (!drop.contains(e.target)) {
                                drop.classList.remove('children__drop_active');
                            }
                        });
        
                        function observer(){
                            const options = {
                                rootMargin: '0px 0px -' + (listHeight? listHeight + 30 : 300 ) + 'px 0px',
                                threshold: 1 
                            };  
                            const observer = new IntersectionObserver(callback, options);  
                            if(btn){
                                observer.observe(btn);
                            }
                
                            function callback(entries) {
                                entries.forEach(entry => {
                                    if (entry.isIntersecting) {
                                            drop.classList.add('children_top');
                                            drop.classList.remove('children_bottom');
                                    } else {
                                        if(window.innerHeight > 700 ){
                                            drop.classList.add('children_bottom');
                                            drop.classList.remove('children_top');
                                        }
                                    }
                                });
                            }
                        }
                        observer()
                        drop.classList.add('children__drop_opacity')
                    }
                    dropDown('#drop-${e}')
                `);l("body").append(r)}}removeAgeSelect(i){this.dropDown.find(".children__drop").each((c,d)=>{c>i-1&&(d.classList.remove("children__drop_opacity"),setTimeout(()=>{d.remove()},150))})}timeout(i,a,c=!1){function d(){const t=Math.ceil(i/2);let e=0;return t===1?e=40:t>1&&(e=t*45-5),e}c?(this.children.css("height",`${d()}px`),this.addAgeSelect(i,!0)):a?(i%2!==0&&this.children.css("height",`${d()}px`),this.addAgeSelect(i)):(i%2===0&&this.children.css("height",`${d()}px`),this.removeAgeSelect(i))}addPeople(){this.addBtn.on("click",()=>{const i=this.dropDown.find(".children__drop"),a=this,c={};if(i.each(function(t,e){const r=String(e.querySelector(".children__current")?.textContent);r==="Укажите возраст"?(e.classList.add("children__drop_error"),a.error.addClass("dropdown__error_active-kids")):c.hasOwnProperty(r)?c[r]++:c[r]=1}),this.dropDown.find(".children__drop_error").length===0)if(this.currentAbdul<1)this.error.addClass("dropdown__error_active-abduls");else{this.quatityAdults.html(String(this.currentAbdul)),sessionStorage.setItem("abduls",String(this.currentAbdul)),this.currentKids=Object.keys(c).reduce((e,r)=>(e+=+c[r],e),0),console.log(this.currentKids),this.quatityKids.html(String(this.currentKids)),sessionStorage.setItem("kids",JSON.stringify(c)),this.dropDown.removeClass("dropdown_active"),this.getTegs(c);const t=new CustomEvent("myCustomEvent");document.dispatchEvent(t)}})}getTegs(i={}){this.tegContainer.html(`
    <li>Взрослых x${this.currentAbdul}</li>
  `);for(const a in i)this.tegContainer.append(`
        <li>${a} x${i[a]}</li>
    `)}getAbduls(){return this.currentAbdul}getKids(){return this.currentKids}}class L{food;foodMain;btn;allLi;currentSelect;errorFood;constructor(){this.food=l(".food"),this.foodMain=l(".food__list"),this.btn=l(".food__btn"),this.allLi=this.food.find("li"),this.currentSelect=l(".food__btn-info"),this.errorFood=l(".form__error-food"),this.init()}init(){this.open(),this.observer(),this.select()}select(){this.allLi.each((i,a)=>{a.addEventListener("click",()=>{this.currentSelect.html(String(a.textContent)),this.errorFood.removeClass("form__error-food_active")})})}checkInput(){return this.currentSelect.html()=="Выбрать"?(this.errorFood.addClass("form__error-food_active"),!1):(this.errorFood.removeClass("form__error-food_active"),!0)}open(){this.food.on("click",()=>{this.food.toggleClass("food_active")});const i=this;l(document).on("click",function(a){i.food.has(a.target).length==0&&i.food.removeClass("food_active")})}observer(){const i=Number(this.foodMain.height()),a=this;l(document).ready(function(){const c={root:null,rootMargin:`0px 0px -${i+30}px 0px`,threshold:1};function d(r){r.forEach(s=>{const n=Number(l(window).height()),o=Number(s.boundingClientRect.top);n>700&&o>0&&(s.isIntersecting?(a.food.addClass("food_bottom"),a.food.removeClass("food_top")):(a.food.addClass("food_top"),a.food.removeClass("food_bottom")))})}const t=l(".food__btn"),e=new IntersectionObserver(d,c);t.each(function(r,s){e.observe(s)})})}}var A={exports:{}};/*!
 * jQuery Validation Plugin v1.20.0
 *
 * https://jqueryvalidation.org/
 *
 * Copyright (c) 2023 Jörn Zaefferer
 * Released under the MIT license
 */(function(v){(function(i){v.exports?v.exports=i(y()):i(jQuery)})(function(i){i.extend(i.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.");return}var e=i.data(this[0],"validator");return e||(this.attr("novalidate","novalidate"),e=new i.validator(t,this[0]),i.data(this[0],"validator",e),e.settings.onsubmit&&(this.on("click.validate",":submit",function(r){e.submitButton=r.currentTarget,i(this).hasClass("cancel")&&(e.cancelSubmit=!0),i(this).attr("formnovalidate")!==void 0&&(e.cancelSubmit=!0)}),this.on("submit.validate",function(r){e.settings.debug&&r.preventDefault();function s(){var n,o;return e.submitButton&&(e.settings.submitHandler||e.formSubmitted)&&(n=i("<input type='hidden'/>").attr("name",e.submitButton.name).val(i(e.submitButton).val()).appendTo(e.currentForm)),e.settings.submitHandler&&!e.settings.debug?(o=e.settings.submitHandler.call(e,e.currentForm,r),n&&n.remove(),o!==void 0?o:!1):!0}return e.cancelSubmit?(e.cancelSubmit=!1,s()):e.form()?e.pendingRequest?(e.formSubmitted=!0,!1):s():(e.focusInvalid(),!1)})),e)},valid:function(){var t,e,r;return i(this[0]).is("form")?t=this.validate().form():(r=[],t=!0,e=i(this[0].form).validate(),this.each(function(){t=e.element(this)&&t,t||(r=r.concat(e.errorList))}),e.errorList=r),t},rules:function(t,e){var r=this[0],s=typeof this.attr("contenteditable")<"u"&&this.attr("contenteditable")!=="false",n,o,h,u,f,m;if(r!=null&&(!r.form&&s&&(r.form=this.closest("form")[0],r.name=this.attr("name")),r.form!=null)){if(t)switch(n=i.data(r.form,"validator").settings,o=n.rules,h=i.validator.staticRules(r),t){case"add":i.extend(h,i.validator.normalizeRule(e)),delete h.messages,o[r.name]=h,e.messages&&(n.messages[r.name]=i.extend(n.messages[r.name],e.messages));break;case"remove":return e?(m={},i.each(e.split(/\s/),function(p,g){m[g]=h[g],delete h[g]}),m):(delete o[r.name],h)}return u=i.validator.normalizeRules(i.extend({},i.validator.classRules(r),i.validator.attributeRules(r),i.validator.dataRules(r),i.validator.staticRules(r)),r),u.required&&(f=u.required,delete u.required,u=i.extend({required:f},u)),u.remote&&(f=u.remote,delete u.remote,u=i.extend(u,{remote:f})),u}}});var a=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};i.extend(i.expr.pseudos||i.expr[":"],{blank:function(t){return!a(""+i(t).val())},filled:function(t){var e=i(t).val();return e!==null&&!!a(""+e)},unchecked:function(t){return!i(t).prop("checked")}}),i.validator=function(t,e){this.settings=i.extend(!0,{},i.validator.defaults,t),this.currentForm=e,this.init()},i.validator.format=function(t,e){return arguments.length===1?function(){var r=i.makeArray(arguments);return r.unshift(t),i.validator.format.apply(this,r)}:(e===void 0||(arguments.length>2&&e.constructor!==Array&&(e=i.makeArray(arguments).slice(1)),e.constructor!==Array&&(e=[e]),i.each(e,function(r,s){t=t.replace(new RegExp("\\{"+r+"\\}","g"),function(){return s})})),t)},i.extend(i.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:i([]),errorLabelContainer:i([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){!this.checkable(t)&&(t.name in this.submitted||!this.optional(t))&&this.element(t)},onkeyup:function(t,e){var r=[16,17,18,20,35,36,37,38,39,40,45,144,225];e.which===9&&this.elementValue(t)===""||i.inArray(e.keyCode,r)!==-1||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,e,r){t.type==="radio"?this.findByName(t.name).addClass(e).removeClass(r):i(t).addClass(e).removeClass(r)},unhighlight:function(t,e,r){t.type==="radio"?this.findByName(t.name).removeClass(e).addClass(r):i(t).removeClass(e).addClass(r)}},setDefaults:function(t){i.extend(i.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:i.validator.format("Please enter no more than {0} characters."),minlength:i.validator.format("Please enter at least {0} characters."),rangelength:i.validator.format("Please enter a value between {0} and {1} characters long."),range:i.validator.format("Please enter a value between {0} and {1}."),max:i.validator.format("Please enter a value less than or equal to {0}."),min:i.validator.format("Please enter a value greater than or equal to {0}."),step:i.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=i(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||i(this.currentForm),this.containers=i(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t=this.currentForm,e=this.groups={},r;i.each(this.settings.groups,function(n,o){typeof o=="string"&&(o=o.split(/\s/)),i.each(o,function(h,u){e[u]=n})}),r=this.settings.rules,i.each(r,function(n,o){r[n]=i.validator.normalizeRule(o)});function s(n){var o=typeof i(this).attr("contenteditable")<"u"&&i(this).attr("contenteditable")!=="false";if(!this.form&&o&&(this.form=i(this).closest("form")[0],this.name=i(this).attr("name")),t===this.form){var h=i.data(this.form,"validator"),u="on"+n.type.replace(/^validate/,""),f=h.settings;f[u]&&!i(this).is(f.ignore)&&f[u].call(h,this,n)}}i(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",s).on("click.validate","select, option, [type='radio'], [type='checkbox']",s),this.settings.invalidHandler&&i(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),i.extend(this.submitted,this.errorMap),this.invalid=i.extend({},this.errorMap),this.valid()||i(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(t){var e=this.clean(t),r=this.validationTargetFor(e),s=this,n=!0,o,h;return r===void 0?delete this.invalid[e.name]:(this.prepareElement(r),this.currentElements=i(r),h=this.groups[r.name],h&&i.each(this.groups,function(u,f){f===h&&u!==r.name&&(e=s.validationTargetFor(s.clean(s.findByName(u))),e&&e.name in s.invalid&&(s.currentElements.push(e),n=s.check(e)&&n))}),o=this.check(r)!==!1,n=n&&o,o?this.invalid[r.name]=!1:this.invalid[r.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i(t).attr("aria-invalid",!o)),n},showErrors:function(t){if(t){var e=this;i.extend(this.errorMap,t),this.errorList=i.map(this.errorMap,function(r,s){return{message:r,element:e.findByName(s)[0]}}),this.successList=i.grep(this.successList,function(r){return!(r.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){i.fn.resetForm&&i(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0,r;for(r in t)t[r]!==void 0&&t[r]!==null&&t[r]!==!1&&e++;return e},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{i(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch{}},findLastActive:function(){var t=this.lastActive;return t&&i.grep(this.errorList,function(e){return e.element.name===t.name}).length===1&&t},elements:function(){var t=this,e={};return i(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var r=this.name||i(this).attr("name"),s=typeof i(this).attr("contenteditable")<"u"&&i(this).attr("contenteditable")!=="false";return!r&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),s&&(this.form=i(this).closest("form")[0],this.name=r),this.form!==t.currentForm||r in e||!t.objectLength(i(this).rules())?!1:(e[r]=!0,!0)})},clean:function(t){return i(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return i(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=i([]),this.toHide=i([])},reset:function(){this.resetInternals(),this.currentElements=i([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var e=i(t),r=t.type,s=typeof e.attr("contenteditable")<"u"&&e.attr("contenteditable")!=="false",n,o;return r==="radio"||r==="checkbox"?this.findByName(t.name).filter(":checked").val():r==="number"&&typeof t.validity<"u"?t.validity.badInput?"NaN":e.val():(s?n=e.text():n=e.val(),r==="file"?n.substr(0,12)==="C:\\fakepath\\"?n.substr(12):(o=n.lastIndexOf("/"),o>=0||(o=n.lastIndexOf("\\"),o>=0)?n.substr(o+1):n):typeof n=="string"?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var e=i(t).rules(),r=i.map(e,function(m,p){return p}).length,s=!1,n=this.elementValue(t),o,h,u,f;this.abortRequest(t),typeof e.normalizer=="function"?f=e.normalizer:typeof this.settings.normalizer=="function"&&(f=this.settings.normalizer),f&&(n=f.call(t,n),delete e.normalizer);for(h in e){u={method:h,parameters:e[h]};try{if(o=i.validator.methods[h].call(this,n,t,u.parameters),o==="dependency-mismatch"&&r===1){s=!0;continue}if(s=!1,o==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!o)return this.formatAndAdd(t,u),!1}catch(m){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+u.method+"' method.",m),m instanceof TypeError&&(m.message+=".  Exception occurred when checking element "+t.id+", check the '"+u.method+"' method."),m}}if(!s)return this.objectLength(e)&&this.successList.push(t),!0},customDataMessage:function(t,e){return i(t).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||i(t).data("msg")},customMessage:function(t,e){var r=this.settings.messages[t];return r&&(r.constructor===String?r:r[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(arguments[t]!==void 0)return arguments[t]},defaultMessage:function(t,e){typeof e=="string"&&(e={method:e});var r=this.findDefined(this.customMessage(t.name,e.method),this.customDataMessage(t,e.method),!this.settings.ignoreTitle&&t.title||void 0,i.validator.messages[e.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),s=/\$?\{(\d+)\}/g;return typeof r=="function"?r=r.call(this,e.parameters,t):s.test(r)&&(r=i.validator.format(r.replace(s,"{$1}"),e.parameters)),r},formatAndAdd:function(t,e){var r=this.defaultMessage(t,e);this.errorList.push({message:r,element:t,method:e.method}),this.errorMap[t.name]=r,this.submitted[t.name]=r},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,r;for(t=0;this.errorList[t];t++)r=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,r.element,this.settings.errorClass,this.settings.validClass),this.showLabel(r.element,r.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return i(this.errorList).map(function(){return this.element})},showLabel:function(t,e){var r,s,n,o,h=this.errorsFor(t),u=this.idOrName(t),f=i(t).attr("aria-describedby");h.length?(h.removeClass(this.settings.validClass).addClass(this.settings.errorClass),this.settings&&this.settings.escapeHtml?h.text(e||""):h.html(e||"")):(h=i("<"+this.settings.errorElement+">").attr("id",u+"-error").addClass(this.settings.errorClass),this.settings&&this.settings.escapeHtml?h.text(e||""):h.html(e||""),r=h,this.settings.wrapper&&(r=h.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(r):this.settings.errorPlacement?this.settings.errorPlacement.call(this,r,i(t)):r.insertAfter(t),h.is("label")?h.attr("for",u):h.parents("label[for='"+this.escapeCssMeta(u)+"']").length===0&&(n=h.attr("id"),f?f.match(new RegExp("\\b"+this.escapeCssMeta(n)+"\\b"))||(f+=" "+n):f=n,i(t).attr("aria-describedby",f),s=this.groups[t.name],s&&(o=this,i.each(o.groups,function(m,p){p===s&&i("[name='"+o.escapeCssMeta(m)+"']",o.currentForm).attr("aria-describedby",h.attr("id"))})))),!e&&this.settings.success&&(h.text(""),typeof this.settings.success=="string"?h.addClass(this.settings.success):this.settings.success(h,t)),this.toShow=this.toShow.add(h)},errorsFor:function(t){var e=this.escapeCssMeta(this.idOrName(t)),r=i(t).attr("aria-describedby"),s="label[for='"+e+"'], label[for='"+e+"'] *";return r&&(s=s+", #"+this.escapeCssMeta(r).replace(/\s+/g,", #")),this.errors().filter(s)},escapeCssMeta:function(t){return t===void 0?"":t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),i(t).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return i(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,e){switch(e.nodeName.toLowerCase()){case"select":return i("option:selected",e).length;case"input":if(this.checkable(e))return this.findByName(e.name).filter(":checked").length}return t.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{boolean:function(t){return t},string:function(t,e){return!!i(t,e.form).length},function:function(t,e){return t(e)}},optional:function(t){var e=this.elementValue(t);return!i.validator.methods.required.call(this,e,t)&&"dependency-mismatch"},elementAjaxPort:function(t){return"validate"+t.name},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,i(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i(t).removeClass(this.settings.pendingClass),e&&this.pendingRequest===0&&this.formSubmitted&&this.form()&&this.pendingRequest===0?(i(this.currentForm).trigger("submit"),this.submitButton&&i("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!e&&this.pendingRequest===0&&this.formSubmitted&&(i(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},abortRequest:function(t){var e;this.pending[t.name]&&(e=this.elementAjaxPort(t),i.ajaxAbort(e),this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i(t).removeClass(this.settings.pendingClass))},previousValue:function(t,e){return e=typeof e=="string"&&e||"remote",i.data(t,"previousValue")||i.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:e})})},destroy:function(){this.resetForm(),i(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,e){t.constructor===String?this.classRuleSettings[t]=e:i.extend(this.classRuleSettings,t)},classRules:function(t){var e={},r=i(t).attr("class");return r&&i.each(r.split(" "),function(){this in i.validator.classRuleSettings&&i.extend(e,i.validator.classRuleSettings[this])}),e},normalizeAttributeRule:function(t,e,r,s){/min|max|step/.test(r)&&(e===null||/number|range|text/.test(e))&&(s=Number(s),isNaN(s)&&(s=void 0)),s||s===0?t[r]=s:e===r&&e!=="range"&&(t[e==="date"?"dateISO":r]=!0)},attributeRules:function(t){var e={},r=i(t),s=t.getAttribute("type"),n,o;for(n in i.validator.methods)n==="required"?(o=t.getAttribute(n),o===""&&(o=!0),o=!!o):o=r.attr(n),this.normalizeAttributeRule(e,s,n,o);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(t){var e={},r=i(t),s=t.getAttribute("type"),n,o;for(n in i.validator.methods)o=r.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),o===""&&(o=!0),this.normalizeAttributeRule(e,s,n,o);return e},staticRules:function(t){var e={},r=i.data(t.form,"validator");return r.settings.rules&&(e=i.validator.normalizeRule(r.settings.rules[t.name])||{}),e},normalizeRules:function(t,e){return i.each(t,function(r,s){if(s===!1){delete t[r];return}if(s.param||s.depends){var n=!0;switch(typeof s.depends){case"string":n=!!i(s.depends,e.form).length;break;case"function":n=s.depends.call(e,e);break}n?t[r]=s.param!==void 0?s.param:!0:(i.data(e.form,"validator").resetElements(i(e)),delete t[r])}}),i.each(t,function(r,s){t[r]=typeof s=="function"&&r!=="normalizer"?s(e):s}),i.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),i.each(["rangelength","range"],function(){var r;t[this]&&(Array.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:typeof t[this]=="string"&&(r=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(r[0]),Number(r[1])]))}),i.validator.autoCreateRanges&&(t.min!=null&&t.max!=null&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength!=null&&t.maxlength!=null&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if(typeof t=="string"){var e={};i.each(t.split(/\s/),function(){e[this]=!0}),t=e}return t},addMethod:function(t,e,r){i.validator.methods[t]=e,i.validator.messages[t]=r!==void 0?r:i.validator.messages[t],e.length<3&&i.validator.addClassRules(t,i.validator.normalizeRule(t))},methods:{required:function(t,e,r){if(!this.depend(r,e))return"dependency-mismatch";if(e.nodeName.toLowerCase()==="select"){var s=i(e).val();return s&&s.length>0}return this.checkable(e)?this.getLength(t,e)>0:t!=null&&t.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:function(){var t=!1;return function(e,r){return t||(t=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(r)||!/Invalid|NaN/.test(new Date(e).toString())}}(),dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(t,e,r){var s=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||s>=r},maxlength:function(t,e,r){var s=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||s<=r},rangelength:function(t,e,r){var s=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||s>=r[0]&&s<=r[1]},min:function(t,e,r){return this.optional(e)||t>=r},max:function(t,e,r){return this.optional(e)||t<=r},range:function(t,e,r){return this.optional(e)||t>=r[0]&&t<=r[1]},step:function(t,e,r){var s=i(e).attr("type"),n="Step attribute on input type "+s+" is not supported.",o=["text","number","range"],h=new RegExp("\\b"+s+"\\b"),u=s&&!h.test(o.join()),f=function(b){var _=(""+b).match(/(?:\.(\d+))?$/);return _&&_[1]?_[1].length:0},m=function(b){return Math.round(b*Math.pow(10,g))},p=!0,g;if(u)throw new Error(n);return g=f(r),(f(t)>g||m(t)%m(r)!==0)&&(p=!1),this.optional(e)||p},equalTo:function(t,e,r){var s=i(r);return this.settings.onfocusout&&s.not(".validate-equalTo-blur").length&&s.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){i(e).valid()}),t===s.val()},remote:function(t,e,r,s){if(this.optional(e))return"dependency-mismatch";s=typeof s=="string"&&s||"remote";var n=this.previousValue(e,s),o,h,u;return this.settings.messages[e.name]||(this.settings.messages[e.name]={}),n.originalMessage=n.originalMessage||this.settings.messages[e.name][s],this.settings.messages[e.name][s]=n.message,r=typeof r=="string"&&{url:r}||r,u=i.param(i.extend({data:t},r.data)),n.old===u?n.valid:(n.old=u,o=this,this.startRequest(e),h={},h[e.name]=t,i.ajax(i.extend(!0,{mode:"abort",port:this.elementAjaxPort(e),dataType:"json",data:h,context:o.currentForm,success:function(f){var m=f===!0||f==="true",p,g,b;o.settings.messages[e.name][s]=n.originalMessage,m?(b=o.formSubmitted,o.toHide=o.errorsFor(e),o.formSubmitted=b,o.successList.push(e),o.invalid[e.name]=!1,o.showErrors()):(p={},g=f||o.defaultMessage(e,{method:s,parameters:t}),p[e.name]=n.message=g,o.invalid[e.name]=!0,o.showErrors(p)),n.valid=m,o.stopRequest(e,m)}},r)),"pending")}}});var c={},d;return i.ajaxPrefilter?i.ajaxPrefilter(function(t,e,r){var s=t.port;t.mode==="abort"&&(i.ajaxAbort(s),c[s]=r)}):(d=i.ajax,i.ajax=function(t){var e=("mode"in t?t:i.ajaxSettings).mode,r=("port"in t?t:i.ajaxSettings).port;return e==="abort"?(i.ajaxAbort(r),c[r]=d.apply(this,arguments),c[r]):d.apply(this,arguments)}),i.ajaxAbort=function(t){c[t]&&(c[t].abort(),delete c[t])},i})})(A);document.addEventListener("DOMContentLoaded",()=>{class v{header;footer;food;input;inputBtn;tabsBtn;form;tabsSlider;dropDown;calendar;DropPeople;formBtn;stars;inputForm;constructor(){this.header=new w,this.footer=new C,this.food=new L,this.dropDown=new D,this.calendar=new S,this.DropPeople=new k(".form__drop-guests"),this.stars=l(".form__stars-one-star"),this.input=l("#adviser-inp"),this.inputBtn=l(".adviser__btn"),this.inputForm=l("#adviser__form"),this.tabsBtn=l(".form__tabs"),this.form=l(".form"),this.formBtn=this.form.find(".form__btn"),this.tabsSlider=l(".form__tabs-slider"),this.inputMask(".adviser__input"),this.inputMask(".form__phone"),this.validateTel("#adviser__form"),this.tabs(),this.points(),this.stopReload(),this.clickFormBtn(),this.SelectStars(),this.validateMainFormOne()}SelectStars(){const a=this;this.stars.each((d,t)=>{t.addEventListener("click",()=>{c(Number(t.getAttribute("data-num")))})});function c(d){a.stars.each((t,e)=>{t<d?e.classList.add("form__stars-one-star_active"):e.classList.remove("form__stars-one-star_active")})}}stopReload(){this.form.on("submit",a=>{a.preventDefault()})}tabs(){const a=document.querySelector(".form__tab-one"),c=document.querySelector(".form__tab-two"),d=document.querySelector(".form__tab-three");this.tabsBtn.each((t,e)=>{e.addEventListener("click",r=>{a?.contains(r.target)?this.points(1):c?.contains(r.target)?this.points(2):d?.contains(r.target)&&this.points(3)})})}points(a=1){console.log(a);const c=document.querySelector(".form__tab-one"),d=document.querySelector(".form__tab-two"),t=document.querySelector(".form__tab-three"),e=!l(".form").is(".form_erroe-one"),r=!l(".form").is(".form_erroe-two");a===1?(t?.classList.remove("form__tab_active"),d?.classList.remove("form__tab_active"),c?.classList.add("form__tab_active"),this.form.removeClass("form_two-state form_three-state"),this.form.addClass("form_one-state"),this.tabsSlider.css({left:"0"})):a===2&&e?(t?.classList.remove("form__tab_active"),c?.classList.remove("form__tab_active"),d?.classList.add("form__tab_active"),this.form.removeClass("form_one-state form_three-state"),this.form.addClass("form_two-state"),this.tabsSlider.css({left:"33.3%"})):a===3&&e&&r&&(c?.classList.remove("form__tab_active"),d?.classList.remove("form__tab_active"),t?.classList.add("form__tab_active"),this.form.removeClass("form_one-state form_two-state"),this.form.addClass("form_three-state"),this.tabsSlider.css({left:"68%"}))}clickFormBtn(){this.formBtn.on("click",()=>{l(".form").is(".form_one-state")})}addError(a){}clickBtn(){alert("В скором времени вам позвонят."),this.input.val(""),l(".adviser__input").removeClass("adviser__input_active")}inputMask(a){const c=l(a),d=c.find("input");function t(){const r=d.val()?.length;r&&r>0?c.addClass("input_active"):c.removeClass("input_active")}function e(){const r=String(d.val()).replace(/\s/g,""),s=r.length,n=s-1,o=r[n];!/[0-9]/.test(o)||s>10?d.val(String(d.val()).slice(0,-1)):s<3?d.val(r):s>=3&&s<10&&d.val(`${r.slice(0,3)} ${r.slice(3,6)} ${r.slice(6,8)} ${r.slice(8,10)}`.trim())}d.on("input",()=>{e(),t()})}validateTel(a){l(a).validate({rules:{tel:{minlength:13}},messages:{tel:{minlength:"Номер должен состоять из 10 цифр"}},highlight:function(d,t,e){l(d).addClass("border-error").removeClass(e)},unhighlight:function(d,t,e){l(d).addClass(e).removeClass("border-error")},submitHandler(d){l(a).find(".input-row").removeClass("input_active"),console.log(l(a)),alert("Мы скоро с вами свяжемся"),l(d).trigger("reset")}})}validateMainFormOne(){function a(){console.log(12),l(".drop-country__county").html()==="Страна"&&l(".drop-country").addClass("drop-country_error")}l(".form__btn-first-state").on("click",a)}}new v});
